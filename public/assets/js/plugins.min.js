!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return po.apply(null,arguments)}function t(e){po=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t;for(t in e)return!1;return!0}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var i in t)a(t,i)&&(e[i]=t[i]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,i,n){return gi(e,t,i,n,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function h(e){return null==e._pf&&(e._pf=u()),e._pf}function d(e){if(null==e._isValid){var t=h(e),i=mo.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function f(e){var t=c(0/0);return null!=e?l(h(t),e):h(t).userInvalidated=!0,t}function p(e){return void 0===e}function m(e,t){var i,n,o;if(p(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),p(t._i)||(e._i=t._i),p(t._f)||(e._f=t._f),p(t._l)||(e._l=t._l),p(t._strict)||(e._strict=t._strict),p(t._tzm)||(e._tzm=t._tzm),p(t._isUTC)||(e._isUTC=t._isUTC),p(t._offset)||(e._offset=t._offset),p(t._pf)||(e._pf=h(t)),p(t._locale)||(e._locale=t._locale),go.length>0)for(i in go)n=go[i],o=t[n],p(o)||(e[n]=o);return e}function g(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():0/0),vo===!1&&(vo=!0,e.updateOffset(this),vo=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function b(e){return 0>e?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=b(t)),i}function y(e,t,i){var n,o=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),r=0;for(n=0;o>n;n++)(i&&e[n]!==t[n]||!i&&_(e[n])!==_(t[n]))&&r++;return r+s}function w(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function x(t,i){var n=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),n){for(var o,s=[],r=0;r<arguments.length;r++){if(o="","object"==typeof arguments[r]){o+="\n["+r+"] ";for(var a in arguments[0])o+=a+": "+arguments[0][a]+", ";o=o.slice(0,-2)}else o=arguments[r];s.push(o)}w(t+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function k(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),bo[t]||(w(i),bo[t]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e){var t,i;for(i in e)t=e[i],C(t)?this[i]=t:this["_"+i]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function D(e,t){var i,o=l({},e);for(i in t)a(t,i)&&(n(e[i])&&n(t[i])?(o[i]={},l(o[i],e[i]),l(o[i],t[i])):null!=t[i]?o[i]=t[i]:delete o[i]);for(i in e)a(e,i)&&!a(t,i)&&n(e[i])&&(o[i]=l({},o[i]));return o}function T(e){null!=e&&this.set(e)}function I(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return C(n)?n.call(t,i):n}function P(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function A(){return this._invalidDate}function M(e){return this._ordinal.replace("%d",e)}function E(e,t,i,n){var o=this._relativeTime[i];return C(o)?o(e,t,i,n):o.replace(/%d/i,e)}function F(e,t){var i=this._relativeTime[e>0?"future":"past"];return C(i)?i(t):i.replace(/%s/i,t)}function R(e,t){var i=e.toLowerCase();To[i]=To[i+"s"]=To[t]=e}function O(e){return"string"==typeof e?To[e]||To[e.toLowerCase()]:void 0}function H(e){var t,i,n={};for(i in e)a(e,i)&&(t=O(i),t&&(n[t]=e[i]));return n}function L(e,t){Io[e]=t}function z(e){var t=[];for(var i in e)t.push({unit:i,priority:Io[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}function N(t,i){return function(n){return null!=n?(j(this,t,n),e.updateOffset(this,i),this):B(this,t)}}function B(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():0/0}function j(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function W(e){return e=O(e),C(this[e])?this[e]():this}function $(e,t){if("object"==typeof e){e=H(e);for(var i=z(e),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit])}else if(e=O(e),C(this[e]))return this[e](t);return this}function U(e,t,i){var n=""+Math.abs(e),o=t-n.length,s=e>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function Y(e,t,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(Eo[e]=o),t&&(Eo[t[0]]=function(){return U(o.apply(this,arguments),t[1],t[2])}),i&&(Eo[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function V(e){var t,i,n=e.match(Po);for(t=0,i=n.length;i>t;t++)n[t]=Eo[n[t]]?Eo[n[t]]:q(n[t]);return function(t){var o,s="";for(o=0;i>o;o++)s+=n[o]instanceof Function?n[o].call(t,e):n[o];return s}}function G(e,t){return e.isValid()?(t=K(t,e.localeData()),Mo[t]=Mo[t]||V(t),Mo[t](e)):e.localeData().invalidDate()}function K(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Ao.lastIndex=0;n>=0&&Ao.test(e);)e=e.replace(Ao,i),Ao.lastIndex=0,n-=1;return e}function Z(e,t,i){Zo[e]=C(t)?t:function(e){return e&&i?i:t}}function X(e,t){return a(Zo,e)?Zo[e](t._strict,t._locale):new RegExp(J(e))}function J(e){return Q(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,o){return t||i||n||o}))}function Q(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function et(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(n=function(e,i){i[t]=_(e)}),i=0;i<e.length;i++)Xo[e[i]]=n}function tt(e,t){et(e,function(e,i,n,o){n._w=n._w||{},t(e,n._w,n,o)})}function it(e,t,i){null!=t&&a(Xo,e)&&Xo[e](t,i._a,i,e)}function nt(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function ot(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||as).test(t)?"format":"standalone"][e.month()]:this._months}function st(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[as.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function rt(e,t,i){var n,o,s,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;12>n;++n)s=c([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return i?"MMM"===t?(o=yo.call(this._shortMonthsParse,r),-1!==o?o:null):(o=yo.call(this._longMonthsParse,r),-1!==o?o:null):"MMM"===t?(o=yo.call(this._shortMonthsParse,r),-1!==o?o:(o=yo.call(this._longMonthsParse,r),-1!==o?o:null)):(o=yo.call(this._longMonthsParse,r),-1!==o?o:(o=yo.call(this._shortMonthsParse,r),-1!==o?o:null))}function at(e,t,i){var n,o,s;if(this._monthsParseExact)return rt.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(o=c([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function lt(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if(t=e.localeData().monthsParse(t),"number"!=typeof t)return e;return i=Math.min(e.date(),nt(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function ct(t){return null!=t?(lt(this,t),e.updateOffset(this,!0),this):B(this,"Month")}function ut(){return nt(this.year(),this.month())}function ht(e){return this._monthsParseExact?(a(this,"_monthsRegex")||ft.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=us),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||ft.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=hs),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ft(){function e(e,t){return t.length-e.length}var t,i,n=[],o=[],s=[];for(t=0;12>t;t++)i=c([2e3,t]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),s.push(this.months(i,"")),s.push(this.monthsShort(i,""));for(n.sort(e),o.sort(e),s.sort(e),t=0;12>t;t++)n[t]=Q(n[t]),o[t]=Q(o[t]);for(t=0;24>t;t++)s[t]=Q(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function pt(e){return mt(e)?366:365}function mt(e){return e%4===0&&e%100!==0||e%400===0}function gt(){return mt(this.year())}function vt(e,t,i,n,o,s,r){var a=new Date(e,t,i,n,o,s,r);return 100>e&&e>=0&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function bt(e){var t=new Date(Date.UTC.apply(null,arguments));return 100>e&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function _t(e,t,i){var n=7+t-i,o=(7+bt(e,0,n).getUTCDay()-t)%7;return-o+n-1}function yt(e,t,i,n,o){var s,r,a=(7+i-n)%7,l=_t(e,n,o),c=1+7*(t-1)+a+l;return 0>=c?(s=e-1,r=pt(s)+c):c>pt(e)?(s=e+1,r=c-pt(e)):(s=e,r=c),{year:s,dayOfYear:r}}function wt(e,t,i){var n,o,s=_t(e.year(),t,i),r=Math.floor((e.dayOfYear()-s-1)/7)+1;return 1>r?(o=e.year()-1,n=r+xt(o,t,i)):r>xt(e.year(),t,i)?(n=r-xt(e.year(),t,i),o=e.year()+1):(o=e.year(),n=r),{week:n,year:o}}function xt(e,t,i){var n=_t(e,t,i),o=_t(e+1,t,i);return(pt(e)-n+o)/7}function kt(e){return wt(e,this._week.dow,this._week.doy).week}function Ct(){return this._week.dow}function St(){return this._week.doy}function Dt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Tt(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function It(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Pt(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function At(e,t){return e?i(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function Mt(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Et(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ft(e,t,i){var n,o,s,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;7>n;++n)s=c([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return i?"dddd"===t?(o=yo.call(this._weekdaysParse,r),-1!==o?o:null):"ddd"===t?(o=yo.call(this._shortWeekdaysParse,r),-1!==o?o:null):(o=yo.call(this._minWeekdaysParse,r),-1!==o?o:null):"dddd"===t?(o=yo.call(this._weekdaysParse,r),-1!==o?o:(o=yo.call(this._shortWeekdaysParse,r),-1!==o?o:(o=yo.call(this._minWeekdaysParse,r),-1!==o?o:null))):"ddd"===t?(o=yo.call(this._shortWeekdaysParse,r),-1!==o?o:(o=yo.call(this._weekdaysParse,r),-1!==o?o:(o=yo.call(this._minWeekdaysParse,r),-1!==o?o:null))):(o=yo.call(this._minWeekdaysParse,r),-1!==o?o:(o=yo.call(this._weekdaysParse,r),-1!==o?o:(o=yo.call(this._shortWeekdaysParse,r),-1!==o?o:null)))}function Rt(e,t,i){var n,o,s;if(this._weekdaysParseExact)return Ft.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(o=c([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function Ot(e){if(!this.isValid())return null!=e?this:0/0;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=It(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:0/0;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Lt(e){if(!this.isValid())return null!=e?this:0/0;if(null!=e){var t=Pt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function zt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||jt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=vs),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Nt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||jt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bs),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Bt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||jt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=_s),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function jt(){function e(e,t){return t.length-e.length}var t,i,n,o,s,r=[],a=[],l=[],u=[];for(t=0;7>t;t++)i=c([2e3,1]).day(t),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),s=this.weekdays(i,""),r.push(n),a.push(o),l.push(s),u.push(n),u.push(o),u.push(s);for(r.sort(e),a.sort(e),l.sort(e),u.sort(e),t=0;7>t;t++)a[t]=Q(a[t]),l[t]=Q(l[t]),u[t]=Q(u[t]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Wt(){return this.hours()%12||12}function $t(){return this.hours()||24}function Ut(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Yt(e,t){return t._meridiemParse}function qt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Vt(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function Gt(e){return e?e.toLowerCase().replace("_","-"):e}function Kt(e){for(var t,i,n,o,s=0;s<e.length;){for(o=Gt(e[s]).split("-"),t=o.length,i=Gt(e[s+1]),i=i?i.split("-"):null;t>0;){if(n=Zt(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&y(o,i,!0)>=t-1)break;t--}s++}return null}function Zt(e){var t=null;if(!Cs[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=ys._abbr,require("./locale/"+e),Xt(t)}catch(i){}return Cs[e]}function Xt(e,t){var i;return e&&(i=p(t)?ei(e):Jt(e,t),i&&(ys=i)),ys._abbr}function Jt(e,t){if(null!==t){var i=ks;return t.abbr=e,null!=Cs[e]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Cs[e]._config):null!=t.parentLocale&&(null!=Cs[t.parentLocale]?i=Cs[t.parentLocale]._config:k("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Cs[e]=new T(D(i,t)),Xt(e),Cs[e]}return delete Cs[e],null}function Qt(e,t){if(null!=t){var i,n=ks;null!=Cs[e]&&(n=Cs[e]._config),t=D(n,t),i=new T(t),i.parentLocale=Cs[e],Cs[e]=i,Xt(e)}else null!=Cs[e]&&(null!=Cs[e].parentLocale?Cs[e]=Cs[e].parentLocale:null!=Cs[e]&&delete Cs[e]);return Cs[e]}function ei(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ys;if(!i(e)){if(t=Zt(e))return t;e=[e]}return Kt(e)}function ti(){return _o(Cs)}function ii(e){var t,i=e._a;return i&&-2===h(e).overflow&&(t=i[Qo]<0||i[Qo]>11?Qo:i[es]<1||i[es]>nt(i[Jo],i[Qo])?es:i[ts]<0||i[ts]>24||24===i[ts]&&(0!==i[is]||0!==i[ns]||0!==i[os])?ts:i[is]<0||i[is]>59?is:i[ns]<0||i[ns]>59?ns:i[os]<0||i[os]>999?os:-1,h(e)._overflowDayOfYear&&(Jo>t||t>es)&&(t=es),h(e)._overflowWeeks&&-1===t&&(t=ss),h(e)._overflowWeekday&&-1===t&&(t=rs),h(e).overflow=t),e}function ni(e){var t,i,n,o,s,r,a=e._i,l=Ss.exec(a)||Ds.exec(a);if(l){for(h(e).iso=!0,t=0,i=Is.length;i>t;t++)if(Is[t][1].exec(l[1])){o=Is[t][0],n=Is[t][2]!==!1;break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,i=Ps.length;i>t;t++)if(Ps[t][1].exec(l[3])){s=(l[2]||" ")+Ps[t][0];break}if(null==s)return void(e._isValid=!1)}if(!n&&null!=s)return void(e._isValid=!1);if(l[4]){if(!Ts.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=o+(s||"")+(r||""),ci(e)}else e._isValid=!1}function oi(t){var i=As.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(ni(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function si(e,t,i){return null!=e?e:null!=t?t:i}function ri(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function ai(e){var t,i,n,o,s=[];if(!e._d){for(n=ri(e),e._w&&null==e._a[es]&&null==e._a[Qo]&&li(e),e._dayOfYear&&(o=si(e._a[Jo],n[Jo]),e._dayOfYear>pt(o)&&(h(e)._overflowDayOfYear=!0),i=bt(o,0,e._dayOfYear),e._a[Qo]=i.getUTCMonth(),e._a[es]=i.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=s[t]=n[t];for(;7>t;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ts]&&0===e._a[is]&&0===e._a[ns]&&0===e._a[os]&&(e._nextDay=!0,e._a[ts]=0),e._d=(e._useUTC?bt:vt).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ts]=24)}}function li(e){var t,i,n,o,s,r,a,l;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,r=4,i=si(t.GG,e._a[Jo],wt(vi(),1,4).year),n=si(t.W,1),o=si(t.E,1),(1>o||o>7)&&(l=!0)):(s=e._locale._week.dow,r=e._locale._week.doy,i=si(t.gg,e._a[Jo],wt(vi(),s,r).year),n=si(t.w,1),null!=t.d?(o=t.d,(0>o||o>6)&&(l=!0)):null!=t.e?(o=t.e+s,(t.e<0||t.e>6)&&(l=!0)):o=s),1>n||n>xt(i,s,r)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(a=yt(i,n,o,s,r),e._a[Jo]=a.year,e._dayOfYear=a.dayOfYear)}function ci(t){if(t._f===e.ISO_8601)return void ni(t);t._a=[],h(t).empty=!0;var i,n,o,s,r,a=""+t._i,l=a.length,c=0;for(o=K(t._f,t._locale).match(Po)||[],i=0;i<o.length;i++)s=o[i],n=(a.match(X(s,t))||[])[0],n&&(r=a.substr(0,a.indexOf(n)),r.length>0&&h(t).unusedInput.push(r),a=a.slice(a.indexOf(n)+n.length),c+=n.length),Eo[s]?(n?h(t).empty=!1:h(t).unusedTokens.push(s),it(s,n,t)):t._strict&&!n&&h(t).unusedTokens.push(s);h(t).charsLeftOver=l-c,a.length>0&&h(t).unusedInput.push(a),t._a[ts]<=12&&h(t).bigHour===!0&&t._a[ts]>0&&(h(t).bigHour=void 0),h(t).parsedDateParts=t._a.slice(0),h(t).meridiem=t._meridiem,t._a[ts]=ui(t._locale,t._a[ts],t._meridiem),ai(t),ii(t)}function ui(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&12>t&&(t+=12),n||12!==t||(t=0),t):t}function hi(e){var t,i,n,o,s;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(0/0));for(o=0;o<e._f.length;o++)s=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],ci(t),d(t)&&(s+=h(t).charsLeftOver,s+=10*h(t).unusedTokens.length,h(t).score=s,(null==n||n>s)&&(n=s,i=t));l(e,i||t)}function di(e){if(!e._d){var t=H(e._i);e._a=r([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ai(e)}}function fi(e){var t=new g(ii(pi(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function pi(e){var t=e._i,n=e._f;return e._locale=e._locale||ei(e._l),null===t||void 0===n&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new g(ii(t)):(i(n)?hi(e):s(t)?e._d=t:n?ci(e):mi(e),d(e)||(e._d=null),e))}function mi(t){var n=t._i;void 0===n?t._d=new Date(e.now()):s(n)?t._d=new Date(n.valueOf()):"string"==typeof n?oi(t):i(n)?(t._a=r(n.slice(0),function(e){return parseInt(e,10)}),ai(t)):"object"==typeof n?di(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function gi(e,t,s,r,a){var l={};return"boolean"==typeof s&&(r=s,s=void 0),(n(e)&&o(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=s,l._i=e,l._f=t,l._strict=r,fi(l)}function vi(e,t,i,n){return gi(e,t,i,n,!1)}function bi(e,t){var n,o;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return vi();for(n=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](n)||(n=t[o]);return n}function _i(){var e=[].slice.call(arguments,0);return bi("isBefore",e)}function yi(){var e=[].slice.call(arguments,0);return bi("isAfter",e)}function wi(e){var t=H(e),i=t.year||0,n=t.quarter||0,o=t.month||0,s=t.week||0,r=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+r+7*s,this._months=+o+3*n+12*i,this._data={},this._locale=ei(),this._bubble()}function xi(e){return e instanceof wi}function ki(e){return 0>e?-1*Math.round(-1*e):Math.round(e)}function Ci(e,t){Y(e,0,0,function(){var e=this.utcOffset(),i="+";return 0>e&&(e=-e,i="-"),i+U(~~(e/60),2)+t+U(~~e%60,2)})}function Si(e,t){var i=(t||"").match(e)||[],n=i[i.length-1]||[],o=(n+"").match(Rs)||["-",0,0],s=+(60*o[1])+_(o[2]);return"+"===o[0]?s:-s}function Di(t,i){var n,o;return i._isUTC?(n=i.clone(),o=(v(t)||s(t)?t.valueOf():vi(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),e.updateOffset(n,!1),n):vi(t).local()}function Ti(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ii(t,i){var n,o=this._offset||0;return this.isValid()?null!=t?("string"==typeof t?t=Si(Vo,t):Math.abs(t)<16&&(t=60*t),!this._isUTC&&i&&(n=Ti(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==t&&(!i||this._changeInProgress?Ui(this,Ni(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Ti(this):null!=t?this:0/0}function Pi(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ai(e){return this.utcOffset(0,e)}function Mi(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ti(this),"m")),this}function Ei(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=Si(qo,this._i);0===e?this.utcOffset(0,!0):this.utcOffset(Si(qo,this._i))}return this}function Fi(e){return this.isValid()?(e=e?vi(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Ri(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Oi(){if(!p(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),e=pi(e),e._a){var t=e._isUTC?c(e._a):vi(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Hi(){return this.isValid()?!this._isUTC:!1}function Li(){return this.isValid()?this._isUTC:!1}function zi(){return this.isValid()?this._isUTC&&0===this._offset:!1}function Ni(e,t){var i,n,o,s=e,r=null;return xi(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(r=Os.exec(e))?(i="-"===r[1]?-1:1,s={y:0,d:_(r[es])*i,h:_(r[ts])*i,m:_(r[is])*i,s:_(r[ns])*i,ms:_(ki(1e3*r[os]))*i}):(r=Hs.exec(e))?(i="-"===r[1]?-1:1,s={y:Bi(r[2],i),M:Bi(r[3],i),w:Bi(r[4],i),d:Bi(r[5],i),h:Bi(r[6],i),m:Bi(r[7],i),s:Bi(r[8],i)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(o=Wi(vi(s.from),vi(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),n=new wi(s),xi(e)&&a(e,"_locale")&&(n._locale=e._locale),n}function Bi(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function ji(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Wi(e,t){var i;return e.isValid()&&t.isValid()?(t=Di(t,e),e.isBefore(t)?i=ji(e,t):(i=ji(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function $i(e,t){return function(i,n){var o,s;return null===n||isNaN(+n)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=i,i=n,n=s),i="string"==typeof i?+i:i,o=Ni(i,n),Ui(this,o,e),this}}function Ui(t,i,n,o){var s=i._milliseconds,r=ki(i._days),a=ki(i._months);t.isValid()&&(o=null==o?!0:o,s&&t._d.setTime(t._d.valueOf()+s*n),r&&j(t,"Date",B(t,"Date")+r*n),a&&lt(t,B(t,"Month")+a*n),o&&e.updateOffset(t,r||a))}function Yi(e,t){var i=e.diff(t,"days",!0);return-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse"}function qi(t,i){var n=t||vi(),o=Di(n,this).startOf("day"),s=e.calendarFormat(this,o)||"sameElse",r=i&&(C(i[s])?i[s].call(this,n):i[s]);return this.format(r||this.localeData().calendar(s,this,vi(n)))}function Vi(){return new g(this)}function Gi(e,t){var i=v(e)?e:vi(e);return this.isValid()&&i.isValid()?(t=O(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf()):!1}function Ki(e,t){var i=v(e)?e:vi(e);return this.isValid()&&i.isValid()?(t=O(p(t)?"millisecond":t),"millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf()):!1}function Zi(e,t,i,n){return n=n||"()",("("===n[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))}function Xi(e,t){var i,n=v(e)?e:vi(e);return this.isValid()&&n.isValid()?(t=O(t||"millisecond"),"millisecond"===t?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf())):!1}function Ji(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qi(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function en(e,t,i){var n,o,s,r;return this.isValid()?(n=Di(e,this),n.isValid()?(o=6e4*(n.utcOffset()-this.utcOffset()),t=O(t),"year"===t||"month"===t||"quarter"===t?(r=tn(this,n),"quarter"===t?r/=3:"year"===t&&(r/=12)):(s=this-n,r="second"===t?s/1e3:"minute"===t?s/6e4:"hour"===t?s/36e5:"day"===t?(s-o)/864e5:"week"===t?(s-o)/6048e5:s),i?r:b(r)):0/0):0/0}function tn(e,t){var i,n,o=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(o,"months");return 0>t-s?(i=e.clone().add(o-1,"months"),n=(t-s)/(s-i)):(i=e.clone().add(o+1,"months"),n=(t-s)/(i-s)),-(o+n)||0}function nn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function on(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():G(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function sn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=G(this,t);return this.localeData().postformat(i)}function rn(e,t){return this.isValid()&&(v(e)&&e.isValid()||vi(e).isValid())?Ni({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function an(e){return this.from(vi(),e)}function ln(e,t){return this.isValid()&&(v(e)&&e.isValid()||vi(e).isValid())?Ni({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function cn(e){return this.to(vi(),e)}function un(e){var t;return void 0===e?this._locale._abbr:(t=ei(e),null!=t&&(this._locale=t),this)}function hn(){return this._locale}function dn(e){switch(e=O(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function fn(e){return e=O(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function pn(){return this._d.valueOf()-6e4*(this._offset||0)}function mn(){return Math.floor(this.valueOf()/1e3)}function gn(){return new Date(this.valueOf())}function vn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function bn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function _n(){return this.isValid()?this.toISOString():null}function yn(){return d(this)}function wn(){return l({},h(this))}function xn(){return h(this).overflow}function kn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Cn(e,t){Y(0,[e,e.length],0,t)}function Sn(e){return Pn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Dn(e){return Pn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Tn(){return xt(this.year(),1,4)}function In(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function Pn(e,t,i,n,o){var s;return null==e?wt(this,n,o).year:(s=xt(e,n,o),t>s&&(t=s),An.call(this,e,t,i,n,o))}function An(e,t,i,n,o){var s=yt(e,t,i,n,o),r=bt(s.year,0,s.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Mn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function En(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Fn(e,t){t[os]=_(1e3*("0."+e))}function Rn(){return this._isUTC?"UTC":""}function On(){return this._isUTC?"Coordinated Universal Time":""}function Hn(e){return vi(1e3*e)}function Ln(){return vi.apply(null,arguments).parseZone()}function zn(e){return e}function Nn(e,t,i,n){var o=ei(),s=c().set(n,t);return o[i](s,e)}function Bn(e,t,i){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return Nn(e,t,i,"month");var n,o=[];for(n=0;12>n;n++)o[n]=Nn(e,n,i,"month");return o}function jn(e,t,i,n){"boolean"==typeof e?("number"==typeof t&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,"number"==typeof t&&(i=t,t=void 0),t=t||"");var o=ei(),s=e?o._week.dow:0;if(null!=i)return Nn(t,(i+s)%7,n,"day");var r,a=[];for(r=0;7>r;r++)a[r]=Nn(t,(r+s)%7,n,"day");return a}function Wn(e,t){return Bn(e,t,"months")}function $n(e,t){return Bn(e,t,"monthsShort")}function Un(e,t,i){return jn(e,t,i,"weekdays")}function Yn(e,t,i){return jn(e,t,i,"weekdaysShort")}function qn(e,t,i){return jn(e,t,i,"weekdaysMin")}function Vn(){var e=this._data;
return this._milliseconds=Gs(this._milliseconds),this._days=Gs(this._days),this._months=Gs(this._months),e.milliseconds=Gs(e.milliseconds),e.seconds=Gs(e.seconds),e.minutes=Gs(e.minutes),e.hours=Gs(e.hours),e.months=Gs(e.months),e.years=Gs(e.years),this}function Gn(e,t,i,n){var o=Ni(t,i);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function Kn(e,t){return Gn(this,e,t,1)}function Zn(e,t){return Gn(this,e,t,-1)}function Xn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Jn(){var e,t,i,n,o,s=this._milliseconds,r=this._days,a=this._months,l=this._data;return s>=0&&r>=0&&a>=0||0>=s&&0>=r&&0>=a||(s+=864e5*Xn(eo(a)+r),r=0,a=0),l.milliseconds=s%1e3,e=b(s/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,i=b(t/60),l.hours=i%24,r+=b(i/24),o=b(Qn(r)),a+=o,r-=Xn(eo(o)),n=b(a/12),a%=12,l.days=r,l.months=a,l.years=n,this}function Qn(e){return 4800*e/146097}function eo(e){return 146097*e/4800}function to(e){var t,i,n=this._milliseconds;if(e=O(e),"month"===e||"year"===e)return t=this._days+n/864e5,i=this._months+Qn(t),"month"===e?i:i/12;switch(t=this._days+Math.round(eo(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function io(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function no(e){return function(){return this.as(e)}}function oo(e){return e=O(e),this[e+"s"]()}function so(e){return function(){return this._data[e]}}function ro(){return b(this.days()/7)}function ao(e,t,i,n,o){return o.relativeTime(t||1,!!i,e,n)}function lo(e,t,i){var n=Ni(e).abs(),o=ur(n.as("s")),s=ur(n.as("m")),r=ur(n.as("h")),a=ur(n.as("d")),l=ur(n.as("M")),c=ur(n.as("y")),u=o<hr.s&&["s",o]||1>=s&&["m"]||s<hr.m&&["mm",s]||1>=r&&["h"]||r<hr.h&&["hh",r]||1>=a&&["d"]||a<hr.d&&["dd",a]||1>=l&&["M"]||l<hr.M&&["MM",l]||1>=c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=i,ao.apply(null,u)}function co(e){return void 0===e?ur:"function"==typeof e?(ur=e,!0):!1}function uo(e,t){return void 0===hr[e]?!1:void 0===t?hr[e]:(hr[e]=t,!0)}function ho(e){var t=this.localeData(),i=lo(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function fo(){var e,t,i,n=dr(this._milliseconds)/1e3,o=dr(this._days),s=dr(this._months);e=b(n/60),t=b(e/60),n%=60,e%=60,i=b(s/12),s%=12;var r=i,a=s,l=o,c=t,u=e,h=n,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(c||u||h?"T":"")+(c?c+"H":"")+(u?u+"M":"")+(h?h+"S":""):"P0D"}var po,mo;mo=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;i>n;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var go=e.momentProperties=[],vo=!1,bo={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var _o;_o=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)a(e,t)&&i.push(t);return i};var yo,wo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},xo={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},ko="Invalid date",Co="%d",So=/\d{1,2}/,Do={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},To={},Io={},Po=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ao=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mo={},Eo={},Fo=/\d/,Ro=/\d\d/,Oo=/\d{3}/,Ho=/\d{4}/,Lo=/[+-]?\d{6}/,zo=/\d\d?/,No=/\d\d\d\d?/,Bo=/\d\d\d\d\d\d?/,jo=/\d{1,3}/,Wo=/\d{1,4}/,$o=/[+-]?\d{1,6}/,Uo=/\d+/,Yo=/[+-]?\d+/,qo=/Z|[+-]\d\d:?\d\d/gi,Vo=/Z|[+-]\d\d(?::?\d\d)?/gi,Go=/[+-]?\d+(\.\d{1,3})?/,Ko=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Zo={},Xo={},Jo=0,Qo=1,es=2,ts=3,is=4,ns=5,os=6,ss=7,rs=8;yo=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Y("MMMM",0,0,function(e){return this.localeData().months(this,e)}),R("month","M"),L("month",8),Z("M",zo),Z("MM",zo,Ro),Z("MMM",function(e,t){return t.monthsShortRegex(e)}),Z("MMMM",function(e,t){return t.monthsRegex(e)}),et(["M","MM"],function(e,t){t[Qo]=_(e)-1}),et(["MMM","MMMM"],function(e,t,i,n){var o=i._locale.monthsParse(e,n,i._strict);null!=o?t[Qo]=o:h(i).invalidMonth=e});var as=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,ls="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cs="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),us=Ko,hs=Ko;Y("Y",0,0,function(){var e=this.year();return 9999>=e?""+e:"+"+e}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),R("year","y"),L("year",1),Z("Y",Yo),Z("YY",zo,Ro),Z("YYYY",Wo,Ho),Z("YYYYY",$o,Lo),Z("YYYYYY",$o,Lo),et(["YYYYY","YYYYYY"],Jo),et("YYYY",function(t,i){i[Jo]=2===t.length?e.parseTwoDigitYear(t):_(t)}),et("YY",function(t,i){i[Jo]=e.parseTwoDigitYear(t)}),et("Y",function(e,t){t[Jo]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var ds=N("FullYear",!0);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),L("week",5),L("isoWeek",5),Z("w",zo),Z("ww",zo,Ro),Z("W",zo),Z("WW",zo,Ro),tt(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=_(e)});var fs={dow:0,doy:6};Y("d",0,"do","day"),Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),Z("d",zo),Z("e",zo),Z("E",zo),Z("dd",function(e,t){return t.weekdaysMinRegex(e)}),Z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Z("dddd",function(e,t){return t.weekdaysRegex(e)}),tt(["dd","ddd","dddd"],function(e,t,i,n){var o=i._locale.weekdaysParse(e,n,i._strict);null!=o?t.d=o:h(i).invalidWeekday=e}),tt(["d","e","E"],function(e,t,i,n){t[n]=_(e)});var ps="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ms="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gs="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vs=Ko,bs=Ko,_s=Ko;Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Wt),Y("k",["kk",2],0,$t),Y("hmm",0,0,function(){return""+Wt.apply(this)+U(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Wt.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Ut("a",!0),Ut("A",!1),R("hour","h"),L("hour",13),Z("a",Yt),Z("A",Yt),Z("H",zo),Z("h",zo),Z("HH",zo,Ro),Z("hh",zo,Ro),Z("hmm",No),Z("hmmss",Bo),Z("Hmm",No),Z("Hmmss",Bo),et(["H","HH"],ts),et(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),et(["h","hh"],function(e,t,i){t[ts]=_(e),h(i).bigHour=!0}),et("hmm",function(e,t,i){var n=e.length-2;t[ts]=_(e.substr(0,n)),t[is]=_(e.substr(n)),h(i).bigHour=!0}),et("hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[ts]=_(e.substr(0,n)),t[is]=_(e.substr(n,2)),t[ns]=_(e.substr(o)),h(i).bigHour=!0}),et("Hmm",function(e,t){var i=e.length-2;t[ts]=_(e.substr(0,i)),t[is]=_(e.substr(i))}),et("Hmmss",function(e,t){var i=e.length-4,n=e.length-2;t[ts]=_(e.substr(0,i)),t[is]=_(e.substr(i,2)),t[ns]=_(e.substr(n))});var ys,ws=/[ap]\.?m?\.?/i,xs=N("Hours",!0),ks={calendar:wo,longDateFormat:xo,invalidDate:ko,ordinal:Co,ordinalParse:So,relativeTime:Do,months:ls,monthsShort:cs,week:fs,weekdays:ps,weekdaysMin:gs,weekdaysShort:ms,meridiemParse:ws},Cs={},Ss=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ds=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ts=/Z|[+-]\d\d(?::?\d\d)?/,Is=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ps=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],As=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=x("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){};var Ms=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vi.apply(null,arguments);return this.isValid()&&e.isValid()?this>e?this:e:f()}),Es=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vi.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}),Fs=function(){return Date.now?Date.now():+new Date};Ci("Z",":"),Ci("ZZ",""),Z("Z",Vo),Z("ZZ",Vo),et(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Si(Vo,e)});var Rs=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Os=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Hs=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ni.fn=wi.prototype;var Ls=$i(1,"add"),zs=$i(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ns=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Cn("gggg","weekYear"),Cn("ggggg","weekYear"),Cn("GGGG","isoWeekYear"),Cn("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),Z("G",Yo),Z("g",Yo),Z("GG",zo,Ro),Z("gg",zo,Ro),Z("GGGG",Wo,Ho),Z("gggg",Wo,Ho),Z("GGGGG",$o,Lo),Z("ggggg",$o,Lo),tt(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=_(e)}),tt(["gg","GG"],function(t,i,n,o){i[o]=e.parseTwoDigitYear(t)}),Y("Q",0,"Qo","quarter"),R("quarter","Q"),L("quarter",7),Z("Q",Fo),et("Q",function(e,t){t[Qo]=3*(_(e)-1)}),Y("D",["DD",2],"Do","date"),R("date","D"),L("date",9),Z("D",zo),Z("DD",zo,Ro),Z("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),et(["D","DD"],es),et("Do",function(e,t){t[es]=_(e.match(zo)[0],10)});var Bs=N("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),L("dayOfYear",4),Z("DDD",jo),Z("DDDD",Oo),et(["DDD","DDDD"],function(e,t,i){i._dayOfYear=_(e)}),Y("m",["mm",2],0,"minute"),R("minute","m"),L("minute",14),Z("m",zo),Z("mm",zo,Ro),et(["m","mm"],is);var js=N("Minutes",!1);Y("s",["ss",2],0,"second"),R("second","s"),L("second",15),Z("s",zo),Z("ss",zo,Ro),et(["s","ss"],ns);var Ws=N("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),L("millisecond",16),Z("S",jo,Fo),Z("SS",jo,Ro),Z("SSS",jo,Oo);var $s;for($s="SSSS";$s.length<=9;$s+="S")Z($s,Uo);for($s="S";$s.length<=9;$s+="S")et($s,Fn);var Us=N("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var Ys=g.prototype;Ys.add=Ls,Ys.calendar=qi,Ys.clone=Vi,Ys.diff=en,Ys.endOf=fn,Ys.format=sn,Ys.from=rn,Ys.fromNow=an,Ys.to=ln,Ys.toNow=cn,Ys.get=W,Ys.invalidAt=xn,Ys.isAfter=Gi,Ys.isBefore=Ki,Ys.isBetween=Zi,Ys.isSame=Xi,Ys.isSameOrAfter=Ji,Ys.isSameOrBefore=Qi,Ys.isValid=yn,Ys.lang=Ns,Ys.locale=un,Ys.localeData=hn,Ys.max=Es,Ys.min=Ms,Ys.parsingFlags=wn,Ys.set=$,Ys.startOf=dn,Ys.subtract=zs,Ys.toArray=vn,Ys.toObject=bn,Ys.toDate=gn,Ys.toISOString=on,Ys.toJSON=_n,Ys.toString=nn,Ys.unix=mn,Ys.valueOf=pn,Ys.creationData=kn,Ys.year=ds,Ys.isLeapYear=gt,Ys.weekYear=Sn,Ys.isoWeekYear=Dn,Ys.quarter=Ys.quarters=Mn,Ys.month=ct,Ys.daysInMonth=ut,Ys.week=Ys.weeks=Dt,Ys.isoWeek=Ys.isoWeeks=Tt,Ys.weeksInYear=In,Ys.isoWeeksInYear=Tn,Ys.date=Bs,Ys.day=Ys.days=Ot,Ys.weekday=Ht,Ys.isoWeekday=Lt,Ys.dayOfYear=En,Ys.hour=Ys.hours=xs,Ys.minute=Ys.minutes=js,Ys.second=Ys.seconds=Ws,Ys.millisecond=Ys.milliseconds=Us,Ys.utcOffset=Ii,Ys.utc=Ai,Ys.local=Mi,Ys.parseZone=Ei,Ys.hasAlignedHourOffset=Fi,Ys.isDST=Ri,Ys.isLocal=Hi,Ys.isUtcOffset=Li,Ys.isUtc=zi,Ys.isUTC=zi,Ys.zoneAbbr=Rn,Ys.zoneName=On,Ys.dates=x("dates accessor is deprecated. Use date instead.",Bs),Ys.months=x("months accessor is deprecated. Use month instead",ct),Ys.years=x("years accessor is deprecated. Use year instead",ds),Ys.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Pi),Ys.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Oi);var qs=Ys,Vs=T.prototype;Vs.calendar=I,Vs.longDateFormat=P,Vs.invalidDate=A,Vs.ordinal=M,Vs.preparse=zn,Vs.postformat=zn,Vs.relativeTime=E,Vs.pastFuture=F,Vs.set=S,Vs.months=ot,Vs.monthsShort=st,Vs.monthsParse=at,Vs.monthsRegex=dt,Vs.monthsShortRegex=ht,Vs.week=kt,Vs.firstDayOfYear=St,Vs.firstDayOfWeek=Ct,Vs.weekdays=At,Vs.weekdaysMin=Et,Vs.weekdaysShort=Mt,Vs.weekdaysParse=Rt,Vs.weekdaysRegex=zt,Vs.weekdaysShortRegex=Nt,Vs.weekdaysMinRegex=Bt,Vs.isPM=qt,Vs.meridiem=Vt,Xt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),e.lang=x("moment.lang is deprecated. Use moment.locale instead.",Xt),e.langData=x("moment.langData is deprecated. Use moment.localeData instead.",ei);var Gs=Math.abs,Ks=no("ms"),Zs=no("s"),Xs=no("m"),Js=no("h"),Qs=no("d"),er=no("w"),tr=no("M"),ir=no("y"),nr=so("milliseconds"),or=so("seconds"),sr=so("minutes"),rr=so("hours"),ar=so("days"),lr=so("months"),cr=so("years"),ur=Math.round,hr={s:45,m:45,h:22,d:26,M:11},dr=Math.abs,fr=wi.prototype;fr.abs=Vn,fr.add=Kn,fr.subtract=Zn,fr.as=to,fr.asMilliseconds=Ks,fr.asSeconds=Zs,fr.asMinutes=Xs,fr.asHours=Js,fr.asDays=Qs,fr.asWeeks=er,fr.asMonths=tr,fr.asYears=ir,fr.valueOf=io,fr._bubble=Jn,fr.get=oo,fr.milliseconds=nr,fr.seconds=or,fr.minutes=sr,fr.hours=rr,fr.days=ar,fr.weeks=ro,fr.months=lr,fr.years=cr,fr.humanize=ho,fr.toISOString=fo,fr.toString=fo,fr.toJSON=fo,fr.locale=un,fr.localeData=hn,fr.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",fo),fr.lang=Ns,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),Z("x",Yo),Z("X",Go),et("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),et("x",function(e,t,i){i._d=new Date(_(e))}),e.version="2.15.1",t(vi),e.fn=qs,e.min=_i,e.max=yi,e.now=Fs,e.utc=c,e.unix=Hn,e.months=Wn,e.isDate=s,e.locale=Xt,e.invalid=f,e.duration=Ni,e.isMoment=v,e.weekdays=Un,e.parseZone=Ln,e.localeData=ei,e.isDuration=xi,e.monthsShort=$n,e.weekdaysMin=qn,e.defineLocale=Jt,e.updateLocale=Qt,e.locales=ti,e.weekdaysShort=Yn,e.normalizeUnits=O,e.relativeTimeRounding=co,e.relativeTimeThreshold=uo,e.calendarFormat=Yi,e.prototype=qs;var pr=e;return pr}),!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],function(){return t.apply(e)}):"object"==typeof exports?module.exports=t.call(e):e.Waves=t.call(e)}("object"==typeof global?global:this,function(){"use strict";function e(e){return null!==e&&e===e.window}function t(t){return e(t)?t:9===t.nodeType&&t.defaultView}function i(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){return i(e)&&e.nodeType>0}function o(e){var t=d.call(e);return"[object String]"===t?h(e):i(e)&&/^\[object (Array|HTMLCollection|NodeList|Object)\]$/.test(t)&&e.hasOwnProperty("length")?e:n(e)?[e]:[]}function s(e){var i,n,o={top:0,left:0},s=e&&e.ownerDocument;return i=s.documentElement,"undefined"!=typeof e.getBoundingClientRect&&(o=e.getBoundingClientRect()),n=t(s),{top:o.top+n.pageYOffset-i.clientTop,left:o.left+n.pageXOffset-i.clientLeft}}function r(e){var t="";for(var i in e)e.hasOwnProperty(i)&&(t+=i+":"+e[i]+";");return t}function a(e,t,i){if(i){i.classList.remove("waves-rippling");var n=i.getAttribute("data-x"),o=i.getAttribute("data-y"),s=i.getAttribute("data-scale"),a=i.getAttribute("data-translate"),l=Date.now()-Number(i.getAttribute("data-hold")),c=350-l;0>c&&(c=0),"mousemove"===e.type&&(c=150);var u="mousemove"===e.type?2500:p.duration;setTimeout(function(){var e={top:o+"px",left:n+"px",opacity:"0","-webkit-transition-duration":u+"ms","-moz-transition-duration":u+"ms","-o-transition-duration":u+"ms","transition-duration":u+"ms","-webkit-transform":s+" "+a,"-moz-transform":s+" "+a,"-ms-transform":s+" "+a,"-o-transform":s+" "+a,transform:s+" "+a};i.setAttribute("style",r(e)),setTimeout(function(){try{t.removeChild(i)}catch(e){return!1}},u)},c)}}function l(e){if(g.allowEvent(e)===!1)return null;for(var t=null,i=e.target||e.srcElement;null!==i.parentElement;){if(i.classList.contains("waves-effect")&&!(i instanceof SVGElement)){t=i;break}i=i.parentElement}return t}function c(e){var t=l(e);if(null!==t){if(t.disabled||t.getAttribute("disabled")||t.classList.contains("disabled"))return;if(g.registerEvent(e),"touchstart"===e.type&&p.delay){var i=!1,n=setTimeout(function(){n=null,p.show(e,t)},p.delay),o=function(o){n&&(clearTimeout(n),n=null,p.show(e,t)),i||(i=!0,p.hide(o,t))},s=function(e){n&&(clearTimeout(n),n=null),o(e)};t.addEventListener("touchmove",s,!1),t.addEventListener("touchend",o,!1),t.addEventListener("touchcancel",o,!1)}else p.show(e,t),f&&(t.addEventListener("touchend",p.hide,!1),t.addEventListener("touchcancel",p.hide,!1)),t.addEventListener("mouseup",p.hide,!1),t.addEventListener("mouseleave",p.hide,!1)}}var u=u||{},h=document.querySelectorAll.bind(document),d=Object.prototype.toString,f="ontouchstart"in window,p={duration:750,delay:200,show:function(e,t,i){if(2===e.button)return!1;t=t||this;var n=document.createElement("div");n.className="waves-ripple waves-rippling",t.appendChild(n);var o=s(t),a=0,l=0;"touches"in e&&e.touches.length?(a=e.touches[0].pageY-o.top,l=e.touches[0].pageX-o.left):(a=e.pageY-o.top,l=e.pageX-o.left),l=l>=0?l:0,a=a>=0?a:0;var c="scale("+t.clientWidth/100*3+")",u="translate(0,0)";i&&(u="translate("+i.x+"px, "+i.y+"px)"),n.setAttribute("data-hold",Date.now()),n.setAttribute("data-x",l),n.setAttribute("data-y",a),n.setAttribute("data-scale",c),n.setAttribute("data-translate",u);var h={top:a+"px",left:l+"px"};n.classList.add("waves-notransition"),n.setAttribute("style",r(h)),n.classList.remove("waves-notransition"),h["-webkit-transform"]=c+" "+u,h["-moz-transform"]=c+" "+u,h["-ms-transform"]=c+" "+u,h["-o-transform"]=c+" "+u,h.transform=c+" "+u,h.opacity="1";var d="mousemove"===e.type?2500:p.duration;h["-webkit-transition-duration"]=d+"ms",h["-moz-transition-duration"]=d+"ms",h["-o-transition-duration"]=d+"ms",h["transition-duration"]=d+"ms",n.setAttribute("style",r(h))},hide:function(e,t){t=t||this;for(var i=t.getElementsByClassName("waves-rippling"),n=0,o=i.length;o>n;n++)a(e,t,i[n])}},m={input:function(e){var t=e.parentNode;if("i"!==t.tagName.toLowerCase()||!t.classList.contains("waves-effect")){var i=document.createElement("i");i.className=e.className+" waves-input-wrapper",e.className="waves-button-input",t.replaceChild(i,e),i.appendChild(e);var n=window.getComputedStyle(e,null),o=n.color,s=n.backgroundColor;i.setAttribute("style","color:"+o+";background:"+s),e.setAttribute("style","background-color:rgba(0,0,0,0);")}},img:function(e){var t=e.parentNode;if("i"!==t.tagName.toLowerCase()||!t.classList.contains("waves-effect")){var i=document.createElement("i");t.replaceChild(i,e),i.appendChild(e)}}},g={touches:0,allowEvent:function(e){var t=!0;return/^(mousedown|mousemove)$/.test(e.type)&&g.touches&&(t=!1),t},registerEvent:function(e){var t=e.type;"touchstart"===t?g.touches+=1:/^(touchend|touchcancel)$/.test(t)&&setTimeout(function(){g.touches&&(g.touches-=1)},500)}};return u.init=function(e){var t=document.body;e=e||{},"duration"in e&&(p.duration=e.duration),"delay"in e&&(p.delay=e.delay),f&&(t.addEventListener("touchstart",c,!1),t.addEventListener("touchcancel",g.registerEvent,!1),t.addEventListener("touchend",g.registerEvent,!1)),t.addEventListener("mousedown",c,!1)},u.attach=function(e,t){e=o(e),"[object Array]"===d.call(t)&&(t=t.join(" ")),t=t?" "+t:"";for(var i,n,s=0,r=e.length;r>s;s++)i=e[s],n=i.tagName.toLowerCase(),-1!==["input","img"].indexOf(n)&&(m[n](i),i=i.parentElement),-1===i.className.indexOf("waves-effect")&&(i.className+=" waves-effect"+t)},u.ripple=function(e,t){e=o(e);var i=e.length;if(t=t||{},t.wait=t.wait||0,t.position=t.position||null,i)for(var n,r,a,l={},c=0,u={type:"mousedown",button:1},h=function(e,t){return function(){p.hide(e,t)}};i>c;c++)if(n=e[c],r=t.position||{x:n.clientWidth/2,y:n.clientHeight/2},a=s(n),l.x=a.left+r.x,l.y=a.top+r.y,u.pageX=l.x,u.pageY=l.y,p.show(u,n),t.wait>=0&&null!==t.wait){var d={type:"mouseup",button:1};setTimeout(h(d,n),t.wait)}},u.calm=function(e){e=o(e);for(var t={type:"mouseup",button:1},i=0,n=e.length;n>i;i++)p.hide(t,e[i])},u.displayEffect=function(e){u.init(e)},u}),function(){var e;e=jQuery,e.bootstrapGrowl=function(t,i){var n,o,s;switch(i=e.extend({},e.bootstrapGrowl.default_options,i),n=e("<div>"),n.attr("class","bootstrap-growl alert"),i.type&&n.addClass("alert-"+i.type),i.allow_dismiss&&n.append('<a class="close" data-dismiss="alert" href="#">&times;</a>'),n.append(t),i.top_offset&&(i.offset={from:"top",amount:i.top_offset}),s=i.offset.amount,e(".bootstrap-growl").each(function(){return s=Math.max(s,parseInt(e(this).css(i.offset.from))+e(this).outerHeight()+i.stackup_spacing)}),o={position:"body"===i.ele?"fixed":"absolute",margin:0,"z-index":"9999",display:"none"},o[i.offset.from]=s+"px",n.css(o),"auto"!==i.width&&n.css("width",i.width+"px"),e(i.ele).append(n),i.align){case"center":n.css({left:"50%","margin-left":"-"+n.outerWidth()/2+"px"});break;case"left":n.css("left","20px");break;default:n.css("right","20px")}return n.fadeIn(),i.delay>0?n.delay(i.delay).fadeOut(function(){return e(this).remove()}):void 0},e.bootstrapGrowl.default_options={ele:"body",type:null,offset:{from:"top",amount:20},align:"right",width:250,delay:4e3,allow_dismiss:!0,stackup_spacing:10}}.call(this),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,a=l.call(arguments,1),c=0,h=0,d=0,f=0,p=0,m=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(d=-1*r.detail),"wheelDelta"in r&&(d=r.wheelDelta),"wheelDeltaY"in r&&(d=r.wheelDeltaY),"wheelDeltaX"in r&&(h=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(h=-1*d,d=0),c=0===d?h:d,"deltaY"in r&&(d=-1*r.deltaY,c=d),"deltaX"in r&&(h=r.deltaX,0===d&&(c=-1*h)),0!==d||0!==h){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,d*=g,h*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,d*=v,h*=v}if(f=Math.max(Math.abs(d),Math.abs(h)),(!s||s>f)&&(s=f,n(r,f)&&(s/=40)),n(r,f)&&(c/=40,h/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/s),h=Math[h>=1?"floor":"ceil"](h/s),d=Math[d>=1?"floor":"ceil"](d/s),u.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=t.clientX-b.left,m=t.clientY-b.top}return t.deltaX=h,t.deltaY=d,t.deltaFactor=s,t.offsetX=p,t.offsetY=m,t.deltaMode=0,a.unshift(t,c,h,d),o&&clearTimeout(o),o=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){s=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,s,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var r=t||window.event,a=l.call(arguments,1),c=0,h=0,d=0,f=0,p=0,m=0;if(t=e.event.fix(r),t.type="mousewheel","detail"in r&&(d=-1*r.detail),"wheelDelta"in r&&(d=r.wheelDelta),"wheelDeltaY"in r&&(d=r.wheelDeltaY),"wheelDeltaX"in r&&(h=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(h=-1*d,d=0),c=0===d?h:d,"deltaY"in r&&(d=-1*r.deltaY,c=d),"deltaX"in r&&(h=r.deltaX,0===d&&(c=-1*h)),0!==d||0!==h){if(1===r.deltaMode){var g=e.data(this,"mousewheel-line-height");c*=g,d*=g,h*=g}else if(2===r.deltaMode){var v=e.data(this,"mousewheel-page-height");c*=v,d*=v,h*=v}if(f=Math.max(Math.abs(d),Math.abs(h)),(!s||s>f)&&(s=f,n(r,f)&&(s/=40)),n(r,f)&&(c/=40,h/=40,d/=40),c=Math[c>=1?"floor":"ceil"](c/s),h=Math[h>=1?"floor":"ceil"](h/s),d=Math[d>=1?"floor":"ceil"](d/s),u.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();p=t.clientX-b.left,m=t.clientY-b.top}return t.deltaX=h,t.deltaY=d,t.deltaFactor=s,t.offsetX=p,t.offsetY=m,t.deltaMode=0,a.unshift(t,c,h,d),o&&clearTimeout(o),o=setTimeout(i,200),(e.event.dispatch||e.event.handle).apply(this,a)}}function i(){s=null}function n(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var o,s,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var c=r.length;c;)e.event.fixHooks[r[--c]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var i=e(t),n=i["offsetParent"in e.fn?"offsetParent":"parent"]();return n.length||(n=e("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}(function(e){!function(t){var i="function"==typeof define&&define.amd,n="undefined"!=typeof module&&module.exports,o="https:"==document.location.protocol?"https:":"http:",s="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js";i||(n?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+o+"//"+s+"%3E%3C/script%3E"))),t()}(function(){var t,i="mCustomScrollbar",n="mCS",o=".mCustomScrollbar",s={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,a={},l=window.attachEvent&&!window.addEventListener?1:0,c=!1,u=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],h={init:function(t){var t=e.extend(!0,{},s,t),i=d.call(this);if(t.live){var l=t.liveSelector||this.selector||o,c=e(l);if("off"===t.live)return void p(l);a[l]=setTimeout(function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&p(l)},500)}else p(l);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":m(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),f(t),e(i).each(function(){var i=e(this);if(!i.data(n)){i.data(n,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:i.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var o=i.data(n),s=o.opt,a=i.data("mcs-axis"),l=i.data("mcs-scrollbar-position"),c=i.data("mcs-theme");a&&(s.axis=a),l&&(s.scrollbarPosition=l),c&&(s.theme=c,f(s)),v.call(this),o&&s.callbacks.onCreate&&"function"==typeof s.callbacks.onCreate&&s.callbacks.onCreate.call(this),e("#mCSB_"+o.idx+"_container img:not(."+u[2]+")").addClass(u[2]),h.update.call(null,i)
}})},update:function(t,i){var o=t||d.call(this);return e(o).each(function(){var t=e(this);if(t.data(n)){var o=t.data(n),s=o.opt,r=e("#mCSB_"+o.idx+"_container"),a=e("#mCSB_"+o.idx),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(!r.length)return;o.tweenRunning&&G(t),i&&o&&s.callbacks.onBeforeUpdate&&"function"==typeof s.callbacks.onBeforeUpdate&&s.callbacks.onBeforeUpdate.call(this),t.hasClass(u[3])&&t.removeClass(u[3]),t.hasClass(u[4])&&t.removeClass(u[4]),a.css("max-height","none"),a.height()!==t.height()&&a.css("max-height",t.height()),_.call(this),"y"===s.axis||s.advanced.autoExpandHorizontalScroll||r.css("width",b(r)),o.overflowed=C.call(this),I.call(this),s.autoDraggerLength&&w.call(this),x.call(this),D.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==s.axis&&(o.overflowed[0]?l[0].height()>l[0].parent().height()?S.call(this):(K(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),o.contentReset.y=null):(S.call(this),"y"===s.axis?T.call(this):"yx"===s.axis&&o.overflowed[1]&&K(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==s.axis&&(o.overflowed[1]?l[1].width()>l[1].parent().width()?S.call(this):(K(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),o.contentReset.x=null):(S.call(this),"x"===s.axis?T.call(this):"yx"===s.axis&&o.overflowed[0]&&K(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),i&&o&&(2===i&&s.callbacks.onImageLoad&&"function"==typeof s.callbacks.onImageLoad?s.callbacks.onImageLoad.call(this):3===i&&s.callbacks.onSelectorChange&&"function"==typeof s.callbacks.onSelectorChange?s.callbacks.onSelectorChange.call(this):s.callbacks.onUpdate&&"function"==typeof s.callbacks.onUpdate&&s.callbacks.onUpdate.call(this)),q.call(this)}})},scrollTo:function(t,i){if("undefined"!=typeof t&&null!=t){var o=d.call(this);return e(o).each(function(){var o=e(this);if(o.data(n)){var s=o.data(n),r=s.opt,a={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},a,i),c=U.call(this,t),u=l.scrollInertia>0&&l.scrollInertia<17?17:l.scrollInertia;c[0]=Y.call(this,c[0],"y"),c[1]=Y.call(this,c[1],"x"),l.moveDragger&&(c[0]*=s.scrollRatio.y,c[1]*=s.scrollRatio.x),l.dur=ot()?0:u,setTimeout(function(){null!==c[0]&&"undefined"!=typeof c[0]&&"x"!==r.axis&&s.overflowed[0]&&(l.dir="y",l.overwrite="all",K(o,c[0].toString(),l)),null!==c[1]&&"undefined"!=typeof c[1]&&"y"!==r.axis&&s.overflowed[1]&&(l.dir="x",l.overwrite="none",K(o,c[1].toString(),l))},l.timeout)}})}},stop:function(){var t=d.call(this);return e(t).each(function(){var t=e(this);t.data(n)&&G(t)})},disable:function(t){var i=d.call(this);return e(i).each(function(){var i=e(this);i.data(n)&&(i.data(n),q.call(this,"remove"),T.call(this),t&&S.call(this),I.call(this,!0),i.addClass(u[3]))})},destroy:function(){var t=d.call(this);return e(t).each(function(){var o=e(this);if(o.data(n)){var s=o.data(n),r=s.opt,a=e("#mCSB_"+s.idx),l=e("#mCSB_"+s.idx+"_container"),c=e(".mCSB_"+s.idx+"_scrollbar");r.live&&p(r.liveSelector||e(t).selector),q.call(this,"remove"),T.call(this),S.call(this),o.removeData(n),Q(this,"mcs"),c.remove(),l.find("img."+u[2]).removeClass(u[2]),a.replaceWith(l.contents()),o.removeClass(i+" _"+n+"_"+s.idx+" "+u[6]+" "+u[7]+" "+u[5]+" "+u[3]).addClass(u[4])}})}},d=function(){return"object"!=typeof e(this)||e(this).length<1?o:this},f=function(t){var i=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],n=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],o=["minimal","minimal-dark"],s=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,i)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,n)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,o)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,s)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},p=function(e){a[e]&&(clearTimeout(a[e]),Q(a,e))},m=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),o=t.data(n),s=o.opt,r=s.autoExpandScrollbar?" "+u[1]+"_expand":"",a=["<div id='mCSB_"+o.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+u[12]+"'><div id='mCSB_"+o.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+o.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+o.idx+"_scrollbar mCS-"+s.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+u[12]+"'><div id='mCSB_"+o.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],l="yx"===s.axis?"mCSB_vertical_horizontal":"x"===s.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===s.axis?a[0]+a[1]:"x"===s.axis?a[1]:a[0],h="yx"===s.axis?"<div id='mCSB_"+o.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",d=s.autoHideScrollbar?" "+u[6]:"",f="x"!==s.axis&&"rtl"===o.langDir?" "+u[7]:"";s.setWidth&&t.css("width",s.setWidth),s.setHeight&&t.css("height",s.setHeight),s.setLeft="y"!==s.axis&&"rtl"===o.langDir?"989999px":s.setLeft,t.addClass(i+" _"+n+"_"+o.idx+d+f).wrapInner("<div id='mCSB_"+o.idx+"' class='mCustomScrollBox mCS-"+s.theme+" "+l+"'><div id='mCSB_"+o.idx+"_container' class='mCSB_container' style='position:relative; top:"+s.setTop+"; left:"+s.setLeft+";' dir='"+o.langDir+"' /></div>");var p=e("#mCSB_"+o.idx),m=e("#mCSB_"+o.idx+"_container");"y"===s.axis||s.advanced.autoExpandHorizontalScroll||m.css("width",b(m)),"outside"===s.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),p.addClass("mCSB_outside").after(c)):(p.addClass("mCSB_inside").append(c),m.wrap(h)),y.call(this);var g=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},b=function(t){var i=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return e(this).outerWidth(!0)}).get())],n=t.parent().width();return i[0]>n?i[0]:i[1]>n?i[1]:"100%"},_=function(){var t=e(this),i=t.data(n),o=i.opt,s=e("#mCSB_"+i.idx+"_container");if(o.advanced.autoExpandHorizontalScroll&&"y"!==o.axis){s.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(s[0].scrollWidth);3===o.advanced.autoExpandHorizontalScroll||2!==o.advanced.autoExpandHorizontalScroll&&r>s.parent().width()?s.css({width:r,"min-width":"100%","overflow-x":"inherit"}):s.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(s[0].getBoundingClientRect().right+.4)-Math.floor(s[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},y=function(){var t=e(this),i=t.data(n),o=i.opt,s=e(".mCSB_"+i.idx+"_scrollbar:first"),r=it(o.scrollButtons.tabindex)?"tabindex='"+o.scrollButtons.tabindex+"'":"",a=["<a href='#' class='"+u[13]+"' "+r+" />","<a href='#' class='"+u[14]+"' "+r+" />","<a href='#' class='"+u[15]+"' "+r+" />","<a href='#' class='"+u[16]+"' "+r+" />"],l=["x"===o.axis?a[2]:a[0],"x"===o.axis?a[3]:a[1],a[2],a[3]];o.scrollButtons.enable&&s.prepend(l[0]).append(l[1]).next(".mCSB_scrollTools").prepend(l[2]).append(l[3])},w=function(){var t=e(this),i=t.data(n),o=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),r=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")],a=[o.height()/s.outerHeight(!1),o.width()/s.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(a[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(a[1]*r[1].parent().width())],u=l&&c[1]<c[0]?c[0]:c[1],h=l&&c[3]<c[2]?c[2]:c[3];r[0].css({height:u,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:h,"max-width":r[1].parent().width()-10})},x=function(){var t=e(this),i=t.data(n),o=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),r=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")],a=[s.outerHeight(!1)-o.height(),s.outerWidth(!1)-o.width()],l=[a[0]/(r[0].parent().height()-r[0].height()),a[1]/(r[1].parent().width()-r[1].width())];i.scrollRatio={y:l[0],x:l[1]}},k=function(e,t,i){var n=i?u[0]+"_expanded":"",o=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(u[0]+" "+n),o.toggleClass(u[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(u[0]),o.removeClass(u[1])):(e.addClass(u[0]),o.addClass(u[1])))},C=function(){var t=e(this),i=t.data(n),o=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),r=null==i.overflowed?s.height():s.outerHeight(!1),a=null==i.overflowed?s.width():s.outerWidth(!1),l=s[0].scrollHeight,c=s[0].scrollWidth;return l>r&&(r=l),c>a&&(a=c),[r>o.height(),a>o.width()]},S=function(){var t=e(this),i=t.data(n),o=i.opt,s=e("#mCSB_"+i.idx),r=e("#mCSB_"+i.idx+"_container"),a=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];if(G(t),("x"!==o.axis&&!i.overflowed[0]||"y"===o.axis&&i.overflowed[0])&&(a[0].add(r).css("top",0),K(t,"_resetY")),"y"!==o.axis&&!i.overflowed[1]||"x"===o.axis&&i.overflowed[1]){var l=dx=0;"rtl"===i.langDir&&(l=s.width()-r.outerWidth(!1),dx=Math.abs(l/i.scrollRatio.x)),r.css("left",l),a[1].css("left",dx),K(t,"_resetX")}},D=function(){function t(){r=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(r),F.call(i[0])):t()},100)}var i=e(this),o=i.data(n),s=o.opt;if(!o.bindEvents){if(A.call(this),s.contentTouchScroll&&M.call(this),E.call(this),s.mouseWheel.enable){var r;t()}z.call(this),B.call(this),s.advanced.autoScrollOnFocus&&N.call(this),s.scrollButtons.enable&&j.call(this),s.keyboard.enable&&W.call(this),o.bindEvents=!0}},T=function(){var t=e(this),i=t.data(n),o=i.opt,s=n+"_"+i.idx,r=".mCSB_"+i.idx+"_scrollbar",a=e("#mCSB_"+i.idx+",#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,"+r+" ."+u[12]+",#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal,"+r+">a"),l=e("#mCSB_"+i.idx+"_container");o.advanced.releaseDraggableSelectors&&a.add(e(o.advanced.releaseDraggableSelectors)),o.advanced.extraDraggableSelectors&&a.add(e(o.advanced.extraDraggableSelectors)),i.bindEvents&&(e(document).add(e(!O()||top.document)).unbind("."+s),a.each(function(){e(this).unbind("."+s)}),clearTimeout(t[0]._focusTimeout),Q(t[0],"_focusTimeout"),clearTimeout(i.sequential.step),Q(i.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),Q(l[0],"onCompleteTimeout"),i.bindEvents=!1)},I=function(t){var i=e(this),o=i.data(n),s=o.opt,r=e("#mCSB_"+o.idx+"_container_wrapper"),a=r.length?r:e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_scrollbar_vertical"),e("#mCSB_"+o.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==s.axis&&(o.overflowed[0]&&!t?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),a.removeClass(u[8]+" "+u[10])):(s.alwaysShowScrollbar?(2!==s.alwaysShowScrollbar&&c[0].css("display","none"),a.removeClass(u[10])):(l[0].css("display","none"),a.addClass(u[10])),a.addClass(u[8]))),"y"!==s.axis&&(o.overflowed[1]&&!t?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),a.removeClass(u[9]+" "+u[11])):(s.alwaysShowScrollbar?(2!==s.alwaysShowScrollbar&&c[1].css("display","none"),a.removeClass(u[11])):(l[1].css("display","none"),a.addClass(u[11])),a.addClass(u[9]))),o.overflowed[0]||o.overflowed[1]?i.removeClass(u[5]):i.addClass(u[5])},P=function(t){var i=t.type,n=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,o=O()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(i){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return n?[t.originalEvent.pageY-n[0]+o[0],t.originalEvent.pageX-n[1]+o[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var s=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[s.screenY,s.screenX,r>1]:[s.pageY,s.pageX,r>1];default:return n?[t.pageY-n[0]+o[0],t.pageX-n[1]+o[1],!1]:[t.pageY,t.pageX,!1]}},A=function(){function t(e,t,n,o){if(f[0].idleTimer=u.scrollInertia<233?250:0,i.attr("id")===d[1])var s="x",l=(i[0].offsetLeft-t+o)*a.scrollRatio.x;else var s="y",l=(i[0].offsetTop-e+n)*a.scrollRatio.y;K(r,l.toString(),{dir:s,drag:!0})}var i,o,s,r=e(this),a=r.data(n),u=a.opt,h=n+"_"+a.idx,d=["mCSB_"+a.idx+"_dragger_vertical","mCSB_"+a.idx+"_dragger_horizontal"],f=e("#mCSB_"+a.idx+"_container"),p=e("#"+d[0]+",#"+d[1]),m=u.advanced.releaseDraggableSelectors?p.add(e(u.advanced.releaseDraggableSelectors)):p,g=u.advanced.extraDraggableSelectors?e(!O()||top.document).add(e(u.advanced.extraDraggableSelectors)):e(!O()||top.document);p.bind("contextmenu."+h,function(e){e.preventDefault()}).bind("mousedown."+h+" touchstart."+h+" pointerdown."+h+" MSPointerDown."+h,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),et(t)){c=!0,l&&(document.onselectstart=function(){return!1}),H.call(f,!1),G(r),i=e(this);var n=i.offset(),a=P(t)[0]-n.top,h=P(t)[1]-n.left,d=i.height()+n.top,p=i.width()+n.left;d>a&&a>0&&p>h&&h>0&&(o=a,s=h),k(i,"active",u.autoExpandScrollbar)}}).bind("touchmove."+h,function(e){e.stopImmediatePropagation(),e.preventDefault();var n=i.offset(),r=P(e)[0]-n.top,a=P(e)[1]-n.left;t(o,s,r,a)}),e(document).add(g).bind("mousemove."+h+" pointermove."+h+" MSPointerMove."+h,function(e){if(i){var n=i.offset(),r=P(e)[0]-n.top,a=P(e)[1]-n.left;if(o===r&&s===a)return;t(o,s,r,a)}}).add(m).bind("mouseup."+h+" touchend."+h+" pointerup."+h+" MSPointerUp."+h,function(){i&&(k(i,"active",u.autoExpandScrollbar),i=null),c=!1,l&&(document.onselectstart=null),H.call(f,!0)})},M=function(){function i(e){if(!tt(e)||c||P(e)[2])return void(t=0);t=1,x=0,k=0,u=1,C.removeClass("mCS_touch_action");var i=A.offset();h=P(e)[0]-i.top,d=P(e)[1]-i.left,L=[P(e)[0],P(e)[1]]}function o(e){if(tt(e)&&!c&&!P(e)[2]&&(D.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!k||x)&&u)){g=X();var t=I.offset(),i=P(e)[0]-t.top,n=P(e)[1]-t.left,o="mcsLinearOut";if(E.push(i),F.push(n),L[2]=Math.abs(P(e)[0]-L[0]),L[3]=Math.abs(P(e)[1]-L[1]),S.overflowed[0])var s=M[0].parent().height()-M[0].height(),r=h-i>0&&i-h>-(s*S.scrollRatio.y)&&(2*L[3]<L[2]||"yx"===D.axis);if(S.overflowed[1])var a=M[1].parent().width()-M[1].width(),f=d-n>0&&n-d>-(a*S.scrollRatio.x)&&(2*L[2]<L[3]||"yx"===D.axis);r||f?(B||e.preventDefault(),x=1):(k=1,C.addClass("mCS_touch_action")),B&&e.preventDefault(),y="yx"===D.axis?[h-i,d-n]:"x"===D.axis?[null,d-n]:[h-i,null],A[0].idleTimer=250,S.overflowed[0]&&l(y[0],R,o,"y","all",!0),S.overflowed[1]&&l(y[1],R,o,"x",H,!0)}}function s(e){if(!tt(e)||c||P(e)[2])return void(t=0);t=1,e.stopImmediatePropagation(),G(C),m=X();var i=I.offset();f=P(e)[0]-i.top,p=P(e)[1]-i.left,E=[],F=[]}function r(e){if(tt(e)&&!c&&!P(e)[2]){u=0,e.stopImmediatePropagation(),x=0,k=0,v=X();var t=I.offset(),i=P(e)[0]-t.top,n=P(e)[1]-t.left;if(!(v-g>30)){_=1e3/(v-m);var o="mcsEaseOut",s=2.5>_,r=s?[E[E.length-2],F[F.length-2]]:[0,0];b=s?[i-r[0],n-r[1]]:[i-f,n-p];var h=[Math.abs(b[0]),Math.abs(b[1])];_=s?[Math.abs(b[0]/4),Math.abs(b[1]/4)]:[_,_];var d=[Math.abs(A[0].offsetTop)-b[0]*a(h[0]/_[0],_[0]),Math.abs(A[0].offsetLeft)-b[1]*a(h[1]/_[1],_[1])];y="yx"===D.axis?[d[0],d[1]]:"x"===D.axis?[null,d[1]]:[d[0],null],w=[4*h[0]+D.scrollInertia,4*h[1]+D.scrollInertia];var C=parseInt(D.contentTouchScroll)||0;y[0]=h[0]>C?y[0]:0,y[1]=h[1]>C?y[1]:0,S.overflowed[0]&&l(y[0],w[0],o,"y",H,!1),S.overflowed[1]&&l(y[1],w[1],o,"x",H,!1)}}}function a(e,t){var i=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?i[0]:i[3]:e>60?t>3?i[3]:i[2]:e>30?t>8?i[1]:t>6?i[0]:t>4?t:i[2]:t>8?t:i[3]}function l(e,t,i,n,o,s){e&&K(C,e.toString(),{dur:t,scrollEasing:i,dir:n,overwrite:o,drag:s})}var u,h,d,f,p,m,g,v,b,_,y,w,x,k,C=e(this),S=C.data(n),D=S.opt,T=n+"_"+S.idx,I=e("#mCSB_"+S.idx),A=e("#mCSB_"+S.idx+"_container"),M=[e("#mCSB_"+S.idx+"_dragger_vertical"),e("#mCSB_"+S.idx+"_dragger_horizontal")],E=[],F=[],R=0,H="yx"===D.axis?"none":"all",L=[],z=A.find("iframe"),N=["touchstart."+T+" pointerdown."+T+" MSPointerDown."+T,"touchmove."+T+" pointermove."+T+" MSPointerMove."+T,"touchend."+T+" pointerup."+T+" MSPointerUp."+T],B=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;A.bind(N[0],function(e){i(e)}).bind(N[1],function(e){o(e)}),I.bind(N[0],function(e){s(e)}).bind(N[2],function(e){r(e)}),z.length&&z.each(function(){e(this).bind("load",function(){O(this)&&e(this.contentDocument||this.contentWindow.document).bind(N[0],function(e){i(e),s(e)}).bind(N[1],function(e){o(e)}).bind(N[2],function(e){r(e)})})})},E=function(){function i(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function o(e,t,i){u.type=i&&s?"stepped":"stepless",u.scrollAmount=10,$(r,e,t,"mcsLinearOut",i?60:null)}var s,r=e(this),a=r.data(n),l=a.opt,u=a.sequential,h=n+"_"+a.idx,d=e("#mCSB_"+a.idx+"_container"),f=d.parent();d.bind("mousedown."+h,function(){t||s||(s=1,c=!0)}).add(document).bind("mousemove."+h,function(e){if(!t&&s&&i()){var n=d.offset(),r=P(e)[0]-n.top+d[0].offsetTop,c=P(e)[1]-n.left+d[0].offsetLeft;r>0&&r<f.height()&&c>0&&c<f.width()?u.step&&o("off",null,"stepped"):("x"!==l.axis&&a.overflowed[0]&&(0>r?o("on",38):r>f.height()&&o("on",40)),"y"!==l.axis&&a.overflowed[1]&&(0>c?o("on",37):c>f.width()&&o("on",39)))}}).bind("mouseup."+h+" dragend."+h,function(){t||(s&&(s=0,o("off",null)),c=!1)})},F=function(){function t(t,n){if(G(i),!L(i,t.target)){var r="auto"!==s.mouseWheel.deltaFactor?parseInt(s.mouseWheel.deltaFactor):l&&t.deltaFactor<100?100:t.deltaFactor||100,u=s.scrollInertia;if("x"===s.axis||"x"===s.mouseWheel.axis)var h="x",d=[Math.round(r*o.scrollRatio.x),parseInt(s.mouseWheel.scrollAmount)],f="auto"!==s.mouseWheel.scrollAmount?d[1]:d[0]>=a.width()?.9*a.width():d[0],p=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetLeft),m=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===s.mouseWheel.axis?t.deltaY||n:t.deltaX;else var h="y",d=[Math.round(r*o.scrollRatio.y),parseInt(s.mouseWheel.scrollAmount)],f="auto"!==s.mouseWheel.scrollAmount?d[1]:d[0]>=a.height()?.9*a.height():d[0],p=Math.abs(e("#mCSB_"+o.idx+"_container")[0].offsetTop),m=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||n;"y"===h&&!o.overflowed[0]||"x"===h&&!o.overflowed[1]||((s.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),s.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==m||0>v&&m!==g||s.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!s.mouseWheel.normalizeDelta&&(f=t.deltaFactor,u=17),K(i,(p-v*f).toString(),{dir:h,dur:u}))}}if(e(this).data(n)){var i=e(this),o=i.data(n),s=o.opt,r=n+"_"+o.idx,a=e("#mCSB_"+o.idx),c=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],u=e("#mCSB_"+o.idx+"_container").find("iframe");u.length&&u.each(function(){e(this).bind("load",function(){O(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,function(e,i){t(e,i)})})}),a.bind("mousewheel."+r,function(e,i){t(e,i)})}},R=new Object,O=function(t){var i=!1,n=!1,o=null;if(void 0===t?n="#empty":void 0!==e(t).attr("id")&&(n=e(t).attr("id")),n!==!1&&void 0!==R[n])return R[n];if(t){try{var s=t.contentDocument||t.contentWindow.document;o=s.body.innerHTML}catch(r){}i=null!==o}else{try{var s=top.document;o=s.body.innerHTML}catch(r){}i=null!==o}return n!==!1&&(R[n]=i),i},H=function(e){var t=this.find("iframe");if(t.length){var i=e?"auto":"none";t.css("pointer-events",i)}},L=function(t,i){var o=i.nodeName.toLowerCase(),s=t.data(n).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(o,s)>-1&&!(e.inArray(o,r)>-1&&!e(i).is(":focus"))},z=function(){var t,i=e(this),o=i.data(n),s=n+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),a=r.parent(),l=e(".mCSB_"+o.idx+"_scrollbar ."+u[12]);l.bind("mousedown."+s+" touchstart."+s+" pointerdown."+s+" MSPointerDown."+s,function(i){c=!0,e(i.target).hasClass("mCSB_dragger")||(t=1)}).bind("touchend."+s+" pointerup."+s+" MSPointerUp."+s,function(){c=!1}).bind("click."+s,function(n){if(t&&(t=0,e(n.target).hasClass(u[12])||e(n.target).hasClass("mCSB_draggerRail"))){G(i);var s=e(this),l=s.find(".mCSB_dragger");if(s.parent(".mCSB_scrollTools_horizontal").length>0){if(!o.overflowed[1])return;var c="x",h=n.pageX>l.offset().left?-1:1,d=Math.abs(r[0].offsetLeft)-.9*h*a.width()}else{if(!o.overflowed[0])return;var c="y",h=n.pageY>l.offset().top?-1:1,d=Math.abs(r[0].offsetTop)-.9*h*a.height()}K(i,d.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}})},N=function(){var t=e(this),i=t.data(n),o=i.opt,s=n+"_"+i.idx,r=e("#mCSB_"+i.idx+"_container"),a=r.parent();r.bind("focusin."+s,function(){var i=e(document.activeElement),n=r.find(".mCustomScrollBox").length,s=0;i.is(o.advanced.autoScrollOnFocus)&&(G(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=n?(s+17)*n:0,t[0]._focusTimeout=setTimeout(function(){var e=[nt(i)[0],nt(i)[1]],n=[r[0].offsetTop,r[0].offsetLeft],l=[n[0]+e[0]>=0&&n[0]+e[0]<a.height()-i.outerHeight(!1),n[1]+e[1]>=0&&n[0]+e[1]<a.width()-i.outerWidth(!1)],c="yx"!==o.axis||l[0]||l[1]?"all":"none";"x"===o.axis||l[0]||K(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s}),"y"===o.axis||l[1]||K(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:s})},t[0]._focusTimer))})},B=function(){var t=e(this),i=t.data(n),o=n+"_"+i.idx,s=e("#mCSB_"+i.idx+"_container").parent();s.bind("scroll."+o,function(){0===s.scrollTop()&&0===s.scrollLeft()||e(".mCSB_"+i.idx+"_scrollbar").css("visibility","hidden")})},j=function(){var t=e(this),i=t.data(n),o=i.opt,s=i.sequential,r=n+"_"+i.idx,a=".mCSB_"+i.idx+"_scrollbar",l=e(a+">a");l.bind("contextmenu."+r,function(e){e.preventDefault()}).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,function(n){function r(e,i){s.scrollAmount=o.scrollButtons.scrollAmount,$(t,e,i)}if(n.preventDefault(),et(n)){var a=e(this).attr("class");switch(s.type=o.scrollButtons.scrollType,n.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===s.type)return;c=!0,i.tweenRunning=!1,r("on",a);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===s.type)return;c=!1,s.dir&&r("off",a);break;case"click":if("stepped"!==s.type||i.tweenRunning)return;r("on",a)}}})},W=function(){function t(t){function n(e,t){r.type=s.keyboard.scrollType,r.scrollAmount=s.keyboard.scrollAmount,"stepped"===r.type&&o.tweenRunning||$(i,e,t)}switch(t.type){case"blur":o.tweenRunning&&r.dir&&n("off",null);break;case"keydown":case"keyup":var a=t.keyCode?t.keyCode:t.which,l="on";if("x"!==s.axis&&(38===a||40===a)||"y"!==s.axis&&(37===a||39===a)){if((38===a||40===a)&&!o.overflowed[0]||(37===a||39===a)&&!o.overflowed[1])return;"keyup"===t.type&&(l="off"),e(document.activeElement).is(h)||(t.preventDefault(),t.stopImmediatePropagation(),n(l,a))}else if(33===a||34===a){if((o.overflowed[0]||o.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){G(i);var d=34===a?-1:1;if("x"===s.axis||"yx"===s.axis&&o.overflowed[1]&&!o.overflowed[0])var f="x",p=Math.abs(c[0].offsetLeft)-.9*d*u.width();else var f="y",p=Math.abs(c[0].offsetTop)-.9*d*u.height();K(i,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}else if((35===a||36===a)&&!e(document.activeElement).is(h)&&((o.overflowed[0]||o.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===s.axis||"yx"===s.axis&&o.overflowed[1]&&!o.overflowed[0])var f="x",p=35===a?Math.abs(u.width()-c.outerWidth(!1)):0;else var f="y",p=35===a?Math.abs(u.height()-c.outerHeight(!1)):0;K(i,p.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}}}var i=e(this),o=i.data(n),s=o.opt,r=o.sequential,a=n+"_"+o.idx,l=e("#mCSB_"+o.idx),c=e("#mCSB_"+o.idx+"_container"),u=c.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']",d=c.find("iframe"),f=["blur."+a+" keydown."+a+" keyup."+a];d.length&&d.each(function(){e(this).bind("load",function(){O(this)&&e(this.contentDocument||this.contentWindow.document).bind(f[0],function(e){t(e)})})}),l.attr("tabindex","0").bind(f[0],function(e){t(e)})},$=function(t,i,o,s,r){function a(e){h.snapAmount&&(d.scrollAmount=h.snapAmount instanceof Array?"x"===d.dir[0]?h.snapAmount[1]:h.snapAmount[0]:h.snapAmount);var i="stepped"!==d.type,n=r?r:e?i?m/1.5:g:1e3/60,o=e?i?7.5:40:2.5,l=[Math.abs(f[0].offsetTop),Math.abs(f[0].offsetLeft)],u=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],p="x"===d.dir[0]?l[1]+d.dir[1]*u[1]*o:l[0]+d.dir[1]*u[0]*o,v="x"===d.dir[0]?l[1]+d.dir[1]*parseInt(d.scrollAmount):l[0]+d.dir[1]*parseInt(d.scrollAmount),b="auto"!==d.scrollAmount?v:p,_=s?s:e?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",y=!!e;return e&&17>n&&(b="x"===d.dir[0]?l[1]:l[0]),K(t,b.toString(),{dir:d.dir[0],scrollEasing:_,dur:n,onComplete:y}),e?void(d.dir=!1):(clearTimeout(d.step),void(d.step=setTimeout(function(){a()},n)))}function l(){clearTimeout(d.step),Q(d,"step"),G(t)}var c=t.data(n),h=c.opt,d=c.sequential,f=e("#mCSB_"+c.idx+"_container"),p="stepped"===d.type,m=h.scrollInertia<26?26:h.scrollInertia,g=h.scrollInertia<1?17:h.scrollInertia;switch(i){case"on":if(d.dir=[o===u[16]||o===u[15]||39===o||37===o?"x":"y",o===u[13]||o===u[15]||38===o||37===o?-1:1],G(t),it(o)&&"stepped"===d.type)return;a(p);break;case"off":l(),(p||c.tweenRunning&&d.dir)&&a(!0)}},U=function(t){var i=e(this).data(n).opt,o=[];return"function"==typeof t&&(t=t()),t instanceof Array?o=t.length>1?[t[0],t[1]]:"x"===i.axis?[null,t[0]]:[t[0],null]:(o[0]=t.y?t.y:t.x||"x"===i.axis?null:t,o[1]=t.x?t.x:t.y||"y"===i.axis?null:t),"function"==typeof o[0]&&(o[0]=o[0]()),"function"==typeof o[1]&&(o[1]=o[1]()),o},Y=function(t,i){if(null!=t&&"undefined"!=typeof t){var o=e(this),s=o.data(n),r=s.opt,a=e("#mCSB_"+s.idx+"_container"),l=a.parent(),c=typeof t;i||(i="x"===r.axis?"x":"y");var u="x"===i?a.outerWidth(!1)-l.width():a.outerHeight(!1)-l.height(),d="x"===i?a[0].offsetLeft:a[0].offsetTop,f="x"===i?"left":"top";switch(c){case"function":return t();case"object":var p=t.jquery?t:e(t);if(!p.length)return;return"x"===i?nt(p)[1]:nt(p)[0];case"string":case"number":if(it(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(u*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(d-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var m=d+parseInt(t.split("+=")[1]);return m>=0?0:Math.abs(m)}if(-1!==t.indexOf("px")&&it(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(l.height()-a.outerHeight(!1));if("right"===t)return Math.abs(l.width()-a.outerWidth(!1));if("first"===t||"last"===t){var p=a.find(":"+t);return"x"===i?nt(p)[1]:nt(p)[0]}return e(t).length?"x"===i?nt(e(t))[1]:nt(e(t))[0]:(a.css(f,t),void h.update.call(null,o[0]))}}},q=function(t){function i(){return clearTimeout(d[0].autoUpdate),0===a.parents("html").length?void(a=null):void(d[0].autoUpdate=setTimeout(function(){return c.advanced.updateOnSelectorChange&&(l.poll.change.n=s(),l.poll.change.n!==l.poll.change.o)?(l.poll.change.o=l.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(l.poll.size.n=a[0].scrollHeight+a[0].scrollWidth+d[0].offsetHeight+a[0].offsetHeight+a[0].offsetWidth,l.poll.size.n!==l.poll.size.o)?(l.poll.size.o=l.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(l.poll.img.n=d.find("img").length,l.poll.img.n===l.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&i()):(l.poll.img.o=l.poll.img.n,void d.find("img").each(function(){o(this)}))},c.advanced.autoUpdateTimeout))}function o(t){function i(e,t){return function(){return t.apply(e,arguments)}}function n(){this.onload=null,e(t).addClass(u[2]),r(2)}if(e(t).hasClass(u[2]))return void r();var o=new Image;o.onload=i(o,n),o.src=t.src}function s(){c.advanced.updateOnSelectorChange===!0&&(c.advanced.updateOnSelectorChange="*");var e=0,t=d.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each(function(){e+=this.offsetHeight+this.offsetWidth}),e}function r(e){clearTimeout(d[0].autoUpdate),h.update.call(null,a[0],e)}var a=e(this),l=a.data(n),c=l.opt,d=e("#mCSB_"+l.idx+"_container");return t?(clearTimeout(d[0].autoUpdate),void Q(d[0],"autoUpdate")):void i()},V=function(e,t,i){return Math.round(e/t)*t-i},G=function(t){var i=t.data(n),o=e("#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal");o.each(function(){J.call(this)})},K=function(t,i,o){function s(e){return l&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||y>=w[0]+C,c.callbacks.alwaysTriggerOffsets||-S>=y]}function a(){var e=[f[0].offsetTop,f[0].offsetLeft],i=[b[0].offsetTop,b[0].offsetLeft],n=[f.outerHeight(!1),f.outerWidth(!1)],s=[d.height(),d.width()];t[0].mcs={content:f,top:e[0],left:e[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(n[0])-s[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(n[1])-s[1])),direction:o.dir}}var l=t.data(n),c=l.opt,u={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},o=e.extend(u,o),h=[o.dur,o.drag?0:o.dur],d=e("#mCSB_"+l.idx),f=e("#mCSB_"+l.idx+"_container"),p=f.parent(),m=c.callbacks.onTotalScrollOffset?U.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?U.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(l.trigger=o.trigger,0===p.scrollTop()&&0===p.scrollLeft()||(e(".mCSB_"+l.idx+"_scrollbar").css("visibility","visible"),p.scrollTop(0).scrollLeft(0)),"_resetY"!==i||l.contentReset.y||(s("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),l.contentReset.y=1),"_resetX"!==i||l.contentReset.x||(s("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),l.contentReset.x=1),"_resetY"!==i&&"_resetX"!==i){if(!l.contentReset.y&&t[0].mcs||!l.overflowed[0]||(s("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),l.contentReset.x=null),!l.contentReset.x&&t[0].mcs||!l.overflowed[1]||(s("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),l.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===o.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;i=V(i,v,c.snapOffset)}switch(o.dir){case"x":var b=e("#mCSB_"+l.idx+"_dragger_horizontal"),_="left",y=f[0].offsetLeft,w=[d.width()-f.outerWidth(!1),b.parent().width()-b.width()],x=[i,0===i?0:i/l.scrollRatio.x],C=m[1],S=g[1],D=C>0?C/l.scrollRatio.x:0,T=S>0?S/l.scrollRatio.x:0;break;case"y":var b=e("#mCSB_"+l.idx+"_dragger_vertical"),_="top",y=f[0].offsetTop,w=[d.height()-f.outerHeight(!1),b.parent().height()-b.height()],x=[i,0===i?0:i/l.scrollRatio.y],C=m[0],S=g[0],D=C>0?C/l.scrollRatio.y:0,T=S>0?S/l.scrollRatio.y:0}x[1]<0||0===x[0]&&0===x[1]?x=[0,0]:x[1]>=w[1]?x=[w[0],w[1]]:x[0]=-x[0],t[0].mcs||(a(),s("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(f[0].onCompleteTimeout),Z(b[0],_,Math.round(x[1]),h[1],o.scrollEasing),!l.tweenRunning&&(0===y&&x[0]>=0||y===w[0]&&x[0]<=w[0])||Z(f[0],_,Math.round(x[0]),h[0],o.scrollEasing,o.overwrite,{onStart:function(){o.callbacks&&o.onStart&&!l.tweenRunning&&(s("onScrollStart")&&(a(),c.callbacks.onScrollStart.call(t[0])),l.tweenRunning=!0,k(b),l.cbOffsets=r())
},onUpdate:function(){o.callbacks&&o.onUpdate&&s("whileScrolling")&&(a(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(o.callbacks&&o.onComplete){"yx"===c.axis&&clearTimeout(f[0].onCompleteTimeout);var e=f[0].idleTimer||0;f[0].onCompleteTimeout=setTimeout(function(){s("onScroll")&&(a(),c.callbacks.onScroll.call(t[0])),s("onTotalScroll")&&x[1]>=w[1]-D&&l.cbOffsets[0]&&(a(),c.callbacks.onTotalScroll.call(t[0])),s("onTotalScrollBack")&&x[1]<=T&&l.cbOffsets[1]&&(a(),c.callbacks.onTotalScrollBack.call(t[0])),l.tweenRunning=!1,f[0].idleTimer=0,k(b,"hide")},e)}}})}},Z=function(e,t,i,n,o,s,r){function a(){w.stop||(b||p.call(),b=X()-v,l(),b>=w.time&&(w.time=b>w.time?b+d-(b-w.time):b+d-1,w.time<b+1&&(w.time=b+1)),w.time<n?w.id=f(a):g.call())}function l(){n>0?(w.currVal=h(w.time,_,x,n,o),y[t]=Math.round(w.currVal)+"px"):y[t]=i+"px",m.call()}function c(){d=1e3/60,w.time=b+d,f=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return l(),setTimeout(e,.01)},w.id=f(a)}function u(){null!=w.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(w.id):clearTimeout(w.id),w.id=null)}function h(e,t,i,n,o){switch(o){case"linear":case"mcsLinear":return i*e/n+t;case"mcsLinearOut":return e/=n,e--,i*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=n/2,1>e?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=n/2,1>e?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=n/2,1>e?i/2*e*e*e+t:(e-=2,i/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=n,e--,-i*(e*e*e*e-1)+t;case"easeOutStrong":return i*(-Math.pow(2,-10*e/n)+1)+t;case"easeOut":case"mcsEaseOut":default:var s=(e/=n)*e,r=s*e;return t+i*(.499999999999997*r*s+-2.5*s*s+5.5*r+-6.5*s+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var d,f,r=r||{},p=r.onStart||function(){},m=r.onUpdate||function(){},g=r.onComplete||function(){},v=X(),b=0,_=e.offsetTop,y=e.style,w=e._mTween[t];"left"===t&&(_=e.offsetLeft);var x=i-_;w.stop=0,"none"!==s&&u(),c()},X=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},J=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],i=0;i<t.length;i++){var n=t[i];e._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[n].id):clearTimeout(e._mTween[n].id),e._mTween[n].id=null,e._mTween[n].stop=1)}},Q=function(e,t){try{delete e[t]}catch(i){e[t]=null}},et=function(e){return!(e.which&&1!==e.which)},tt=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},it=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},nt=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ot=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return t?document[t]:!1};e.fn[i]=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):h.init.apply(this,arguments)},e[i]=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):h.init.apply(this,arguments)},e[i].defaults=s,window[i]=!0,e(window).bind("load",function(){e(o)[i](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var i,n,o=e(t),s=o.parents(".mCSB_container");return s.length?(i=s.parent(),n=[s[0].offsetTop,s[0].offsetLeft],n[0]+nt(o)[0]>=0&&n[0]+nt(o)[0]<i.height()-o.outerHeight(!1)&&n[1]+nt(o)[1]>=0&&n[1]+nt(o)[1]<i.width()-o.outerWidth(!1)):void 0},mcsInSight:e.expr[":"].mcsInSight||function(t,i,n){var o,s,r,a,l=e(t),c=l.parents(".mCSB_container"),u="exact"===n[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];return c.length?(o=[l.outerHeight(!1),l.outerWidth(!1)],r=[c[0].offsetTop+nt(l)[0],c[0].offsetLeft+nt(l)[1]],s=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],a=[o[0]<s[0]?u[0]:u[1],o[1]<s[1]?u[0]:u[1]],r[0]-s[0]*a[0][0]<0&&r[0]+o[0]-s[0]*a[0][1]>=0&&r[1]-s[1]*a[1][0]<0&&r[1]+o[1]-s[1]*a[1][1]>=0):void 0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var i=e(t).data(n);return i?i.overflowed[0]||i.overflowed[1]:void 0}})})})}),!function(e,t){"use strict";function i(e){function t(t){return i.identifier&&t[i.identifier]===e[i.identifier]}var i=this;return this.rows.contains(t)?!1:(this.rows.push(e),!0)}function n(t){var i=this.footer?this.footer.find(t):e(),n=this.header?this.header.find(t):e();return e.merge(i,n)}function o(t){return t?e.extend({},this.cachedParams,{ctx:t}):this.cachedParams}function s(){var t={current:this.current,rowCount:this.rowCount,sort:this.sortDictionary,searchPhrase:this.searchPhrase},i=this.options.post;return i=e.isFunction(i)?i():i,this.options.requestHandler(e.extend(!0,t,i))}function r(t){return"."+e.trim(t).replace(/\s+/gm,".")}function a(){var t=this.options.url;return e.isFunction(t)?t():t}function l(){this.element.trigger("initialize"+E),h.call(this),this.selection=this.options.selection&&null!=this.identifier,f.call(this),m.call(this),T.call(this),S.call(this),g.call(this),d.call(this),this.element.trigger("initialized"+E)}function c(){this.options.highlightRows}function u(e){return e.visible}function h(){var t=this,i=this.element.find("thead > tr").first(),n=!1;i.children().each(function(){var i=e(this),o=i.data(),s={id:o.columnId,identifier:null==t.identifier&&o.identifier||!1,converter:t.options.converters[o.converter||o.type]||t.options.converters.string,text:i.text(),align:o.align||"left",headerAlign:o.headerAlign||"left",cssClass:o.cssClass||"",headerCssClass:o.headerCssClass||"",formatter:t.options.formatters[o.formatter]||null,order:n||"asc"!==o.order&&"desc"!==o.order?null:o.order,searchable:!(o.searchable===!1),sortable:!(o.sortable===!1),visible:!(o.visible===!1),visibleInSelection:!(o.visibleInSelection===!1),width:e.isNumeric(o.width)?o.width+"px":"string"==typeof o.width?o.width:null};t.columns.push(s),null!=s.order&&(t.sortDictionary[s.id]=s.order),s.identifier&&(t.identifier=s.id,t.converter=s.converter),t.options.multiSort||null===s.order||(n=!0)})}function d(){function i(e){for(var t,i=new RegExp(o.searchPhrase,o.options.caseSensitive?"g":"gi"),n=0;n<o.columns.length;n++)if(t=o.columns[n],t.searchable&&t.visible&&t.converter.to(e[t.id]).search(i)>-1)return!0;return!1}function n(e,t){o.currentRows=e,p.call(o,t),o.options.keepSelection||(o.selectedRows=[]),k.call(o,e),b.call(o),y.call(o),o.element._bgBusyAria(!1).trigger("loaded"+E)}var o=this;if(this.element._bgBusyAria(!0).trigger("load"+E),A.call(this),this.options.ajax){var r=s.call(this),l=a.call(this);if(null==l||"string"!=typeof l||0===l.length)throw new Error("Url setting must be a none empty string or a function that returns one.");this.xqr&&this.xqr.abort();var c={url:l,data:r,success:function(t){o.xqr=null,"string"==typeof t&&(t=e.parseJSON(t)),t=o.options.responseHandler(t),o.current=t.current,n(t.rows,t.total)},error:function(e,t){o.xqr=null,"abort"!==t&&(_.call(o),o.element._bgBusyAria(!1).trigger("loaded"+E))}};c=e.extend(this.options.ajaxSettings,c),this.xqr=e.ajax(c)}else{var u=this.searchPhrase.length>0?this.rows.where(i):this.rows,h=u.length;-1!==this.rowCount&&(u=u.page(this.current,this.rowCount)),t.setTimeout(function(){n(u,h)},10)}}function f(){if(!this.options.ajax){var t=this,n=this.element.find("tbody > tr");n.each(function(){var n=e(this),o=n.children("td"),s={};e.each(t.columns,function(e,t){s[t.id]=t.converter.from(o.eq(e).text())}),i.call(t,s)}),p.call(this,this.rows.length),M.call(this)}}function p(e){this.total=e,this.totalPages=-1===this.rowCount?1:Math.ceil(this.total/this.rowCount)}function m(){var t=this.options.templates,i=this.element.parent().hasClass(this.options.css.responsiveTable)?this.element.parent():this.element;this.element.addClass(this.options.css.table),0===this.element.children("tbody").length&&this.element.append(t.body),1&this.options.navigation&&(this.header=e(t.header.resolve(o.call(this,{id:this.element._bgId()+"-header"}))),i.before(this.header)),2&this.options.navigation&&(this.footer=e(t.footer.resolve(o.call(this,{id:this.element._bgId()+"-footer"}))),i.after(this.footer))}function g(){if(0!==this.options.navigation){var t=this.options.css,i=r(t.actions),s=n.call(this,i);if(s.length>0){var a=this,l=this.options.templates,c=e(l.actions.resolve(o.call(this)));if(this.options.ajax){var u=l.icon.resolve(o.call(this,{iconCss:t.iconRefresh})),h=e(l.actionButton.resolve(o.call(this,{content:u,text:this.options.labels.refresh}))).on("click"+E,function(e){e.stopPropagation(),a.current=1,d.call(a)});c.append(h)}x.call(this,c),v.call(this,c),P.call(this,s,c)}}}function v(t){if(this.options.columnSelection&&this.columns.length>1){var i=this,n=this.options.css,s=this.options.templates,a=s.icon.resolve(o.call(this,{iconCss:n.iconColumns})),l=e(s.actionDropDown.resolve(o.call(this,{content:a}))),c=r(n.dropDownItem),h=r(n.dropDownItemCheckbox),f=r(n.dropDownMenuItems);e.each(this.columns,function(t,a){if(a.visibleInSelection){var p=e(s.actionDropDownCheckboxItem.resolve(o.call(i,{name:a.id,label:a.text,checked:a.visible}))).on("click"+E,c,function(t){t.stopPropagation();var n=e(this),o=n.find(h);if(!o.prop("disabled")){a.visible=o.prop("checked");var s=i.columns.where(u).length>1;n.parents(f).find(c+":has("+h+":checked)")._bgEnableAria(s).find(h)._bgEnableField(s),i.element.find("tbody").empty(),T.call(i),d.call(i)}});l.find(r(n.dropDownMenuItems)).append(p)}}),t.append(l)}}function b(){if(0!==this.options.navigation){var t=r(this.options.css.infos),i=n.call(this,t);if(i.length>0){var s=this.current*this.rowCount,a=e(this.options.templates.infos.resolve(o.call(this,{end:0===this.total||-1===s||s>this.total?this.total:s,start:0===this.total?0:s-this.rowCount+1,total:this.total})));P.call(this,i,a)}}}function _(){var e=this.element.children("tbody").first(),t=this.options.templates,i=this.columns.where(u).length;this.selection&&(i+=1),e.html(t.noResults.resolve(o.call(this,{columns:i})))}function y(){if(0!==this.options.navigation){var t=r(this.options.css.pagination),i=n.call(this,t)._bgShowAria(-1!==this.rowCount);if(-1!==this.rowCount&&i.length>0){var s=this.options.templates,a=this.current,l=this.totalPages,c=e(s.pagination.resolve(o.call(this))),u=l-a,h=-1*(this.options.padding-a),d=u>=this.options.padding?Math.max(h,1):Math.max(h-this.options.padding+u,1),f=2*this.options.padding+1,p=l>=f?f:l;w.call(this,c,"first","&laquo;","first")._bgEnableAria(a>1),w.call(this,c,"prev","&lt;","prev")._bgEnableAria(a>1);for(var m=0;p>m;m++){var g=m+d;w.call(this,c,g,g,"page-"+g)._bgEnableAria()._bgSelectAria(g===a)}0===p&&w.call(this,c,1,1,"page-1")._bgEnableAria(!1)._bgSelectAria(),w.call(this,c,"next","&gt;","next")._bgEnableAria(l>a),w.call(this,c,"last","&raquo;","last")._bgEnableAria(l>a),P.call(this,i,c)}}}function w(t,i,n,s){var a=this,l=this.options.templates,c=this.options.css,u=o.call(this,{css:s,text:n,page:i}),h=e(l.paginationItem.resolve(u)).on("click"+E,r(c.paginationButton),function(t){t.stopPropagation(),t.preventDefault();var i=e(this),n=i.parent();if(!n.hasClass("active")&&!n.hasClass("disabled")){var o={first:1,prev:a.current-1,next:a.current+1,last:a.totalPages},s=i.data("page");a.current=o[s]||s,d.call(a)}i.trigger("blur")});return t.append(h),h}function x(t){function i(e){return-1===e?n.options.labels.all:e}var n=this,s=this.options.rowCount;if(e.isArray(s)){var a=this.options.css,l=this.options.templates,c=e(l.actionDropDown.resolve(o.call(this,{content:i(this.rowCount)}))),u=r(a.dropDownMenu),h=r(a.dropDownMenuText),f=r(a.dropDownMenuItems),p=r(a.dropDownItemButton);e.each(s,function(t,s){var r=e(l.actionDropDownItem.resolve(o.call(n,{text:i(s),action:s})))._bgSelectAria(s===n.rowCount).on("click"+E,p,function(t){t.preventDefault();var o=e(this),s=o.data("action");s!==n.rowCount&&(n.current=1,n.rowCount=s,o.parents(f).children().each(function(){var t=e(this),i=t.find(p).data("action");t._bgSelectAria(i===s)}),o.parents(u).find(h).text(i(s)),d.call(n))});c.find(f).append(r)}),t.append(c)}}function k(t){if(t.length>0){var i=this,n=this.options.css,s=this.options.templates,a=this.element.children("tbody").first(),l=!0,c="";e.each(t,function(t,r){var a="",u=' data-row-id="'+(null==i.identifier?t:r[i.identifier])+'"',h="";if(i.selection){var d=-1!==e.inArray(r[i.identifier],i.selectedRows),f=s.select.resolve(o.call(i,{type:"checkbox",value:r[i.identifier],checked:d}));a+=s.cell.resolve(o.call(i,{content:f,css:n.selectCell})),l=l&&d,d&&(h+=n.selected,u+=' aria-selected="true"')}var p=null!=r.status&&i.options.statusMapping[r.status];p&&(h+=p),e.each(i.columns,function(t,l){if(l.visible){var c=e.isFunction(l.formatter)?l.formatter.call(i,l,r):l.converter.to(r[l.id]),u=l.cssClass.length>0?" "+l.cssClass:"";a+=s.cell.resolve(o.call(i,{content:null==c||""===c?"&nbsp;":c,css:("right"===l.align?n.right:"center"===l.align?n.center:n.left)+u,style:null==l.width?"":"width:"+l.width+";"}))}}),h.length>0&&(u+=' class="'+h+'"'),c+=s.row.resolve(o.call(i,{attr:u,cells:a}))}),i.element.find("thead "+r(i.options.css.selectBox)).prop("checked",l),a.html(c),C.call(this,a)}else _.call(this)}function C(t){var i=this,n=r(this.options.css.selectBox);this.selection&&t.off("click"+E,n).on("click"+E,n,function(t){t.stopPropagation();var n=e(this),o=i.converter.from(n.val());n.prop("checked")?i.select([o]):i.deselect([o])}),t.off("click"+E,"> tr").on("click"+E,"> tr",function(t){t.stopPropagation();var n=e(this),o=null==i.identifier?n.data("row-id"):i.converter.from(n.data("row-id")+""),s=null==i.identifier?i.currentRows[o]:i.currentRows.first(function(e){return e[i.identifier]===o});i.selection&&i.options.rowSelect&&(n.hasClass(i.options.css.selected)?i.deselect([o]):i.select([o])),i.element.trigger("click"+E,[i.columns,s])})}function S(){if(0!==this.options.navigation){var i=this.options.css,s=r(i.search),a=n.call(this,s);if(a.length>0){var l=this,c=this.options.templates,u=null,h="",d=r(i.searchField),f=e(c.search.resolve(o.call(this))),p=f.is(d)?f:f.find(d);p.on("keyup"+E,function(i){i.stopPropagation();var n=e(this).val();(h!==n||13===i.which&&""!==n)&&(h=n,(13===i.which||0===n.length||n.length>=l.options.searchSettings.characters)&&(t.clearTimeout(u),u=t.setTimeout(function(){D.call(l,n)},l.options.searchSettings.delay)))}),P.call(this,a,f)}}}function D(e){this.searchPhrase!==e&&(this.current=1,this.searchPhrase=e,d.call(this))}function T(){var t=this,i=this.element.find("thead > tr"),n=this.options.css,s=this.options.templates,a="",l=this.options.sorting;if(this.selection){var c=this.options.multiSelect?s.select.resolve(o.call(t,{type:"checkbox",value:"all"})):"";a+=s.rawHeaderCell.resolve(o.call(t,{content:c,css:n.selectCell}))}if(e.each(this.columns,function(e,i){if(i.visible){var r=t.sortDictionary[i.id],c=l&&r&&"asc"===r?n.iconUp:l&&r&&"desc"===r?n.iconDown:"",u=s.icon.resolve(o.call(t,{iconCss:c})),h=i.headerAlign,d=i.headerCssClass.length>0?" "+i.headerCssClass:"";a+=s.headerCell.resolve(o.call(t,{column:i,icon:u,sortable:l&&i.sortable&&n.sortable||"",css:("right"===h?n.right:"center"===h?n.center:n.left)+d,style:null==i.width?"":"width:"+i.width+";"}))}}),i.html(a),l){var u=r(n.sortable);i.off("click"+E,u).on("click"+E,u,function(i){i.preventDefault(),I.call(t,e(this)),M.call(t),d.call(t)})}if(this.selection&&this.options.multiSelect){var h=r(n.selectBox);i.off("click"+E,h).on("click"+E,h,function(i){i.stopPropagation(),e(this).prop("checked")?t.select():t.deselect()})}}function I(e){var t=this.options.css,i=r(t.icon),n=e.data("column-id")||e.parents("th").first().data("column-id"),o=this.sortDictionary[n],s=e.find(i);if(this.options.multiSort||(e.parents("tr").first().find(i).removeClass(t.iconDown+" "+t.iconUp),this.sortDictionary={}),o&&"asc"===o)this.sortDictionary[n]="desc",s.removeClass(t.iconUp).addClass(t.iconDown);else if(o&&"desc"===o)if(this.options.multiSort){var a={};for(var l in this.sortDictionary)l!==n&&(a[l]=this.sortDictionary[l]);this.sortDictionary=a,s.removeClass(t.iconDown)}else this.sortDictionary[n]="asc",s.removeClass(t.iconDown).addClass(t.iconUp);else this.sortDictionary[n]="asc",s.addClass(t.iconUp)}function P(t,i){t.each(function(t,n){e(n).before(i.clone(!0)).remove()})}function A(){var e=this;t.setTimeout(function(){if("true"===e.element._bgAria("busy")){var t=e.options.templates,i=e.element.children("thead").first(),n=e.element.children("tbody").first(),s=n.find("tr > td").first(),r=e.element.height()-i.height()-(s.height()+20),a=e.columns.where(u).length;e.selection&&(a+=1),n.html(t.loading.resolve(o.call(e,{columns:a}))),-1!==e.rowCount&&r>0&&n.find("tr > td").css("padding","20px 0 "+r+"px")}},250)}function M(){function e(i,n,o){function s(e){return"asc"===a.order?e:-1*e}o=o||0;var r=o+1,a=t[o];return i[a.id]>n[a.id]?s(1):i[a.id]<n[a.id]?s(-1):t.length>r?e(i,n,r):0}var t=[];if(!this.options.ajax){for(var i in this.sortDictionary)(this.options.multiSort||0===t.length)&&t.push({id:i,order:this.sortDictionary[i]});t.length>0&&this.rows.sort(e)}}var E=".rs.jquery.bootgrid",F=function(t,i){this.element=e(t),this.origin=this.element.clone(),this.options=e.extend(!0,{},F.defaults,this.element.data(),i);var n=this.options.rowCount=this.element.data().rowCount||i.rowCount||this.options.rowCount;this.columns=[],this.current=1,this.currentRows=[],this.identifier=null,this.selection=!1,this.converter=null,this.rowCount=e.isArray(n)?n[0]:n,this.rows=[],this.searchPhrase="",this.selectedRows=[],this.sortDictionary={},this.total=0,this.totalPages=0,this.cachedParams={lbl:this.options.labels,css:this.options.css,ctx:{}},this.header=null,this.footer=null,this.xqr=null};if(F.defaults={navigation:3,padding:2,columnSelection:!0,rowCount:[10,25,50,-1],selection:!1,multiSelect:!1,rowSelect:!1,keepSelection:!1,highlightRows:!1,sorting:!0,multiSort:!1,searchSettings:{delay:250,characters:1},ajax:!1,ajaxSettings:{method:"POST"},post:{},url:"",caseSensitive:!0,requestHandler:function(e){return e},responseHandler:function(e){return e},converters:{numeric:{from:function(e){return+e},to:function(e){return e+""}},string:{from:function(e){return e},to:function(e){return e}}},css:{actions:"actions btn-group",center:"text-center",columnHeaderAnchor:"column-header-anchor",columnHeaderText:"text",dropDownItem:"dropdown-item",dropDownItemButton:"dropdown-item-button",dropDownItemCheckbox:"dropdown-item-checkbox",dropDownMenu:"dropdown btn-group",dropDownMenuItems:"dropdown-menu pull-right",dropDownMenuText:"dropdown-text",footer:"bootgrid-footer container-fluid",header:"bootgrid-header container-fluid",icon:"icon glyphicon",iconColumns:"glyphicon-th-list",iconDown:"glyphicon-chevron-down",iconRefresh:"glyphicon-refresh",iconSearch:"glyphicon-search",iconUp:"glyphicon-chevron-up",infos:"infos",left:"text-left",pagination:"pagination",paginationButton:"button",responsiveTable:"table-responsive",right:"text-right",search:"search form-group",searchField:"search-field form-control",selectBox:"select-box",selectCell:"select-cell",selected:"active",sortable:"sortable",table:"bootgrid-table table"},formatters:{},labels:{all:"All",infos:"Showing {{ctx.start}} to {{ctx.end}} of {{ctx.total}} entries",loading:"Loading...",noResults:"No results found!",refresh:"Refresh",search:"Search"},statusMapping:{0:"success",1:"info",2:"warning",3:"danger"},templates:{actionButton:'<button class="btn btn-default" type="button" title="{{ctx.text}}">{{ctx.content}}</button>',actionDropDown:'<div class="{{css.dropDownMenu}}"><button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"><span class="{{css.dropDownMenuText}}">{{ctx.content}}</span> <span class="caret"></span></button><ul class="{{css.dropDownMenuItems}}" role="menu"></ul></div>',actionDropDownItem:'<li><a data-action="{{ctx.action}}" class="{{css.dropDownItem}} {{css.dropDownItemButton}}">{{ctx.text}}</a></li>',actionDropDownCheckboxItem:'<li><label class="{{css.dropDownItem}}"><input name="{{ctx.name}}" type="checkbox" value="1" class="{{css.dropDownItemCheckbox}}" {{ctx.checked}} /> {{ctx.label}}</label></li>',actions:'<div class="{{css.actions}}"></div>',body:"<tbody></tbody>",cell:'<td class="{{ctx.css}}" style="{{ctx.style}}">{{ctx.content}}</td>',footer:'<div id="{{ctx.id}}" class="{{css.footer}}"><div class="row"><div class="col-sm-6"><p class="{{css.pagination}}"></p></div><div class="col-sm-6 infoBar"><p class="{{css.infos}}"></p></div></div></div>',header:'<div id="{{ctx.id}}" class="{{css.header}}"><div class="row"><div class="col-sm-12 actionBar"><p class="{{css.search}}"></p><p class="{{css.actions}}"></p></div></div></div>',headerCell:'<th data-column-id="{{ctx.column.id}}" class="{{ctx.css}}" style="{{ctx.style}}"><a href="javascript:void(0);" class="{{css.columnHeaderAnchor}} {{ctx.sortable}}"><span class="{{css.columnHeaderText}}">{{ctx.column.text}}</span>{{ctx.icon}}</a></th>',icon:'<span class="{{css.icon}} {{ctx.iconCss}}"></span>',infos:'<div class="{{css.infos}}">{{lbl.infos}}</div>',loading:'<tr><td colspan="{{ctx.columns}}" class="loading">{{lbl.loading}}</td></tr>',noResults:'<tr><td colspan="{{ctx.columns}}" class="no-results">{{lbl.noResults}}</td></tr>',pagination:'<ul class="{{css.pagination}}"></ul>',paginationItem:'<li class="{{ctx.css}}"><a data-page="{{ctx.page}}" class="{{css.paginationButton}}">{{ctx.text}}</a></li>',rawHeaderCell:'<th class="{{ctx.css}}">{{ctx.content}}</th>',row:"<tr{{ctx.attr}}>{{ctx.cells}}</tr>",search:'<div class="{{css.search}}"><div class="input-group"><span class="{{css.icon}} input-group-addon {{css.iconSearch}}"></span> <input type="text" class="{{css.searchField}}" placeholder="{{lbl.search}}" /></div></div>',select:'<input name="select" type="{{ctx.type}}" class="{{css.selectBox}}" value="{{ctx.value}}" {{ctx.checked}} />'}},F.prototype.append=function(e){if(this.options.ajax);else{for(var t=[],n=0;n<e.length;n++)i.call(this,e[n])&&t.push(e[n]);M.call(this),c.call(this,t),d.call(this),this.element.trigger("appended"+E,[t])}return this},F.prototype.clear=function(){if(this.options.ajax);else{var t=e.extend([],this.rows);this.rows=[],this.current=1,this.total=0,d.call(this),this.element.trigger("cleared"+E,[t])}return this},F.prototype.destroy=function(){return e(t).off(E),1&this.options.navigation&&this.header.remove(),2&this.options.navigation&&this.footer.remove(),this.element.before(this.origin).remove(),this},F.prototype.reload=function(){return this.current=1,d.call(this),this},F.prototype.remove=function(e){if(null!=this.identifier)if(this.options.ajax);else{e=e||this.selectedRows;for(var t,i=[],n=0;n<e.length;n++){t=e[n];for(var o=0;o<this.rows.length;o++)if(this.rows[o][this.identifier]===t){i.push(this.rows[o]),this.rows.splice(o,1);break}}this.current=1,d.call(this),this.element.trigger("removed"+E,[i])}return this},F.prototype.search=function(e){if(e=e||"",this.searchPhrase!==e){var t=r(this.options.css.searchField),i=n.call(this,t);i.val(e)}return D.call(this,e),this},F.prototype.select=function(t){if(this.selection){t=t||this.currentRows.propValues(this.identifier);for(var i,n,o=[];t.length>0&&(this.options.multiSelect||1!==o.length);)if(i=t.pop(),-1===e.inArray(i,this.selectedRows))for(n=0;n<this.currentRows.length;n++)if(this.currentRows[n][this.identifier]===i){o.push(this.currentRows[n]),this.selectedRows.push(i);break}if(o.length>0){var s=r(this.options.css.selectBox),a=this.selectedRows.length>=this.currentRows.length;for(n=0;!this.options.keepSelection&&a&&n<this.currentRows.length;)a=-1!==e.inArray(this.currentRows[n++][this.identifier],this.selectedRows);for(this.element.find("thead "+s).prop("checked",a),this.options.multiSelect||this.element.find("tbody > tr "+s+":checked").trigger("click"+E),n=0;n<this.selectedRows.length;n++)this.element.find('tbody > tr[data-row-id="'+this.selectedRows[n]+'"]').addClass(this.options.css.selected)._bgAria("selected","true").find(s).prop("checked",!0);this.element.trigger("selected"+E,[o])}}return this},F.prototype.deselect=function(t){if(this.selection){t=t||this.currentRows.propValues(this.identifier);for(var i,n,o,s=[];t.length>0;)if(i=t.pop(),o=e.inArray(i,this.selectedRows),-1!==o)for(n=0;n<this.currentRows.length;n++)if(this.currentRows[n][this.identifier]===i){s.push(this.currentRows[n]),this.selectedRows.splice(o,1);break}if(s.length>0){var a=r(this.options.css.selectBox);for(this.element.find("thead "+a).prop("checked",!1),n=0;n<s.length;n++)this.element.find('tbody > tr[data-row-id="'+s[n][this.identifier]+'"]').removeClass(this.options.css.selected)._bgAria("selected","false").find(a).prop("checked",!1);this.element.trigger("deselected"+E,[s])}}return this},F.prototype.sort=function(t){var i=t?e.extend({},t):{};return i===this.sortDictionary?this:(this.sortDictionary=i,T.call(this),M.call(this),d.call(this),this)},F.prototype.getColumnSettings=function(){return e.merge([],this.columns)},F.prototype.getCurrentPage=function(){return this.current},F.prototype.getCurrentRows=function(){return e.merge([],this.currentRows)},F.prototype.getRowCount=function(){return this.rowCount},F.prototype.getSearchPhrase=function(){return this.searchPhrase},F.prototype.getSelectedRows=function(){return e.merge([],this.selectedRows)},F.prototype.getSortDictionary=function(){return e.extend({},this.sortDictionary)},F.prototype.getTotalPageCount=function(){return this.totalPages},F.prototype.getTotalRowCount=function(){return this.total},e.fn.extend({_bgAria:function(e,t){return t?this.attr("aria-"+e,t):this.attr("aria-"+e)},_bgBusyAria:function(e){return null==e||e?this._bgAria("busy","true"):this._bgAria("busy","false")},_bgRemoveAria:function(e){return this.removeAttr("aria-"+e)},_bgEnableAria:function(e){return null==e||e?this.removeClass("disabled")._bgAria("disabled","false"):this.addClass("disabled")._bgAria("disabled","true")},_bgEnableField:function(e){return null==e||e?this.removeAttr("disabled"):this.attr("disabled","disable")},_bgShowAria:function(e){return null==e||e?this.show()._bgAria("hidden","false"):this.hide()._bgAria("hidden","true")},_bgSelectAria:function(e){return null==e||e?this.addClass("active")._bgAria("selected","true"):this.removeClass("active")._bgAria("selected","false")},_bgId:function(e){return e?this.attr("id",e):this.attr("id")}}),!String.prototype.resolve){var R={checked:function(e){return"boolean"==typeof e?e?'checked="checked"':"":e}};String.prototype.resolve=function(t,i){var n=this;return e.each(t,function(t,o){if(null!=o&&"function"!=typeof o)if("object"==typeof o){var s=i?e.extend([],i):[];s.push(t),n=n.resolve(o,s)+""}else{R&&R[t]&&"function"==typeof R[t]&&(o=R[t](o)),t=i?i.join(".")+"."+t:t;var r=new RegExp("\\{\\{"+t+"\\}\\}","gm");n=n.replace(r,o.replace?o.replace(/\$/gi,"&#36;"):o)}}),n}}Array.prototype.first||(Array.prototype.first=function(e){for(var t=0;t<this.length;t++){var i=this[t];if(e(i))return i}return null}),Array.prototype.contains||(Array.prototype.contains=function(e){for(var t=0;t<this.length;t++){var i=this[t];if(e(i))return!0}return!1}),Array.prototype.page||(Array.prototype.page=function(e,t){var i=(e-1)*t,n=i+t;return this.length>i?this.length>n?this.slice(i,n):this.slice(i):[]}),Array.prototype.where||(Array.prototype.where=function(e){for(var t=[],i=0;i<this.length;i++){var n=this[i];e(n)&&t.push(n)}return t}),Array.prototype.propValues||(Array.prototype.propValues=function(e){for(var t=[],i=0;i<this.length;i++)t.push(this[i][e]);return t});var O=e.fn.bootgrid;e.fn.bootgrid=function(t){var i=Array.prototype.slice.call(arguments,1),n=null,o=this.each(function(o){var s=e(this),r=s.data(E),a="object"==typeof t&&t;if((r||"destroy"!==t)&&(r||(s.data(E,r=new F(this,a)),l.call(r)),"string"==typeof t))if(0===t.indexOf("get")&&0===o)n=r[t].apply(r,i);else if(0!==t.indexOf("get"))return r[t].apply(r,i)});return"string"==typeof t&&0===t.indexOf("get")?n:o},e.fn.bootgrid.Constructor=F,e.fn.bootgrid.noConflict=function(){return e.fn.bootgrid=O,this},e('[data-toggle="bootgrid"]').bootgrid()}(jQuery,window),!function(e){"use strict";e.extend(e.fn.bootgrid.Constructor.defaults.css,{icon:"icon fa",iconColumns:"fa-th-list",iconDown:"fa-sort-desc",iconRefresh:"fa-refresh",iconSearch:"fa-search",iconUp:"fa-sort-asc"})}(jQuery,window),!function(e,t){"use strict";function i(e){function t(t){return i.identifier&&t[i.identifier]===e[i.identifier]}var i=this;return this.rows.contains(t)?!1:(this.rows.push(e),!0)}function n(t){var i=this.footer?this.footer.find(t):e(),n=this.header?this.header.find(t):e();return e.merge(i,n)}function o(t){return t?e.extend({},this.cachedParams,{ctx:t}):this.cachedParams}function s(){var t={current:this.current,rowCount:this.rowCount,sort:this.sortDictionary,searchPhrase:this.searchPhrase},i=this.options.post;return i=e.isFunction(i)?i():i,this.options.requestHandler(e.extend(!0,t,i))}function r(t){return"."+e.trim(t).replace(/\s+/gm,".")}function a(){var t=this.options.url;return e.isFunction(t)?t():t}function l(){this.element.trigger("initialize"+E),h.call(this),this.selection=this.options.selection&&null!=this.identifier,f.call(this),m.call(this),T.call(this),S.call(this),g.call(this),d.call(this),this.element.trigger("initialized"+E)}function c(){this.options.highlightRows}function u(e){return e.visible}function h(){var t=this,i=this.element.find("thead > tr").first(),n=!1;i.children().each(function(){var i=e(this),o=i.data(),s={id:o.columnId,identifier:null==t.identifier&&o.identifier||!1,converter:t.options.converters[o.converter||o.type]||t.options.converters.string,text:i.text(),align:o.align||"left",headerAlign:o.headerAlign||"left",cssClass:o.cssClass||"",headerCssClass:o.headerCssClass||"",formatter:t.options.formatters[o.formatter]||null,order:n||"asc"!==o.order&&"desc"!==o.order?null:o.order,searchable:!(o.searchable===!1),sortable:!(o.sortable===!1),visible:!(o.visible===!1),visibleInSelection:!(o.visibleInSelection===!1),width:e.isNumeric(o.width)?o.width+"px":"string"==typeof o.width?o.width:null};t.columns.push(s),null!=s.order&&(t.sortDictionary[s.id]=s.order),s.identifier&&(t.identifier=s.id,t.converter=s.converter),t.options.multiSort||null===s.order||(n=!0)})}function d(){function i(e){for(var t,i=new RegExp(o.searchPhrase,o.options.caseSensitive?"g":"gi"),n=0;n<o.columns.length;n++)if(t=o.columns[n],t.searchable&&t.visible&&t.converter.to(e[t.id]).search(i)>-1)return!0;return!1}function n(e,t){o.currentRows=e,p.call(o,t),o.options.keepSelection||(o.selectedRows=[]),k.call(o,e),b.call(o),y.call(o),o.element._bgBusyAria(!1).trigger("loaded"+E)}var o=this;if(this.element._bgBusyAria(!0).trigger("load"+E),A.call(this),this.options.ajax){var r=s.call(this),l=a.call(this);if(null==l||"string"!=typeof l||0===l.length)throw new Error("Url setting must be a none empty string or a function that returns one.");this.xqr&&this.xqr.abort();var c={url:l,data:r,success:function(t){o.xqr=null,"string"==typeof t&&(t=e.parseJSON(t)),t=o.options.responseHandler(t),o.current=t.current,n(t.rows,t.total)},error:function(e,t){o.xqr=null,"abort"!==t&&(_.call(o),o.element._bgBusyAria(!1).trigger("loaded"+E))}};c=e.extend(this.options.ajaxSettings,c),this.xqr=e.ajax(c)}else{var u=this.searchPhrase.length>0?this.rows.where(i):this.rows,h=u.length;-1!==this.rowCount&&(u=u.page(this.current,this.rowCount)),t.setTimeout(function(){n(u,h)},10)}}function f(){if(!this.options.ajax){var t=this,n=this.element.find("tbody > tr");n.each(function(){var n=e(this),o=n.children("td"),s={};e.each(t.columns,function(e,t){s[t.id]=t.converter.from(o.eq(e).text())}),i.call(t,s)}),p.call(this,this.rows.length),M.call(this)}}function p(e){this.total=e,this.totalPages=-1===this.rowCount?1:Math.ceil(this.total/this.rowCount)}function m(){var t=this.options.templates,i=this.element.parent().hasClass(this.options.css.responsiveTable)?this.element.parent():this.element;
this.element.addClass(this.options.css.table),0===this.element.children("tbody").length&&this.element.append(t.body),1&this.options.navigation&&(this.header=e(t.header.resolve(o.call(this,{id:this.element._bgId()+"-header"}))),i.before(this.header)),2&this.options.navigation&&(this.footer=e(t.footer.resolve(o.call(this,{id:this.element._bgId()+"-footer"}))),i.after(this.footer))}function g(){if(0!==this.options.navigation){var t=this.options.css,i=r(t.actions),s=n.call(this,i);if(s.length>0){var a=this,l=this.options.templates,c=e(l.actions.resolve(o.call(this)));if(this.options.ajax){var u=l.icon.resolve(o.call(this,{iconCss:t.iconRefresh})),h=e(l.actionButton.resolve(o.call(this,{content:u,text:this.options.labels.refresh}))).on("click"+E,function(e){e.stopPropagation(),a.current=1,d.call(a)});c.append(h)}x.call(this,c),v.call(this,c),P.call(this,s,c)}}}function v(t){if(this.options.columnSelection&&this.columns.length>1){var i=this,n=this.options.css,s=this.options.templates,a=s.icon.resolve(o.call(this,{iconCss:n.iconColumns})),l=e(s.actionDropDown.resolve(o.call(this,{content:a}))),c=r(n.dropDownItem),h=r(n.dropDownItemCheckbox),f=r(n.dropDownMenuItems);e.each(this.columns,function(t,a){if(a.visibleInSelection){var p=e(s.actionDropDownCheckboxItem.resolve(o.call(i,{name:a.id,label:a.text,checked:a.visible}))).on("click"+E,c,function(t){t.stopPropagation();var n=e(this),o=n.find(h);if(!o.prop("disabled")){a.visible=o.prop("checked");var s=i.columns.where(u).length>1;n.parents(f).find(c+":has("+h+":checked)")._bgEnableAria(s).find(h)._bgEnableField(s),i.element.find("tbody").empty(),T.call(i),d.call(i)}});l.find(r(n.dropDownMenuItems)).append(p)}}),t.append(l)}}function b(){if(0!==this.options.navigation){var t=r(this.options.css.infos),i=n.call(this,t);if(i.length>0){var s=this.current*this.rowCount,a=e(this.options.templates.infos.resolve(o.call(this,{end:0===this.total||-1===s||s>this.total?this.total:s,start:0===this.total?0:s-this.rowCount+1,total:this.total})));P.call(this,i,a)}}}function _(){var e=this.element.children("tbody").first(),t=this.options.templates,i=this.columns.where(u).length;this.selection&&(i+=1),e.html(t.noResults.resolve(o.call(this,{columns:i})))}function y(){if(0!==this.options.navigation){var t=r(this.options.css.pagination),i=n.call(this,t)._bgShowAria(-1!==this.rowCount);if(-1!==this.rowCount&&i.length>0){var s=this.options.templates,a=this.current,l=this.totalPages,c=e(s.pagination.resolve(o.call(this))),u=l-a,h=-1*(this.options.padding-a),d=u>=this.options.padding?Math.max(h,1):Math.max(h-this.options.padding+u,1),f=2*this.options.padding+1,p=l>=f?f:l;w.call(this,c,"first","<i class='zmdi zmdi-more-horiz'></i>","first")._bgEnableAria(a>1),w.call(this,c,"prev","<i class='zmdi zmdi-chevron-left'></i>","prev")._bgEnableAria(a>1);for(var m=0;p>m;m++){var g=m+d;w.call(this,c,g,g,"page-"+g)._bgEnableAria()._bgSelectAria(g===a)}0===p&&w.call(this,c,1,1,"page-1")._bgEnableAria(!1)._bgSelectAria(),w.call(this,c,"next","<i class='zmdi zmdi-chevron-right'></i>","next")._bgEnableAria(l>a),w.call(this,c,"last","<i class='zmdi zmdi-more-horiz'></i>","last")._bgEnableAria(l>a),P.call(this,i,c)}}}function w(t,i,n,s){var a=this,l=this.options.templates,c=this.options.css,u=o.call(this,{css:s,text:n,page:i}),h=e(l.paginationItem.resolve(u)).on("click"+E,r(c.paginationButton),function(t){t.stopPropagation(),t.preventDefault();var i=e(this),n=i.parent();if(!n.hasClass("active")&&!n.hasClass("disabled")){var o={first:1,prev:a.current-1,next:a.current+1,last:a.totalPages},s=i.data("page");a.current=o[s]||s,d.call(a)}i.trigger("blur")});return t.append(h),h}function x(t){function i(e){return-1===e?n.options.labels.all:e}var n=this,s=this.options.rowCount;if(e.isArray(s)){var a=this.options.css,l=this.options.templates,c=e(l.actionDropDown.resolve(o.call(this,{content:i(this.rowCount)}))),u=r(a.dropDownMenu),h=r(a.dropDownMenuText),f=r(a.dropDownMenuItems),p=r(a.dropDownItemButton);e.each(s,function(t,s){var r=e(l.actionDropDownItem.resolve(o.call(n,{text:i(s),action:s})))._bgSelectAria(s===n.rowCount).on("click"+E,p,function(t){t.preventDefault();var o=e(this),s=o.data("action");s!==n.rowCount&&(n.current=1,n.rowCount=s,o.parents(f).children().each(function(){var t=e(this),i=t.find(p).data("action");t._bgSelectAria(i===s)}),o.parents(u).find(h).text(i(s)),d.call(n))});c.find(f).append(r)}),t.append(c)}}function k(t){if(t.length>0){var i=this,n=this.options.css,s=this.options.templates,a=this.element.children("tbody").first(),l=!0,c="";e.each(t,function(t,r){var a="",u=' data-row-id="'+(null==i.identifier?t:r[i.identifier])+'"',h="";if(i.selection){var d=-1!==e.inArray(r[i.identifier],i.selectedRows),f=s.select.resolve(o.call(i,{type:"checkbox",value:r[i.identifier],checked:d}));a+=s.cell.resolve(o.call(i,{content:f,css:n.selectCell})),l=l&&d,d&&(h+=n.selected,u+=' aria-selected="true"')}var p=null!=r.status&&i.options.statusMapping[r.status];p&&(h+=p),e.each(i.columns,function(t,l){if(l.visible){var c=e.isFunction(l.formatter)?l.formatter.call(i,l,r):l.converter.to(r[l.id]),u=l.cssClass.length>0?" "+l.cssClass:"";a+=s.cell.resolve(o.call(i,{content:null==c||""===c?"&nbsp;":c,css:("right"===l.align?n.right:"center"===l.align?n.center:n.left)+u,style:null==l.width?"":"width:"+l.width+";"}))}}),h.length>0&&(u+=' class="'+h+'"'),c+=s.row.resolve(o.call(i,{attr:u,cells:a}))}),i.element.find("thead "+r(i.options.css.selectBox)).prop("checked",l),a.html(c),C.call(this,a)}else _.call(this)}function C(t){var i=this,n=r(this.options.css.selectBox);this.selection&&t.off("click"+E,n).on("click"+E,n,function(t){t.stopPropagation();var n=e(this),o=i.converter.from(n.val());n.prop("checked")?i.select([o]):i.deselect([o])}),t.off("click"+E,"> tr").on("click"+E,"> tr",function(t){t.stopPropagation();var n=e(this),o=null==i.identifier?n.data("row-id"):i.converter.from(n.data("row-id")+""),s=null==i.identifier?i.currentRows[o]:i.currentRows.first(function(e){return e[i.identifier]===o});i.selection&&i.options.rowSelect&&(n.hasClass(i.options.css.selected)?i.deselect([o]):i.select([o])),i.element.trigger("click"+E,[i.columns,s])})}function S(){if(0!==this.options.navigation){var i=this.options.css,s=r(i.search),a=n.call(this,s);if(a.length>0){var l=this,c=this.options.templates,u=null,h="",d=r(i.searchField),f=e(c.search.resolve(o.call(this))),p=f.is(d)?f:f.find(d);p.on("keyup"+E,function(i){i.stopPropagation();var n=e(this).val();(h!==n||13===i.which&&""!==n)&&(h=n,(13===i.which||0===n.length||n.length>=l.options.searchSettings.characters)&&(t.clearTimeout(u),u=t.setTimeout(function(){D.call(l,n)},l.options.searchSettings.delay)))}),P.call(this,a,f)}}}function D(e){this.searchPhrase!==e&&(this.current=1,this.searchPhrase=e,d.call(this))}function T(){var t=this,i=this.element.find("thead > tr"),n=this.options.css,s=this.options.templates,a="",l=this.options.sorting;if(this.selection){var c=this.options.multiSelect?s.select.resolve(o.call(t,{type:"checkbox",value:"all"})):"";a+=s.rawHeaderCell.resolve(o.call(t,{content:c,css:n.selectCell}))}if(e.each(this.columns,function(e,i){if(i.visible){var r=t.sortDictionary[i.id],c=l&&r&&"asc"===r?n.iconUp:l&&r&&"desc"===r?n.iconDown:"",u=s.icon.resolve(o.call(t,{iconCss:c})),h=i.headerAlign,d=i.headerCssClass.length>0?" "+i.headerCssClass:"";a+=s.headerCell.resolve(o.call(t,{column:i,icon:u,sortable:l&&i.sortable&&n.sortable||"",css:("right"===h?n.right:"center"===h?n.center:n.left)+d,style:null==i.width?"":"width:"+i.width+";"}))}}),i.html(a),l){var u=r(n.sortable);i.off("click"+E,u).on("click"+E,u,function(i){i.preventDefault(),I.call(t,e(this)),M.call(t),d.call(t)})}if(this.selection&&this.options.multiSelect){var h=r(n.selectBox);i.off("click"+E,h).on("click"+E,h,function(i){i.stopPropagation(),e(this).prop("checked")?t.select():t.deselect()})}}function I(e){var t=this.options.css,i=r(t.icon),n=e.data("column-id")||e.parents("th").first().data("column-id"),o=this.sortDictionary[n],s=e.find(i);if(this.options.multiSort||(e.parents("tr").first().find(i).removeClass(t.iconDown+" "+t.iconUp),this.sortDictionary={}),o&&"asc"===o)this.sortDictionary[n]="desc",s.removeClass(t.iconUp).addClass(t.iconDown);else if(o&&"desc"===o)if(this.options.multiSort){var a={};for(var l in this.sortDictionary)l!==n&&(a[l]=this.sortDictionary[l]);this.sortDictionary=a,s.removeClass(t.iconDown)}else this.sortDictionary[n]="asc",s.removeClass(t.iconDown).addClass(t.iconUp);else this.sortDictionary[n]="asc",s.addClass(t.iconUp)}function P(t,i){t.each(function(t,n){e(n).before(i.clone(!0)).remove()})}function A(){var e=this;t.setTimeout(function(){if("true"===e.element._bgAria("busy")){var t=e.options.templates,i=e.element.children("thead").first(),n=e.element.children("tbody").first(),s=n.find("tr > td").first(),r=e.element.height()-i.height()-(s.height()+20),a=e.columns.where(u).length;e.selection&&(a+=1),n.html(t.loading.resolve(o.call(e,{columns:a}))),-1!==e.rowCount&&r>0&&n.find("tr > td").css("padding","20px 0 "+r+"px")}},250)}function M(){function e(i,n,o){function s(e){return"asc"===a.order?e:-1*e}o=o||0;var r=o+1,a=t[o];return i[a.id]>n[a.id]?s(1):i[a.id]<n[a.id]?s(-1):t.length>r?e(i,n,r):0}var t=[];if(!this.options.ajax){for(var i in this.sortDictionary)(this.options.multiSort||0===t.length)&&t.push({id:i,order:this.sortDictionary[i]});t.length>0&&this.rows.sort(e)}}var E=".rs.jquery.bootgrid",F=function(t,i){this.element=e(t),this.origin=this.element.clone(),this.options=e.extend(!0,{},F.defaults,this.element.data(),i);var n=this.options.rowCount=this.element.data().rowCount||i.rowCount||this.options.rowCount;this.columns=[],this.current=1,this.currentRows=[],this.identifier=null,this.selection=!1,this.converter=null,this.rowCount=e.isArray(n)?n[0]:n,this.rows=[],this.searchPhrase="",this.selectedRows=[],this.sortDictionary={},this.total=0,this.totalPages=0,this.cachedParams={lbl:this.options.labels,css:this.options.css,ctx:{}},this.header=null,this.footer=null,this.xqr=null};if(F.defaults={navigation:3,padding:2,columnSelection:!0,rowCount:[10,25,50,-1],selection:!1,multiSelect:!1,rowSelect:!1,keepSelection:!1,highlightRows:!1,sorting:!0,multiSort:!1,searchSettings:{delay:250,characters:1},ajax:!1,ajaxSettings:{method:"POST"},post:{},url:"",caseSensitive:!0,requestHandler:function(e){return e},responseHandler:function(e){return e},converters:{numeric:{from:function(e){return+e},to:function(e){return e+""}},string:{from:function(e){return e},to:function(e){return e}}},css:{actions:"actions btn-group",center:"text-center",columnHeaderAnchor:"column-header-anchor",columnHeaderText:"text",dropDownItem:"dropdown-item",dropDownItemButton:"dropdown-item-button",dropDownItemCheckbox:"dropdown-item-checkbox",dropDownMenu:"dropdown btn-group",dropDownMenuItems:"dropdown-menu pull-right",dropDownMenuText:"dropdown-text",footer:"bootgrid-footer container-fluid",header:"bootgrid-header container-fluid",icon:"icon glyphicon",iconColumns:"glyphicon-th-list",iconDown:"glyphicon-chevron-down",iconRefresh:"glyphicon-refresh",iconSearch:"glyphicon-search",iconUp:"glyphicon-chevron-up",infos:"infos",left:"text-left",pagination:"pagination",paginationButton:"button",responsiveTable:"table-responsive",right:"text-right",search:"search form-group",searchField:"search-field form-control",selectBox:"select-box",selectCell:"select-cell",selected:"active",sortable:"sortable",table:"bootgrid-table table"},formatters:{},labels:{all:"All",infos:"Showing {{ctx.start}} to {{ctx.end}} of {{ctx.total}} entries",loading:"Loading...",noResults:"No results found!",refresh:"Refresh",search:"Search"},statusMapping:{0:"success",1:"info",2:"warning",3:"danger"},templates:{actionButton:'<button class="btn btn-default" type="button" title="{{ctx.text}}">{{ctx.content}}</button>',actionDropDown:'<div class="{{css.dropDownMenu}}"><button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown"><span class="{{css.dropDownMenuText}}">{{ctx.content}}</span> <span class="caret"></span></button><ul class="{{css.dropDownMenuItems}}" role="menu"></ul></div>',actionDropDownItem:'<li><a data-action="{{ctx.action}}" class="{{css.dropDownItem}} {{css.dropDownItemButton}}">{{ctx.text}}</a></li>',actionDropDownCheckboxItem:'<li><div class="checkbox"><label class="{{css.dropDownItem}}"><input name="{{ctx.name}}" type="checkbox" value="1" class="{{css.dropDownItemCheckbox}}" {{ctx.checked}} /> {{ctx.label}}<i class="input-helper"></i></label></div></li>',actions:'<div class="{{css.actions}}"></div>',body:"<tbody></tbody>",cell:'<td class="{{ctx.css}}" style="{{ctx.style}}">{{ctx.content}}</td>',footer:'<div id="{{ctx.id}}" class="{{css.footer}}"><div class="row"><div class="col-sm-6"><p class="{{css.pagination}}"></p></div><div class="col-sm-6 infoBar"><p class="{{css.infos}}"></p></div></div></div>',header:'<div id="{{ctx.id}}" class="{{css.header}}"><div class="row"><div class="col-sm-12 actionBar"><p class="{{css.search}}"></p><p class="{{css.actions}}"></p></div></div></div>',headerCell:'<th data-column-id="{{ctx.column.id}}" class="{{ctx.css}}" style="{{ctx.style}}"><a href="javascript:void(0);" class="{{css.columnHeaderAnchor}} {{ctx.sortable}}"><span class="{{css.columnHeaderText}}">{{ctx.column.text}}</span>{{ctx.icon}}</a></th>',icon:'<span class="{{css.icon}} {{ctx.iconCss}}"></span>',infos:'<div class="{{css.infos}}">{{lbl.infos}}</div>',loading:'<tr><td colspan="{{ctx.columns}}" class="loading">{{lbl.loading}}</td></tr>',noResults:'<tr><td colspan="{{ctx.columns}}" class="no-results">{{lbl.noResults}}</td></tr>',pagination:'<ul class="{{css.pagination}}"></ul>',paginationItem:'<li class="{{ctx.css}}"><a data-page="{{ctx.page}}" class="{{css.paginationButton}}">{{ctx.text}}</a></li>',rawHeaderCell:'<th class="{{ctx.css}}">{{ctx.content}}</th>',row:"<tr{{ctx.attr}}>{{ctx.cells}}</tr>",search:'<div class="{{css.search}}"><div class="input-group"><span class="{{css.icon}} input-group-addon {{css.iconSearch}}"></span> <input type="text" class="{{css.searchField}}" placeholder="{{lbl.search}}" /></div></div>',select:'<div class="checkbox"><label><input name="select" type="{{ctx.type}}" class="{{css.selectBox}}" value="{{ctx.value}}" {{ctx.checked}} /><i class="input-helper"></i></label></div>'}},F.prototype.append=function(e){if(this.options.ajax);else{for(var t=[],n=0;n<e.length;n++)i.call(this,e[n])&&t.push(e[n]);M.call(this),c.call(this,t),d.call(this),this.element.trigger("appended"+E,[t])}return this},F.prototype.clear=function(){if(this.options.ajax);else{var t=e.extend([],this.rows);this.rows=[],this.current=1,this.total=0,d.call(this),this.element.trigger("cleared"+E,[t])}return this},F.prototype.destroy=function(){return e(t).off(E),1&this.options.navigation&&this.header.remove(),2&this.options.navigation&&this.footer.remove(),this.element.before(this.origin).remove(),this},F.prototype.reload=function(){return this.current=1,d.call(this),this},F.prototype.remove=function(e){if(null!=this.identifier)if(this.options.ajax);else{e=e||this.selectedRows;for(var t,i=[],n=0;n<e.length;n++){t=e[n];for(var o=0;o<this.rows.length;o++)if(this.rows[o][this.identifier]===t){i.push(this.rows[o]),this.rows.splice(o,1);break}}this.current=1,d.call(this),this.element.trigger("removed"+E,[i])}return this},F.prototype.search=function(e){if(e=e||"",this.searchPhrase!==e){var t=r(this.options.css.searchField),i=n.call(this,t);i.val(e)}return D.call(this,e),this},F.prototype.select=function(t){if(this.selection){t=t||this.currentRows.propValues(this.identifier);for(var i,n,o=[];t.length>0&&(this.options.multiSelect||1!==o.length);)if(i=t.pop(),-1===e.inArray(i,this.selectedRows))for(n=0;n<this.currentRows.length;n++)if(this.currentRows[n][this.identifier]===i){o.push(this.currentRows[n]),this.selectedRows.push(i);break}if(o.length>0){var s=r(this.options.css.selectBox),a=this.selectedRows.length>=this.currentRows.length;for(n=0;!this.options.keepSelection&&a&&n<this.currentRows.length;)a=-1!==e.inArray(this.currentRows[n++][this.identifier],this.selectedRows);for(this.element.find("thead "+s).prop("checked",a),this.options.multiSelect||this.element.find("tbody > tr "+s+":checked").trigger("click"+E),n=0;n<this.selectedRows.length;n++)this.element.find('tbody > tr[data-row-id="'+this.selectedRows[n]+'"]').addClass(this.options.css.selected)._bgAria("selected","true").find(s).prop("checked",!0);this.element.trigger("selected"+E,[o])}}return this},F.prototype.deselect=function(t){if(this.selection){t=t||this.currentRows.propValues(this.identifier);for(var i,n,o,s=[];t.length>0;)if(i=t.pop(),o=e.inArray(i,this.selectedRows),-1!==o)for(n=0;n<this.currentRows.length;n++)if(this.currentRows[n][this.identifier]===i){s.push(this.currentRows[n]),this.selectedRows.splice(o,1);break}if(s.length>0){var a=r(this.options.css.selectBox);for(this.element.find("thead "+a).prop("checked",!1),n=0;n<s.length;n++)this.element.find('tbody > tr[data-row-id="'+s[n][this.identifier]+'"]').removeClass(this.options.css.selected)._bgAria("selected","false").find(a).prop("checked",!1);this.element.trigger("deselected"+E,[s])}}return this},F.prototype.sort=function(t){var i=t?e.extend({},t):{};return i===this.sortDictionary?this:(this.sortDictionary=i,T.call(this),M.call(this),d.call(this),this)},F.prototype.getColumnSettings=function(){return e.merge([],this.columns)},F.prototype.getCurrentPage=function(){return this.current},F.prototype.getCurrentRows=function(){return e.merge([],this.currentRows)},F.prototype.getRowCount=function(){return this.rowCount},F.prototype.getSearchPhrase=function(){return this.searchPhrase},F.prototype.getSelectedRows=function(){return e.merge([],this.selectedRows)},F.prototype.getSortDictionary=function(){return e.extend({},this.sortDictionary)},F.prototype.getTotalPageCount=function(){return this.totalPages},F.prototype.getTotalRowCount=function(){return this.total},e.fn.extend({_bgAria:function(e,t){return t?this.attr("aria-"+e,t):this.attr("aria-"+e)},_bgBusyAria:function(e){return null==e||e?this._bgAria("busy","true"):this._bgAria("busy","false")},_bgRemoveAria:function(e){return this.removeAttr("aria-"+e)},_bgEnableAria:function(e){return null==e||e?this.removeClass("disabled")._bgAria("disabled","false"):this.addClass("disabled")._bgAria("disabled","true")},_bgEnableField:function(e){return null==e||e?this.removeAttr("disabled"):this.attr("disabled","disable")},_bgShowAria:function(e){return null==e||e?this.show()._bgAria("hidden","false"):this.hide()._bgAria("hidden","true")},_bgSelectAria:function(e){return null==e||e?this.addClass("active")._bgAria("selected","true"):this.removeClass("active")._bgAria("selected","false")},_bgId:function(e){return e?this.attr("id",e):this.attr("id")}}),!String.prototype.resolve){var R={checked:function(e){return"boolean"==typeof e?e?'checked="checked"':"":e}};String.prototype.resolve=function(t,i){var n=this;return e.each(t,function(t,o){if(null!=o&&"function"!=typeof o)if("object"==typeof o){var s=i?e.extend([],i):[];s.push(t),n=n.resolve(o,s)+""}else{R&&R[t]&&"function"==typeof R[t]&&(o=R[t](o)),t=i?i.join(".")+"."+t:t;var r=new RegExp("\\{\\{"+t+"\\}\\}","gm");n=n.replace(r,o.replace?o.replace(/\$/gi,"&#36;"):o)}}),n}}Array.prototype.first||(Array.prototype.first=function(e){for(var t=0;t<this.length;t++){var i=this[t];if(e(i))return i}return null}),Array.prototype.contains||(Array.prototype.contains=function(e){for(var t=0;t<this.length;t++){var i=this[t];if(e(i))return!0}return!1}),Array.prototype.page||(Array.prototype.page=function(e,t){var i=(e-1)*t,n=i+t;return this.length>i?this.length>n?this.slice(i,n):this.slice(i):[]}),Array.prototype.where||(Array.prototype.where=function(e){for(var t=[],i=0;i<this.length;i++){var n=this[i];e(n)&&t.push(n)}return t}),Array.prototype.propValues||(Array.prototype.propValues=function(e){for(var t=[],i=0;i<this.length;i++)t.push(this[i][e]);return t});var O=e.fn.bootgrid;e.fn.bootgrid=function(t){var i=Array.prototype.slice.call(arguments,1),n=null,o=this.each(function(o){var s=e(this),r=s.data(E),a="object"==typeof t&&t;if((r||"destroy"!==t)&&(r||(s.data(E,r=new F(this,a)),l.call(r)),"string"==typeof t))if(0===t.indexOf("get")&&0===o)n=r[t].apply(r,i);else if(0!==t.indexOf("get"))return r[t].apply(r,i)});return"string"==typeof t&&0===t.indexOf("get")?n:o},e.fn.bootgrid.Constructor=F,e.fn.bootgrid.noConflict=function(){return e.fn.bootgrid=O,this},e('[data-toggle="bootgrid"]').bootgrid()}(jQuery,window),!function(e){var t=function(t,i){var t=e(t),n=this,o='li:has([data-toggle="tab"])',s=[],r=e.extend({},e.fn.bootstrapWizard.defaults,i),a=null,l=null;this.rebindClick=function(e,t){e.unbind("click",t).bind("click",t)},this.fixNavigationButtons=function(){return a.length||(l.find("a:first").tab("show"),a=l.find(o+":first")),e(r.previousSelector,t).toggleClass("disabled",n.firstIndex()>=n.currentIndex()),e(r.nextSelector,t).toggleClass("disabled",n.currentIndex()>=n.navigationLength()),e(r.nextSelector,t).toggleClass("hidden",n.currentIndex()>=n.navigationLength()&&e(r.finishSelector,t).length>0),e(r.lastSelector,t).toggleClass("hidden",n.currentIndex()>=n.navigationLength()&&e(r.finishSelector,t).length>0),e(r.finishSelector,t).toggleClass("hidden",n.currentIndex()<n.navigationLength()),e(r.backSelector,t).toggleClass("disabled",0==s.length),e(r.backSelector,t).toggleClass("hidden",n.currentIndex()>=n.navigationLength()&&e(r.finishSelector,t).length>0),n.rebindClick(e(r.nextSelector,t),n.next),n.rebindClick(e(r.previousSelector,t),n.previous),n.rebindClick(e(r.lastSelector,t),n.last),n.rebindClick(e(r.firstSelector,t),n.first),n.rebindClick(e(r.finishSelector,t),n.finish),n.rebindClick(e(r.backSelector,t),n.back),r.onTabShow&&"function"==typeof r.onTabShow&&r.onTabShow(a,l,n.currentIndex())===!1?!1:void 0},this.next=function(){if(t.hasClass("last"))return!1;if(r.onNext&&"function"==typeof r.onNext&&r.onNext(a,l,n.nextIndex())===!1)return!1;var e=n.currentIndex(),i=n.nextIndex();i>n.navigationLength()||(s.push(e),l.find(o+(r.withVisible?":visible":"")+":eq("+i+") a").tab("show"))},this.previous=function(){if(t.hasClass("first"))return!1;if(r.onPrevious&&"function"==typeof r.onPrevious&&r.onPrevious(a,l,n.previousIndex())===!1)return!1;var e=n.currentIndex(),i=n.previousIndex();0>i||(s.push(e),l.find(o+(r.withVisible?":visible":"")+":eq("+i+") a").tab("show"))},this.first=function(){return r.onFirst&&"function"==typeof r.onFirst&&r.onFirst(a,l,n.firstIndex())===!1?!1:t.hasClass("disabled")?!1:(s.push(n.currentIndex()),void l.find(o+":eq(0) a").tab("show"))},this.last=function(){return r.onLast&&"function"==typeof r.onLast&&r.onLast(a,l,n.lastIndex())===!1?!1:t.hasClass("disabled")?!1:(s.push(n.currentIndex()),void l.find(o+":eq("+n.navigationLength()+") a").tab("show"))},this.finish=function(){r.onFinish&&"function"==typeof r.onFinish&&r.onFinish(a,l,n.lastIndex())},this.back=function(){if(0==s.length)return null;var e=s.pop();return r.onBack&&"function"==typeof r.onBack&&r.onBack(a,l,e)===!1?(s.push(e),!1):void t.find(o+":eq("+e+") a").tab("show")},this.currentIndex=function(){return l.find(o).index(a)},this.firstIndex=function(){return 0},this.lastIndex=function(){return n.navigationLength()},this.getIndex=function(e){return l.find(o).index(e)},this.nextIndex=function(){return l.find(o).index(a)+1},this.previousIndex=function(){return l.find(o).index(a)-1},this.navigationLength=function(){return l.find(o).length-1},this.activeTab=function(){return a},this.nextTab=function(){return l.find(o+":eq("+(n.currentIndex()+1)+")").length?l.find(o+":eq("+(n.currentIndex()+1)+")"):null},this.previousTab=function(){return n.currentIndex()<=0?null:l.find(o+":eq("+parseInt(n.currentIndex()-1)+")")},this.show=function(e){var i=t.find(isNaN(e)?o+" a[href=#"+e+"]":o+":eq("+e+") a");i.length>0&&(s.push(n.currentIndex()),i.tab("show"))},this.disable=function(e){l.find(o+":eq("+e+")").addClass("disabled")},this.enable=function(e){l.find(o+":eq("+e+")").removeClass("disabled")},this.hide=function(e){l.find(o+":eq("+e+")").hide()},this.display=function(e){l.find(o+":eq("+e+")").show()},this.remove=function(t){var i=t[0],n="undefined"!=typeof t[1]?t[1]:!1,s=l.find(o+":eq("+i+")");if(n){var r=s.find("a").attr("href");e(r).remove()}s.remove()};var c=function(t){var i=l.find(o),s=i.index(e(t.currentTarget).parent(o)),c=e(i[s]);return r.onTabClick&&"function"==typeof r.onTabClick&&r.onTabClick(a,l,n.currentIndex(),s,c)===!1?!1:void 0},u=function(t){var i=e(t.target).parent(),s=l.find(o).index(i);return i.hasClass("disabled")?!1:r.onTabChange&&"function"==typeof r.onTabChange&&r.onTabChange(a,l,n.currentIndex(),s)===!1?!1:(a=i,void n.fixNavigationButtons())};this.resetWizard=function(){e('a[data-toggle="tab"]',l).off("click",c),e('a[data-toggle="tab"]',l).off("shown shown.bs.tab",u),l=t.find("ul:first",t),a=l.find(o+".active",t),e('a[data-toggle="tab"]',l).on("click",c),e('a[data-toggle="tab"]',l).on("shown shown.bs.tab",u),n.fixNavigationButtons()},l=t.find("ul:first",t),a=l.find(o+".active",t),l.hasClass(r.tabClass)||l.addClass(r.tabClass),r.onInit&&"function"==typeof r.onInit&&r.onInit(a,l,0),r.onShow&&"function"==typeof r.onShow&&r.onShow(a,l,n.nextIndex()),e('a[data-toggle="tab"]',l).on("click",c),e('a[data-toggle="tab"]',l).on("shown shown.bs.tab",u)};e.fn.bootstrapWizard=function(i){if("string"==typeof i){var n=Array.prototype.slice.call(arguments,1);return 1===n.length&&n.toString(),this.data("bootstrapWizard")[i](n)}return this.each(function(){var n=e(this);if(!n.data("bootstrapWizard")){var o=new t(n,i);n.data("bootstrapWizard",o),o.fixNavigationButtons()}})},e.fn.bootstrapWizard.defaults={withVisible:!0,tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",finishSelector:".wizard li.finish",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onFinish:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var o,s,r,a=t.nodeName.toLowerCase();return"area"===a?(o=t.parentNode,s=o.name,t.href&&s&&"map"===o.nodeName.toLowerCase()?(r=e("img[usemap='#"+s+"']")[0],!!r&&i(r)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function n(e){for(var t,i;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(e.css("zIndex"),10),!isNaN(i)&&0!==i))return i;e=e.parent()}return 0}function o(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=s(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",r)}function r(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function a(t,i){e.extend(t,i);for(var n in i)null==i[n]&&(t[n]=i[n]);return t}function l(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return n&&"static"===t.css("position")?!1:o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),o=isNaN(n);return(o||n>=0)&&t(i,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,s){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?r["inner"+i].call(this):this.each(function(){e(this).css(s,n(this,t)+"px")})},e.fn["outer"+i]=function(t,o){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){e(this).css(s,n(this,t,!0,o)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;
setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var o,s=e.ui[t].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;s.length>o;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,i)}};var c=0,u=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,o,s;for(s=0;null!=(o=i[s]);s++)try{n=e._data(o,"events"),n&&n.remove&&e(o).triggerHandler("remove")}catch(r){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var o,s,r,a,l={},c=t.split(".")[0];return t=t.split(".")[1],o=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},s=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=s,t}}()):void(l[t]=n)}),r.prototype=e.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix||t:t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:o}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete s._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var i,n,o=u.call(arguments,1),s=0,r=o.length;r>s;s++)for(i in o[s])n=o[s][i],o[s].hasOwnProperty(i)&&void 0!==n&&(t[i]=e.isPlainObject(n)?e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,r=u.call(arguments,1),a=this;return s?this.each(function(){var i,s=e.data(this,n);return"instance"===o?(a=s,!1):s?e.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r),i!==s&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):(r.length&&(o=e.widget.extend.apply(null,[o].concat(r))),this.each(function(){var t=e.data(this,n);t?(t.option(o||{}),t._init&&t._init()):e.data(this,n,new i(o,this))})),a}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,s,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},n=t.split("."),t=n.shift(),n.length){for(o=r[t]=e.widget.extend({},this.options[t]),s=0;n.length-1>s;s++)o[n[s]]=o[n[s]]||{},o=o[n[s]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var o,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,r){function a(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?s[r]:r).apply(s,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?o.delegate(u,c,a):i.bind(c,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,s,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,s){"string"==typeof o&&(o={effect:o});var r,a=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),r=!e.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),r&&e.effects&&e.effects.effect[a]?n[t](o):a!==t&&n[a]?n[a](o.duration,o.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}}),e.widget;var h=!1;e(document).mouseup(function(){h=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,n=1===t.which,o="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),h=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),h=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(f.test(e[0])?t/100:1),parseFloat(e[1])*(f.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,s,r=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,h=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,f=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return e("body").append(n),t=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),o=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,s="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||o?i.width():i.outerWidth(),height:n||o?i.height():i.outerHeight()}}},e.fn.position=function(o){if(!o||!o.of)return p.apply(this,arguments);o=e.extend({},o);var f,m,g,v,b,_,y=e(o.of),w=e.position.getWithinInfo(o.within),x=e.position.getScrollInfo(w),k=(o.collision||"flip").split(" "),C={};return _=n(y),y[0].preventDefault&&(o.at="left top"),m=_.width,g=_.height,v=_.offset,b=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(o[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=h.exec(i[0]),t=h.exec(i[1]),C[this]=[e?e[0]:0,t?t[0]:0],o[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===o.at[0]?b.left+=m:"center"===o.at[0]&&(b.left+=m/2),"bottom"===o.at[1]?b.top+=g:"center"===o.at[1]&&(b.top+=g/2),f=t(C.at,m,g),b.left+=f[0],b.top+=f[1],this.each(function(){var n,c,u=e(this),h=u.outerWidth(),d=u.outerHeight(),p=i(this,"marginLeft"),_=i(this,"marginTop"),S=h+p+i(this,"marginRight")+x.width,D=d+_+i(this,"marginBottom")+x.height,T=e.extend({},b),I=t(C.my,u.outerWidth(),u.outerHeight());"right"===o.my[0]?T.left-=h:"center"===o.my[0]&&(T.left-=h/2),"bottom"===o.my[1]?T.top-=d:"center"===o.my[1]&&(T.top-=d/2),T.left+=I[0],T.top+=I[1],s||(T.left=l(T.left),T.top=l(T.top)),n={marginLeft:p,marginTop:_},e.each(["left","top"],function(t,i){e.ui.position[k[t]]&&e.ui.position[k[t]][i](T,{targetWidth:m,targetHeight:g,elemWidth:h,elemHeight:d,collisionPosition:n,collisionWidth:S,collisionHeight:D,offset:[f[0]+I[0],f[1]+I[1]],my:o.my,at:o.at,within:w,elem:u})}),o.using&&(c=function(e){var t=v.left-T.left,i=t+m-h,n=v.top-T.top,s=n+g-d,l={target:{element:y,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:T.left,top:T.top,width:h,height:d},horizontal:0>i?"left":t>0?"right":"center",vertical:0>s?"top":n>0?"bottom":"middle"};h>m&&m>a(t+i)&&(l.horizontal="center"),d>g&&g>a(n+s)&&(l.vertical="middle"),l.important=r(a(t),a(i))>r(a(n),a(s))?"horizontal":"vertical",o.using.call(this,e,l)}),u.offset(e.extend(T,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=e.left-t.collisionPosition.marginLeft,l=o-a,c=a+t.collisionWidth-s-o;t.collisionWidth>s?l>0&&0>=c?(i=e.left+l+t.collisionWidth-s-o,e.left+=l-i):e.left=c>0&&0>=l?o:l>c?o+s-t.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-a,e.left)},top:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=o-a,c=a+t.collisionHeight-s-o;t.collisionHeight>s?l>0&&0>=c?(i=e.top+l+t.collisionHeight-s-o,e.top+=l-i):e.top=c>0&&0>=l?o:l>c?o+s-t.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,s=o.offset.left+o.scrollLeft,r=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,h=c+t.collisionWidth-r-l,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,f="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>u?(i=e.left+d+f+p+t.collisionWidth-r-s,(0>i||a(u)>i)&&(e.left+=d+f+p)):h>0&&(n=e.left-t.collisionPosition.marginLeft+d+f+p-l,(n>0||h>a(n))&&(e.left+=d+f+p))},top:function(e,t){var i,n,o=t.within,s=o.offset.top+o.scrollTop,r=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,h=c+t.collisionHeight-r-l,d="top"===t.my[1],f=d?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(n=e.top+f+p+m+t.collisionHeight-r-s,(0>n||a(u)>n)&&(e.top+=f+p+m)):h>0&&(i=e.top-t.collisionPosition.marginTop+f+p+m-l,(i>0||h>a(i))&&(e.top+=f+p+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,o,r,a=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in n)t.style[r]=n[r];t.appendChild(l),i=a||document.documentElement,i.insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=e(l).offset().left,s=o>10&&11>o,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,o=this.headers.index(t.target),s=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,n=i.heightStyle,o=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),n=t.next(),o=n.uniqueId().attr("id");t.attr("aria-controls",o),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(t=o.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),s=o[0]===n[0],r=s&&i.collapsible,a=r?e():o.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:r?e():o,newPanel:a};t.preventDefault(),s&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=r?!1:this.headers.index(o),this.active=s?e():o,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),s||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var n,o,s,r=this,a=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},h=c&&u.down||u,d=function(){r._toggleComplete(i)};return"number"==typeof h&&(s=h),"string"==typeof h&&(o=h),o=o||h.easing||u.easing,s=s||h.duration||u.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(this.hideProps,{duration:s,easing:o,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:s,easing:o,complete:d,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==r.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-a),a=0)}})):t.animate(this.hideProps,s,o,d):e.animate(this.showProps,s,o,d)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var i=e(t.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var i=e(t.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var i,n,o,s,r=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:r=!1,n=this.previousFilter||"",o=String.fromCharCode(t.keyCode),s=!1,clearTimeout(this.filterTimer),o===n?s=!0:o=n+o,i=this._filterMenuItems(o),i=s&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(o=String.fromCharCode(t.keyCode),i=this._filterMenuItems(o)),i.length?(this.focus(t,i),this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}r&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,i,n=this,o=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),i=t.parent(),n=e("<span>").addClass("ui-menu-icon ui-icon "+o).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),t.attr("aria-labelledby",i.attr("id"))}),t=s.add(this.element),i=t.find(this.options.items),i.not(".ui-menu-item").each(function(){var t=e(this);n._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=t.children(".ui-menu"),i.length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var i,n,o,s,r,a;this._hasScroll()&&(i=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,o=t.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=t.outerHeight(),0>o?this.activeMenu.scrollTop(s+o):o+a>r&&this.activeMenu.scrollTop(s+o-r+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var i=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(t),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);
t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(i,n)},nextPage:function(t){var i,n,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=e(this),0>i.offset().top-n-o}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var i,n,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=e(this),i.offset().top-n+o>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,n,o=this.element[0].nodeName.toLowerCase(),s="textarea"===o,r="input"===o;this.isMultiLine=s?!0:r?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return t=!0,n=!0,void(i=!0);t=!1,n=!1,i=!1;var s=e.ui.keyCode;switch(o.keyCode){case s.PAGE_UP:t=!0,this._move("previousPage",o);break;case s.PAGE_DOWN:t=!0,this._move("nextPage",o);break;case s.UP:t=!0,this._keyEvent("previous",o);break;case s.DOWN:t=!0,this._keyEvent("next",o);break;case s.ENTER:this.menu.active&&(t=!0,o.preventDefault(),this.menu.select(o));break;case s.TAB:this.menu.active&&this.menu.select(o);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var o=e.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(n){n.target===t.element[0]||n.target===i||e.contains(i,n.target)||t.close()})})},menufocus:function(t,i){var n,o;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(o=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:o})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(o.value),n=i.item.attr("aria-label")||o.value,void(n&&e.trim(n).length&&(this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))))},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,n){n(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,o){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){o(e)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!i&&!n)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var n=this;e.each(i,function(e,i){n._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").text(i.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var n=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))}}),e.ui.autocomplete;var d,f="ui-button ui-widget ui-state-default ui-corner-all",p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var i=t.name,n=t.form,o=e([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?e(n).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),o};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,o=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===d&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(o)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];g(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return i.disabled?!1:(e(this).addClass("ui-state-active"),d=this,void t.document.one("mouseup",function(){d=null}))}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(f+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&this.buttonElement.removeClass("checkbox"===this.type||"radio"===this.type?"ui-state-focus":"ui-state-focus ui-state-active"))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(p),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,s=[];n.primary||n.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(o.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return a(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var n,o,s;n=t.nodeName.toLowerCase(),o="div"===n||"span"===n,t.id||(this.uuid+=1,t.id="dp"+this.uuid),s=this._newInst(e(t),o),s.settings=e.extend({},i||{}),"input"===n?this._connectDatepicker(t,s):o&&this._inlineDatepicker(t,s)},_newInst:function(t,i){var n=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var n=e(t);i.append=e([]),i.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var n,o,s,r=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[a?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&t.focus(this._showDatepicker),("button"===n||"both"===n)&&(o=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:s,alt:o,title:o}):e("<button type='button'></button>").addClass(this._triggerClass).html(s?e("<img/>").attr({src:s,alt:o,title:o}):o)),t[a?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,o,s=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,n=0,o=0;e.length>o;o++)e[o].length>i&&(i=e[o].length,n=o);return n},s.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),e.input.attr("size",this._formatDate(e,s).length)}},_inlineDatepicker:function(t,i){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),e.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,n,o,s){var r,l,c,u,h,d=this._dialogInst;return d||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},e.data(this._dialogInput[0],"datepicker",d)),a(d.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,h=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+h]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(t){var i,n=e(t),o=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty(),v===o&&(v=null))},_enableDatepicker:function(t){var i,n,o=e(t),s=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,n,o=e(t),s=e.data(t,"datepicker");o.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,i,n){var o,s,r,l,c=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?e.extend({},e.datepicker._defaults):c?"all"===i?e.extend({},c.settings):this._get(c,i):null:(o=i||{},"string"==typeof i&&(o={},o[i]=n),void(c&&(this._curInst===c&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),a(c.settings,o),null!==r&&void 0!==o.dateFormat&&void 0===o.minDate&&(c.settings.minDate=this._formatDate(c,r)),null!==l&&void 0!==o.dateFormat&&void 0===o.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in o&&(o.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,s),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,n,o,s=e.datepicker._getInst(t.target),r=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return o=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",s.dpDiv),o[0]&&e.datepicker._selectDay(t.target,s.selectedMonth,s.selectedYear,o[0]),i=e.datepicker._get(s,"onSelect"),i?(n=e.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(s,"stepBigMonths"):-e.datepicker._get(s,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,a?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(s,"stepBigMonths"):+e.datepicker._get(s,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,n,o=e.datepicker._getInst(t.target);return e.datepicker._get(o,"constrainInput")?(i=e.datepicker._possibleChars(e.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(t){var i,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)),i&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(o){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,o,s,r,l,c,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),o=e.datepicker._get(i,"beforeShow"),s=o?o.apply(t,[t,i]):{},s!==!1&&(a(i.settings,s),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?i.dpDiv.show(c,e.datepicker._get(i,"showOptions"),u):i.dpDiv[c||"show"](c?u:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var i,n=this._getNumberOfMonths(t),o=n[1],s=17,a=t.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&r.apply(a.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",s*o+"em"),t.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,n){var o=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?o-r:0,i.left-=n&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=n&&i.top===t.input.offset().top+a?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+s>c&&c>s?Math.abs(s+a):0),i},_findPos:function(t){for(var i,n=this._getInst(t),o=this._get(n,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[o?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,n,o,s,r=this._curInst;!r||t&&r!==e.data(t,"datepicker")||this._datepickerShowing&&(i=this._get(r,"showAnim"),n=this._get(r,"duration"),o=function(){e.datepicker._tidyDialog(r)},e.effects&&(e.effects.effect[i]||e.effects[i])?r.dpDiv.hide(i,e.datepicker._get(r,"showOptions"),n,o):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,s=this._get(r,"onClose"),s&&s.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),n=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,n){var o=e(t),s=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(t){var i,n=e(t),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(t,i,n){var o=e(t),s=this._getInst(o[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(o)},_selectDay:function(t,i,n,o){var s,r=e(t);e(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(s=this._getInst(r[0]),s.selectedDay=s.currentDay=e("a",o).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))
},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var n,o=e(t),s=this._getInst(o[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,n,o,s=this._get(t,"altField");s&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),n=this._getDate(t),o=this.formatDate(i,n,this._getFormatConfig(t)),e(s).each(function(){e(this).val(o)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(t,i,n){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;var o,s,r,a,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,p=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,_=!1,y=function(e){var i=t.length>o+1&&t.charAt(o+1)===e;return i&&o++,i},w=function(e){var t=y(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,o="y"===e?n:1,s=RegExp("^\\d{"+o+","+n+"}"),r=i.substring(l).match(s);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},x=function(t,n,o){var s=-1,r=e.map(y(t)?o:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(r,function(e,t){var n=t[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(s=t[0],l+=n.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==t.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;t.length>o;o++)if(_)"'"!==t.charAt(o)||y("'")?k():_=!1;else switch(t.charAt(o)){case"d":v=w("d");break;case"D":x("D",h,d);break;case"o":b=w("o");break;case"m":g=w("m");break;case"M":g=x("M",f,p);break;case"y":m=w("y");break;case"@":a=new Date(w("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":y("'")?k():_=!0;break;default:k()}if(i.length>l&&(r=i.substr(l),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),b>-1)for(g=1,v=b;s=this._getDaysInMonth(m,g-1),!(s>=v);)g++,v-=s;if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(t){var i=e.length>n+1&&e.charAt(n+1)===t;return i&&n++,i},c=function(e,t,i){var n=""+t;if(l(e))for(;i>n.length;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},h="",d=!1;if(t)for(n=0;e.length>n;n++)if(d)"'"!==e.charAt(n)||l("'")?h+=e.charAt(n):d=!1;else switch(e.charAt(n)){case"d":h+=c("d",t.getDate(),2);break;case"D":h+=u("D",t.getDay(),o,s);break;case"o":h+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",t.getMonth()+1,2);break;case"M":h+=u("M",t.getMonth(),r,a);break;case"y":h+=l("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":h+=t.getTime();break;case"!":h+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=e.charAt(n)}return h},_possibleChars:function(e){var t,i="",n=!1,o=function(i){var n=e.length>t+1&&e.charAt(t+1)===i;return n&&t++,n};for(t=0;e.length>t;t++)if(n)"'"!==e.charAt(t)||o("'")?i+=e.charAt(t):n=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,o=this._getDefaultDate(e),s=o,r=this._getFormatConfig(e);try{s=this.parseDate(i,n,r)||o}catch(a){n=t?"":n}e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),e.currentDay=n?s.getDate():0,e.currentMonth=n?s.getMonth():0,e.currentYear=n?s.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,n){var o=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},s=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(n){}for(var o=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,s=o.getFullYear(),r=o.getMonth(),a=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":a+=parseInt(c[1],10);break;case"w":case"W":a+=7*parseInt(c[1],10);break;case"m":case"M":r+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(c[1],10),a=Math.min(a,e.datepicker._getDaysInMonth(s,r))}c=l.exec(i)}return new Date(s,r,a)},r=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?n:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,o=e.selectedMonth,s=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),o===e.selectedMonth&&s===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),n="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-i,"M")},next:function(){e.datepicker._adjustDate(n,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,o,s,r,a,l,c,u,h,d,f,p,m,g,v,b,_,y,w,x,k,C,S,D,T,I,P,A,M,E,F,R,O,H,L,z,N,B=new Date,j=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),W=this._get(e,"isRTL"),$=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),Y=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),V=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),K=1!==q[0]||1!==q[1],Z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Q=e.drawMonth-V,et=e.drawYear;if(0>Q&&(Q+=12,et--),J)for(t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-q[0]*q[1]+1,J.getDate())),t=X&&X>t?X:t;this._daylightSavingAdjust(new Date(et,Q,1))>t;)Q--,0>Q&&(Q=11,et--);for(e.drawMonth=Q,e.drawYear=et,i=this._get(e,"prevText"),i=Y?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Q-G,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,et,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+i+"</span></a>",o=this._get(e,"nextText"),o=Y?this.formatDate(o,this._daylightSavingAdjust(new Date(et,Q+G,1)),this._getFormatConfig(e)):o,s=this._canAdjustMonth(e,1,et,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+o+"</span></a>",r=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?Z:j,r=Y?this.formatDate(r,a,this._getFormatConfig(e)):r,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=$?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(e,"showWeek"),d=this._get(e,"dayNames"),f=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),_=this._getDefaultDate(e),y="",x=0;q[0]>x;x++){for(k="",this.maxRows=4,C=0;q[1]>C;C++){if(S=this._daylightSavingAdjust(new Date(et,Q,e.selectedDay)),D=" ui-corner-all",T="",K){if(T+="<div class='ui-datepicker-group",q[1]>1)switch(C){case 0:T+=" ui-datepicker-group-first",D=" ui-corner-"+(W?"right":"left");break;case q[1]-1:T+=" ui-datepicker-group-last",D=" ui-corner-"+(W?"left":"right");break;default:T+=" ui-datepicker-group-middle",D=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===x?W?s:n:"")+(/all|right/.test(D)&&0===x?W?n:s:"")+this._generateMonthYearHeader(e,Q,et,X,J,x>0||C>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",I=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",w=0;7>w;w++)P=(w+u)%7,I+="<th scope='col'"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[P]+"'>"+f[P]+"</span></th>";for(T+=I+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Q),et===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),M=(this._getFirstDayOfMonth(et,Q)-u+7)%7,E=Math.ceil((M+A)/7),F=K&&this.maxRows>E?this.maxRows:E,this.maxRows=F,R=this._daylightSavingAdjust(new Date(et,Q,1-M)),O=0;F>O;O++){for(T+="<tr>",H=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(R)+"</td>":"",w=0;7>w;w++)L=g?g.apply(e.input?e.input[0]:null,[R]):[!0,""],z=R.getMonth()!==Q,N=z&&!b||!L[0]||X&&X>R||J&&R>J,H+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(z?" ui-datepicker-other-month":"")+(R.getTime()===S.getTime()&&Q===e.selectedMonth&&e._keyEvent||_.getTime()===R.getTime()&&_.getTime()===S.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(z&&!v?"":" "+L[1]+(R.getTime()===Z.getTime()?" "+this._currentClass:"")+(R.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(z&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+R.getMonth()+"' data-year='"+R.getFullYear()+"'")+">"+(z&&!v?"&#xa0;":N?"<span class='ui-state-default'>"+R.getDate()+"</span>":"<a class='ui-state-default"+(R.getTime()===j.getTime()?" ui-state-highlight":"")+(R.getTime()===Z.getTime()?" ui-state-active":"")+(z?" ui-priority-secondary":"")+"' href='#'>"+R.getDate()+"</a>")+"</td>",R.setDate(R.getDate()+1),R=this._daylightSavingAdjust(R);T+=H+"</tr>"}Q++,Q>11&&(Q=0,et++),T+="</tbody></table>"+(K?"</div>"+(q[0]>0&&C===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=T}y+=k}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,n,o,s,r,a){var l,c,u,h,d,f,p,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",y="";if(s||!g)y+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=o&&o.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=n.getMonth())&&(!c||o.getMonth()>=u)&&(y+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");y+="</select>"}if(b||(_+=y+(!s&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",s||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),f=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},p=f(h[0]),m=Math.max(p,f(h[1]||"")),p=n?Math.max(p,n.getFullYear()):p,m=o?Math.min(m,o.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=p;p++)e.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",_+=e.yearshtml,e.yearshtml=null}return _+=this._get(e,"yearSuffix"),b&&(_+=(!s&&g&&v?"":"&#xa0;")+y),_+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),o=e.drawMonth+("M"===i?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(n,o))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,o,s)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),o=i&&i>t?i:t;return n&&o>n?n:o},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var o=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(i,n+(0>t?t:o[0]*o[1]),1));return 0>t&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var i,n,o=this._getMinMaxDate(e,"min"),s=this._getMinMaxDate(e,"max"),r=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),r=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!o||t.getTime()>=o.getTime())&&(!s||t.getTime()<=s.getTime())&&(!r||t.getFullYear()>=r)&&(!a||a>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var o=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),o,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new o,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(n){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),o=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options,s=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=e(o.containment),n=i[0],void(n&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,o,s,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o,s=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-r.grid[0]:s+r.grid[0]:s),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var o=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,o))})},stop:function(t,i,n){var o=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))})},drag:function(t,i,n){e.each(n.sortables,function(){var o=!1,s=this;s.positionAbs=n.positionAbs,s.helperProportions=n.helperProportions,s.offset.click=n.offset.click,s._intersectsWith(s.containerCache)&&(o=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(o=!1),o})),o?(s.isOver||(s.isOver=1,n._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=n.offset.click.top,s.offset.click.left=n.offset.click.left,s.offset.parent.left-=n.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=n.offset.parent.top-s.offset.parent.top,n._trigger("toSortable",t),n.dropped=s.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,s.fromOutside=n),s.currentItem&&(s._mouseDrag(t),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var o=e("body"),s=n.options;o.css("cursor")&&(s._cursor=o.css("cursor")),o.css("cursor",s.cursor)},stop:function(t,i,n){var o=n.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var o=e(i.helper),s=n.options;
o.css("opacity")&&(s._opacity=o.css("opacity")),o.css("opacity",s.opacity)},stop:function(t,i,n){var o=n.options;o._opacity&&e(i.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var o=n.options,s=!1,r=n.scrollParentNotHidden[0],a=n.document[0];r!==a&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(n.overflowOffset.top+r.offsetHeight-t.pageY<o.scrollSensitivity?r.scrollTop=s=r.scrollTop+o.scrollSpeed:t.pageY-n.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=s=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(n.overflowOffset.left+r.offsetWidth-t.pageX<o.scrollSensitivity?r.scrollLeft=s=r.scrollLeft+o.scrollSpeed:t.pageX-n.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=s=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(a).scrollTop()<o.scrollSensitivity?s=e(a).scrollTop(e(a).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<o.scrollSensitivity&&(s=e(a).scrollTop(e(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(a).scrollLeft()<o.scrollSensitivity?s=e(a).scrollLeft(e(a).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<o.scrollSensitivity&&(s=e(a).scrollLeft(e(a).scrollLeft()+o.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var o=n.options;n.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var o,s,r,a,l,c,u,h,d,f,p=n.options,m=p.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,b=i.offset.top,_=b+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)l=n.snapElements[d].left-n.margins.left,c=l+n.snapElements[d].width,u=n.snapElements[d].top-n.margins.top,h=u+n.snapElements[d].height,l-m>v||g>c+m||u-m>_||b>h+m||!e.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(o=m>=Math.abs(u-_),s=m>=Math.abs(h-b),r=m>=Math.abs(l-v),a=m>=Math.abs(c-g),o&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),f=o||s||r||a,"outer"!==p.snapMode&&(o=m>=Math.abs(u-b),s=m>=Math.abs(h-_),r=m>=Math.abs(l-g),a=m>=Math.abs(c-v),o&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(o||s||r||a||f)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=o||s||r||a||f)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var o,s=n.options,r=e.makeArray(e(s.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});r.length&&(o=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(t){e(this).css("zIndex",o+t)}),this.css("zIndex",o+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var o=e(i.helper),s=n.options;o.css("zIndex")&&(s._zIndex=o.css("zIndex")),o.css("zIndex",s.zIndex)},stop:function(t,i,n){var o=n.options;o._zIndex&&e(i.helper).css("zIndex",o._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return t[n]>0?!0:(t[n]=1,o=t[n]>0,t[n]=0,o)},_create:function(){var t,i,n,o,s,r=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)n=e.trim(t[i]),s="ui-resizable-"+n,o=e("<div class='ui-resizable-handle "+s+"'></div>"),o.css({zIndex:a.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(t){var i,n,o,s;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(o,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){a.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,o=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var i,n,o,s=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,n+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,o=this.originalMousePosition,s=this.axis,r=t.pageX-o.left||0,a=t.pageY-o.top||0,l=this._change[s];return this._updatePrevProperties(),l?(i=l.apply(this,[t,r,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,o,s,r,a,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,s=n?0:u.sizeDiff.width,r={width:u.helper.width()-s,height:u.helper.height()-o},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,o,s,r=this.options;s={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),n>s.minHeight&&(s.minHeight=n),s.maxWidth>i&&(s.maxWidth=i),s.maxHeight>o&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return s&&(e.width=t.minWidth),r&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),s&&c&&(e.left=a-t.minWidth),n&&c&&(e.left=a-t.maxWidth),r&&u&&(e.top=l-t.minHeight),o&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(n[t],10)||0,i[t]+=parseInt(o[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,o=i._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),r=s&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-r},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,o,s,r,a,l=e(this).resizable("instance"),c=l.options,u=l.element,h=c.containment,d=h instanceof e?h.get(0):/parent/.test(h)?u.parent().get(0):h;d&&(l.containerElement=e(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(d),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,o=l.containerSize.height,s=l.containerSize.width,r=l._hasScroll(d,"left")?d.scrollWidth:s,a=l._hasScroll(d)?d.scrollHeight:o,l.parentData={element:d,left:n.left,top:n.top,width:r,height:a}))},resize:function(t){var i,n,o,s,r=e(this).resizable("instance"),a=r.options,l=r.containerOffset,c=r.position,u=r._aspectRatio||t.shiftKey,h={top:0,left:0},d=r.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-h.left),u&&(r.size.height=r.size.width/r.aspectRatio,f=!1),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio,f=!1),r.position.top=r._helper?l.top:0),o=r.containerElement.get(0)===r.element.parent().get(0),s=/relative|absolute/.test(r.containerElement.css("position")),o&&s?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-h.left:r.offset.left-l.left)),n=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-h.top:r.offset.top-l.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,u&&(r.size.height=r.size.width/r.aspectRatio,f=!1)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,u&&(r.size.width=r.size.height*r.aspectRatio,f=!1)),f||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,o=t.containerPosition,s=t.containerElement,r=e(t.helper),a=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(s.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(s.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var n=e(this).resizable("instance"),o=n.options,s=n.originalSize,r=n.originalPosition,a={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0};e(o.alsoResize).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),o={},s=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var i=(n[t]||0)+(a[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,o=i.size,s=i.originalSize,r=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,u=l[1]||1,h=Math.round((o.width-s.width)/c)*c,d=Math.round((o.height-s.height)/u)*u,f=s.width+h,p=s.height+d,m=n.maxWidth&&f>n.maxWidth,g=n.maxHeight&&p>n.maxHeight,v=n.minWidth&&n.minWidth>f,b=n.minHeight&&n.minHeight>p;n.grid=l,v&&(f+=c),b&&(p+=u),m&&(f-=c),g&&(p-=u),/^(se|s|e)$/.test(a)?(i.size.width=f,i.size.height=p):/^(ne)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.top=r.top-d):/^(sw)$/.test(a)?(i.size.width=f,i.size.height=p,i.position.left=r.left-h):((0>=p-u||0>=f-c)&&(t=i._getPaddingPlusBorderDimensions(this)),p-u>0?(i.size.height=p,i.position.top=r.top-d):(p=u-t.height,i.size.height=p,i.position.top=r.top+s.height-p),f-c>0?(i.size.width=f,i.position.left=r.left-h):(f=c-t.width,i.size.width=f,i.position.left=r.left+s.width-f))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,n=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(o){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var n=!1,o=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),s=Math.max.apply(null,o);return s>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",s+1),n=!0),n&&!i&&this._trigger("focus",t),n},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");t.target!==o[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){o.focus()}),t.preventDefault()):(this._delay(function(){n.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,n){var o,s;n=e.isFunction(n)?{click:n,text:i}:n,n=e.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(t.element[0],arguments)},s={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,e("<button></button>",n).button(s).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,t(o))},drag:function(e,n){i._trigger("drag",e,t(n))},stop:function(o,s){var r=s.offset.left-i.document.scrollLeft(),a=s.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(r>=0?"+":"")+r+" top"+(a>=0?"+":"")+a,of:i.window},e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,t(s))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,n=this.options,o=n.resizable,s=this.uiDialog.css("position"),r="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:r,start:function(n,o){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,t(o))},resize:function(e,n){i._trigger("resize",e,t(n))},stop:function(o,s){var r=i.uiDialog.offset(),a=r.left-i.document.scrollLeft(),l=r.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,t(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=e.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var i=this,n=!1,o={};e.each(t,function(e,t){i._setOption(e,t),e in i.sizeRelatedOptions&&(n=!0),e in i.resizableRelatedOptions&&(o[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",o)},_setOption:function(e,t){var i,n,o=this.uiDialog;"dialogClass"===e&&o.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=o.is(":data(ui-draggable)"),i&&!t&&o.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(n=o.is(":data(ui-resizable)"),n&&!t&&o.resizable("destroy"),n&&"string"==typeof t&&o.resizable("option","handles",t),n||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,o=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,n,o){if(!i.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,a=s+t.helperProportions.width,l=r+t.helperProportions.height,c=i.offset.left,u=i.offset.top,h=c+i.proportions().width,d=u+i.proportions().height;switch(n){case"fit":return s>=c&&h>=a&&r>=u&&d>=l;case"intersect":return s+t.helperProportions.width/2>c&&h>a-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&d>l-t.helperProportions.height/2;case"pointer":return e(o.pageY,u,i.proportions().height)&&e(o.pageX,c,i.proportions().width);case"touch":return(r>=u&&d>=r||l>=u&&d>=l||u>r&&l>d)&&(s>=c&&h>=s||a>=c&&h>=a||c>s&&a>h);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,o,s=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;s.length>n;n++)if(!(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element))){for(o=0;a.length>o;o++)if(a[o]===s[n].element[0]){s[n].proportions().height=0;continue e}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===r&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,s,r=e.ui.intersect(t,this,this.options.tolerance,i),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o}),s.length&&(n=e(s[0]).droppable("instance"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable;var b="ui-effects-",_=e;e.effects={effect:{}},function(e,t){function i(e,t,i){var n=h[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:e>n.max?n.max:e)}function n(i){var n=c(),o=n._rgba=[];return i=i.toLowerCase(),p(l,function(e,s){var r,a=s.re.exec(i),l=a&&s.parse(a),c=s.space||"rgba";return l?(r=n[c](l),n[u[c].cache]=r[u[c].cache],o=n._rgba=r._rgba,!1):t}),o.length?("0,0,0,0"===o.join()&&e.extend(o,s.transparent),n):s[i]}function o(e,t,i){return i=(i+1)%1,1>6*i?e+6*(t-e)*i:1>2*i?t:2>3*i?e+6*(t-e)*(2/3-i):e}var s,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,i,n,o){return new e.Color.fn.parse(t,i,n,o)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},f=e("<p>")[0],p=e.each;f.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=f.style.backgroundColor.indexOf("rgba")>-1,p(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),c.fn=e.extend(c.prototype,{parse:function(o,r,a,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=e(o).css(r),r=t);var h=this,d=e.type(o),f=this._rgba=[];return r!==t&&(o=[o,r,a,l],d="array"),"string"===d?this.parse(n(o)||s._default):"array"===d?(p(u.rgba.props,function(e,t){f[t.idx]=i(o[t.idx],t)}),this):"object"===d?(o instanceof c?p(u,function(e,t){o[t.cache]&&(h[t.cache]=o[t.cache].slice())}):p(u,function(t,n){var s=n.cache;p(n.props,function(e,t){if(!h[s]&&n.to){if("alpha"===e||null==o[e])return;h[s]=n.to(h._rgba)}h[s][t.idx]=i(o[e],t,!0)}),h[s]&&0>e.inArray(null,h[s].slice(0,3))&&(h[s][3]=1,n.from&&(h._rgba=n.from(h[s])))}),this):t},is:function(e){var i=c(e),n=!0,o=this;return p(u,function(e,s){var r,a=i[s.cache];return a&&(r=o[s.cache]||s.to&&s.to(o._rgba)||[],p(s.props,function(e,i){return null!=a[i.idx]?n=a[i.idx]===r[i.idx]:t})),n}),n},_space:function(){var e=[],t=this;return p(u,function(i,n){t[n.cache]&&e.push(i)}),e.pop()},transition:function(e,t){var n=c(e),o=n._space(),s=u[o],r=0===this.alpha()?c("transparent"):this,a=r[s.cache]||s.to(r._rgba),l=a.slice();return n=n[s.cache],p(s.props,function(e,o){var s=o.idx,r=a[s],c=n[s],u=h[o.type]||{};null!==c&&(null===r?l[s]=c:(u.mod&&(c-r>u.mod/2?r+=u.mod:r-c>u.mod/2&&(r-=u.mod)),l[s]=i((c-r)*t+r,o)))}),this[o](l)},blend:function(t){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=c(t)._rgba;return c(e.map(i,function(e,t){return(1-n)*o[t]+n*e}))},toRgbaString:function(){var t="rgba(",i=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===i[3]&&(i.pop(),t="rgb("),t+i.join()+")"},toHslaString:function(){var t="hsla(",i=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===i[3]&&(i.pop(),t="hsl("),t+i.join()+")"},toHexString:function(t){var i=this._rgba.slice(),n=i.pop();return t&&i.push(~~(255*n)),"#"+e.map(i,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,o=e[1]/255,s=e[2]/255,r=e[3],a=Math.max(n,o,s),l=Math.min(n,o,s),c=a-l,u=a+l,h=.5*u;return t=l===a?0:n===a?60*(o-s)/c+360:o===a?60*(s-n)/c+120:60*(n-o)/c+240,i=0===c?0:.5>=h?c/u:c/(2-u),[Math.round(t)%360,i,h,null==r?1:r]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],s=e[3],r=.5>=n?n*(1+i):n+i-n*i,a=2*n-r;return[Math.round(255*o(a,r,t+1/3)),Math.round(255*o(a,r,t)),Math.round(255*o(a,r,t-1/3)),s]},p(u,function(n,o){var s=o.props,r=o.cache,l=o.to,u=o.from;c.fn[n]=function(n){if(l&&!this[r]&&(this[r]=l(this._rgba)),n===t)return this[r].slice();var o,a=e.type(n),h="array"===a||"object"===a?n:arguments,d=this[r].slice();return p(s,function(e,t){var n=h["object"===a?e:t.idx];null==n&&(n=d[t.idx]),d[t.idx]=i(n,t)}),u?(o=c(u(d)),o[r]=d,o):c(d)},p(s,function(t,i){c.fn[t]||(c.fn[t]=function(o){var s,r=e.type(o),l="alpha"===t?this._hsla?"hsla":"rgba":n,c=this[l](),u=c[i.idx];return"undefined"===r?u:("function"===r&&(o=o.call(this,u),r=e.type(o)),null==o&&i.empty?this:("string"===r&&(s=a.exec(o),s&&(o=u+parseFloat(s[2])*("+"===s[1]?1:-1))),c[i.idx]=o,this[l](c)))})})}),c.hook=function(t){var i=t.split(" ");p(i,function(t,i){e.cssHooks[i]={set:function(t,o){var s,r,a="";if("transparent"!==o&&("string"!==e.type(o)||(s=n(o)))){if(o=c(s||o),!d.rgba&&1!==o._rgba[3]){for(r="backgroundColor"===i?t.parentNode:t;(""===a||"transparent"===a)&&r&&r.style;)try{a=e.css(r,"backgroundColor"),r=r.parentNode}catch(l){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{t.style[i]=o}catch(l){}}},e.fx.step[i]=function(t){t.colorInit||(t.start=c(t.elem,i),t.end=c(t.end),t.colorInit=!0),e.cssHooks[i].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(r),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(i,n){t["border"+n+"Color"]=e}),t}},s=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(_),function(){function t(t){var i,n,o=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,s={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)i=o[n],"string"==typeof o[i]&&(s[e.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(s[i]=o[i]);return s}function i(t,i){var n,s,r={};for(n in i)s=i[n],t[n]!==s&&(o[n]||(e.fx.step[n]||!isNaN(parseFloat(s)))&&(r[n]=s));return r}var n=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(_.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(o,s,r,a){var l=e.speed(s,r,a);return this.queue(function(){var s,r=e(this),a=r.attr("class")||"",c=l.children?r.find("*").addBack():r;c=c.map(function(){var i=e(this);return{el:i,start:t(this)}}),s=function(){e.each(n,function(e,t){o[t]&&r[t+"Class"](o[t])})},s(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),r.attr("class",a),c=c.map(function(){var t=this,i=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){i.resolve(t)}});return this.el.animate(this.diff,n),i.promise()}),e.when.apply(e,c.get()).done(function(){s(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(r[0])})})},e.fn.extend({addClass:function(t){return function(i,n,o,s){return n?e.effects.animateClass.call(this,{add:i},n,o,s):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(i,n,o,s){return arguments.length>1?e.effects.animateClass.call(this,{remove:i},n,o,s):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(i,n,o,s,r){return"boolean"==typeof n||void 0===n?o?e.effects.animateClass.call(this,n?{add:i}:{remove:i},o,s,r):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:i},n,o,s)}}(e.fn.toggleClass),switchClass:function(t,i,n,o,s){return e.effects.animateClass.call(this,{add:i,remove:t},n,o,s)}})}(),function(){function t(t,i,n,o){return e.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),e.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||e.fx.speeds[i])&&(o=n,n=i,i={}),e.isFunction(n)&&(o=n,n=null),i&&e.extend(t,i),n=n||i.duration,t.duration=e.fx.off?0:"number"==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=o||i.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var i=0;t.length>i;i++)null!==t[i]&&e.data(b+t[i],e[0].style[t[i]])},restore:function(e,t){var i,n;for(n=0;t.length>n;n++)null!==t[n]&&(i=e.data(b+t[n]),void 0===i&&(i=""),e.css(t[n],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(r){s=document.body}return t.wrap(n),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(o),n.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},setTransition:function(t,i,n,o){return o=o||{},e.each(i,function(e,i){var s=t.cssUnit(i);s[0]>0&&(o[i]=s[0]*n+s[1])}),o}}),e.fn.extend({effect:function(){function i(t){function i(){e.isFunction(s)&&s.call(o[0]),e.isFunction(t)&&t()}var o=e(this),s=n.complete,a=n.mode;(o.is(":hidden")?"hide"===a:"show"===a)?(o[a](),i()):r.call(o[0],n,i)}var n=t.apply(this,arguments),o=n.mode,s=n.queue,r=e.effects.effect[n.effect];return e.fx.off||!r?o?this[o](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):s===!1?this.each(i):this.queue(s||"fx",i)},show:function(e){return function(n){if(i(n))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(e.fn.show),hide:function(e){return function(n){if(i(n))return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(e.fn.hide),toggle:function(e){return function(n){if(i(n)||"boolean"==typeof n)return e.apply(this,arguments);var o=t.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(e.fn.toggle),cssUnit:function(t){var i=this.css(t),n=[];return e.each(["em","px","%","pt"],function(e,t){i.indexOf(t)>0&&(n=[parseFloat(i),t])}),n}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,i){t[i]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,i){e.easing["easeIn"+t]=i,e.easing["easeOut"+t]=function(e){return 1-i(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?i(2*e)/2:1-i(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,i){var n,o,s,r=e(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,c=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(r,t.mode||"hide"),h=t.direction||"up",d=a.test(h),f=d?"height":"width",p=d?"top":"left",m=l.test(h),g={},v="show"===u;r.parent().is(".ui-effects-wrapper")?e.effects.save(r.parent(),c):e.effects.save(r,c),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),o=n[f](),s=parseFloat(n.css(p))||0,g[f]=v?o:0,m||(r.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[p]=v?s:o+s),v&&(n.css(f,0),m||n.css(p,s+o)),n.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&r.hide(),e.effects.restore(r,c),e.effects.removeWrapper(r),i()}})},e.effects.effect.bounce=function(t,i){var n,o,s,r=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"effect"),c="hide"===l,u="show"===l,h=t.direction||"up",d=t.distance,f=t.times||5,p=2*f+(u||c?1:0),m=t.duration/p,g=t.easing,v="up"===h||"down"===h?"top":"left",b="up"===h||"left"===h,_=r.queue(),y=_.length;for((u||c)&&a.push("opacity"),e.effects.save(r,a),r.show(),e.effects.createWrapper(r),d||(d=r["top"===v?"outerHeight":"outerWidth"]()/3),u&&(s={opacity:1},s[v]=0,r.css("opacity",0).css(v,b?2*-d:2*d).animate(s,m,g)),c&&(d/=Math.pow(2,f-1)),s={},s[v]=0,n=0;f>n;n++)o={},o[v]=(b?"-=":"+=")+d,r.animate(o,m,g).animate(s,m,g),d=c?2*d:d/2;c&&(o={opacity:0},o[v]=(b?"-=":"+=")+d,r.animate(o,m,g)),r.queue(function(){c&&r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}),y>1&&_.splice.apply(_,[1,0].concat(_.splice(y,p+1))),r.dequeue()},e.effects.effect.clip=function(t,i){var n,o,s,r=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(r,t.mode||"hide"),c="show"===l,u=t.direction||"vertical",h="vertical"===u,d=h?"height":"width",f=h?"top":"left",p={};e.effects.save(r,a),r.show(),n=e.effects.createWrapper(r).css({overflow:"hidden"}),o="IMG"===r[0].tagName?n:r,s=o[d](),c&&(o.css(d,0),o.css(f,s/2)),p[d]=c?s:0,p[f]=c?0:s/2,o.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){c||r.hide(),e.effects.restore(r,a),e.effects.removeWrapper(r),i()}})},e.effects.effect.drop=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","opacity","height","width"],r=e.effects.setMode(o,t.mode||"hide"),a="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",h={opacity:a?1:0};e.effects.save(o,s),o.show(),e.effects.createWrapper(o),n=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0)/2,a&&o.css("opacity",0).css(c,"pos"===u?-n:n),h[c]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,o.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}})},e.effects.effect.explode=function(t,i){function n(){_.push(this),_.length===h*d&&o()}function o(){f.css({visibility:"visible"}),e(_).remove(),m||f.hide(),i()}var s,r,a,l,c,u,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,d=h,f=e(this),p=e.effects.setMode(f,t.mode||"hide"),m="show"===p,g=f.show().css("visibility","hidden").offset(),v=Math.ceil(f.outerWidth()/d),b=Math.ceil(f.outerHeight()/h),_=[];for(s=0;h>s;s++)for(l=g.top+s*b,u=s-(h-1)/2,r=0;d>r;r++)a=g.left+r*v,c=r-(d-1)/2,f.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-s*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:a+(m?c*v:0),top:l+(m?u*b:0),opacity:m?0:1}).animate({left:a+(m?0:c*v),top:l+(m?0:u*b),opacity:m?1:0},t.duration||500,t.easing,n)},e.effects.effect.fade=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:t.duration,easing:t.easing,complete:i})},e.effects.effect.fold=function(t,i){var n,o,s=e(this),r=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(s,t.mode||"hide"),l="show"===a,c="hide"===a,u=t.size||15,h=/([0-9]+)%/.exec(u),d=!!t.horizFirst,f=l!==d,p=f?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(s,r),s.show(),n=e.effects.createWrapper(s).css({overflow:"hidden"}),o=f?[n.width(),n.height()]:[n.height(),n.width()],h&&(u=parseInt(h[1],10)/100*o[c?0:1]),l&&n.css(d?{height:0,width:u}:{height:u,width:0}),g[p[0]]=l?o[0]:u,v[p[1]]=l?o[1]:0,n.animate(g,m,t.easing).animate(v,m,t.easing,function(){c&&s.hide(),e.effects.restore(s,r),e.effects.removeWrapper(s),i()})},e.effects.effect.highlight=function(t,i){var n=e(this),o=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(n,t.mode||"show"),r={backgroundColor:n.css("backgroundColor")};"hide"===s&&(r.opacity=0),e.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&n.hide(),e.effects.restore(n,o),i()}})},e.effects.effect.size=function(t,i){var n,o,s,r=e(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],u=["fontSize"],h=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],f=e.effects.setMode(r,t.mode||"effect"),p=t.restore||"effect"!==f,m=t.scale||"both",g=t.origin||["middle","center"],v=r.css("position"),b=p?a:l,_={height:0,width:0,outerHeight:0,outerWidth:0};"show"===f&&r.show(),n={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===t.mode&&"show"===f?(r.from=t.to||_,r.to=t.from||n):(r.from=t.from||("show"===f?_:n),r.to=t.to||("hide"===f?_:n)),s={from:{y:r.from.height/n.height,x:r.from.width/n.width},to:{y:r.to.height/n.height,x:r.to.width/n.width}},("box"===m||"both"===m)&&(s.from.y!==s.to.y&&(b=b.concat(h),r.from=e.effects.setTransition(r,h,s.from.y,r.from),r.to=e.effects.setTransition(r,h,s.to.y,r.to)),s.from.x!==s.to.x&&(b=b.concat(d),r.from=e.effects.setTransition(r,d,s.from.x,r.from),r.to=e.effects.setTransition(r,d,s.to.x,r.to))),("content"===m||"both"===m)&&s.from.y!==s.to.y&&(b=b.concat(u).concat(c),r.from=e.effects.setTransition(r,u,s.from.y,r.from),r.to=e.effects.setTransition(r,u,s.to.y,r.to)),e.effects.save(r,b),r.show(),e.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(o=e.effects.getBaseline(g,n),r.from.top=(n.outerHeight-r.outerHeight())*o.y,r.from.left=(n.outerWidth-r.outerWidth())*o.x,r.to.top=(n.outerHeight-r.to.outerHeight)*o.y,r.to.left=(n.outerWidth-r.to.outerWidth)*o.x),r.css(r.from),("content"===m||"both"===m)&&(h=h.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),c=a.concat(h).concat(d),r.find("*[width]").each(function(){var i=e(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};p&&e.effects.save(i,c),i.from={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},i.to={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x},s.from.y!==s.to.y&&(i.from=e.effects.setTransition(i,h,s.from.y,i.from),i.to=e.effects.setTransition(i,h,s.to.y,i.to)),s.from.x!==s.to.x&&(i.from=e.effects.setTransition(i,d,s.from.x,i.from),i.to=e.effects.setTransition(i,d,s.to.x,i.to)),i.css(i.from),i.animate(i.to,t.duration,t.easing,function(){p&&e.effects.restore(i,c)})})),r.animate(r.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===f&&r.hide(),e.effects.restore(r,b),p||("static"===v?r.css({position:"relative",top:r.to.top,left:r.to.left}):e.each(["top","left"],function(e,t){r.css(t,function(t,i){var n=parseInt(i,10),o=e?r.to.left:r.to.top;return"auto"===i?o+"px":n+o+"px"})})),e.effects.removeWrapper(r),i()}})},e.effects.effect.scale=function(t,i){var n=e(this),o=e.extend(!0,{},t),s=e.effects.setMode(n,t.mode||"effect"),r=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===s?0:100),a=t.direction||"both",l=t.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?r/100:1,x:"vertical"!==a?r/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==s&&(o.origin=l||["middle","center"],o.restore=!0),o.from=t.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:c),o.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},o.fade&&("show"===s&&(o.from.opacity=0,o.to.opacity=1),"hide"===s&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},e.effects.effect.puff=function(t,i){var n=e(this),o=e.effects.setMode(n,t.mode||"hide"),s="hide"===o,r=parseInt(t.percent,10)||150,a=r/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:s?r:100,from:s?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(t)},e.effects.effect.pulsate=function(t,i){var n,o=e(this),s=e.effects.setMode(o,t.mode||"show"),r="show"===s,a="hide"===s,l=r||"hide"===s,c=2*(t.times||5)+(l?1:0),u=t.duration/c,h=0,d=o.queue(),f=d.length;for((r||!o.is(":visible"))&&(o.css("opacity",0).show(),h=1),n=1;c>n;n++)o.animate({opacity:h},u,t.easing),h=1-h;o.animate({opacity:h},u,t.easing),o.queue(function(){a&&o.hide(),i()}),f>1&&d.splice.apply(d,[1,0].concat(d.splice(f,c+1))),o.dequeue()},e.effects.effect.shake=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","height","width"],r=e.effects.setMode(o,t.mode||"effect"),a=t.direction||"left",l=t.distance||20,c=t.times||3,u=2*c+1,h=Math.round(t.duration/u),d="up"===a||"down"===a?"top":"left",f="up"===a||"left"===a,p={},m={},g={},v=o.queue(),b=v.length;for(e.effects.save(o,s),o.show(),e.effects.createWrapper(o),p[d]=(f?"-=":"+=")+l,m[d]=(f?"+=":"-=")+2*l,g[d]=(f?"-=":"+=")+2*l,o.animate(p,h,t.easing),n=1;c>n;n++)o.animate(m,h,t.easing).animate(g,h,t.easing);o.animate(m,h,t.easing).animate(p,h/2,t.easing).queue(function(){"hide"===r&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,u+1))),o.dequeue()},e.effects.effect.slide=function(t,i){var n,o=e(this),s=["position","top","bottom","left","right","width","height"],r=e.effects.setMode(o,t.mode||"show"),a="show"===r,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,h={};e.effects.save(o,s),o.show(),n=t.distance||o["top"===c?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(o).css({overflow:"hidden"}),a&&o.css(c,u?isNaN(n)?"-"+n:-n:n),h[c]=(a?u?"+=":"-=":u?"-=":"+=")+n,o.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===r&&o.hide(),e.effects.restore(o,s),e.effects.removeWrapper(o),i()}})},e.effects.effect.transfer=function(t,i){var n=e(this),o=e(t.to),s="fixed"===o.css("position"),r=e("body"),a=s?r.scrollTop():0,l=s?r.scrollLeft():0,c=o.offset(),u={top:c.top-a,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},h=n.offset(),d=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:h.top-a,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){d.remove(),i()
})},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,o=e.data(this,"selectable-item");return o?(n=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",t,{selecting:o.element}):i._trigger("unselecting",t,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,s=this.opos[0],r=this.opos[1],a=t.pageX,l=t.pageY;return s>a&&(i=a,a=s,s=i),r>l&&(i=l,l=r,r=i),this.helper.css({left:s,top:r,width:a-s,height:l-r}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?c=!(i.left>a||s>i.right||i.top>l||r>i.bottom):"fit"===o.tolerance&&(c=i.left>s&&a>i.right&&i.top>r&&l>i.bottom),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,i){e.preventDefault(),t._setSelection(),t._select(i.item.data("ui-selectmenu-item"),e)},focus:function(e,i){var n=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&n.index!==t.focusIndex&&(t._trigger("focus",e,{item:n}),t.isOpen||t._select(n,e)),t.focusIndex=n.index,t.button.attr("aria-activedescendant",t.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,i){var n=this,o="";e.each(i,function(i,s){s.optgroup!==o&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(s.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:s.optgroup}).appendTo(t),o=s.optgroup),n._renderItemData(t,s)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var n=e("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var i,n,o=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),o+=":not(.ui-state-disabled)"),n="first"===e||"last"===e?i["first"===e?"prevAll":"nextAll"](o).eq(-1):i[e+"All"](o).eq(0),n.length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var i=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),i=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==i&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var i=[];t.each(function(t,n){var o=e(n),s=o.parent("optgroup");i.push({element:o,index:t,value:o.val(),label:o.text(),optgroup:s.attr("label")||"",disabled:s.prop("disabled")||o.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",r=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),t=o.length;i>t;t++)r.push(s);this.handles=o.add(e(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,o,s,r,a,l,c,u=this,h=this.options;return h.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(o>i||o===i&&(t===u._lastChangedValue||u.values(t)===h.min))&&(o=i,s=e(this),r=t)}),a=this._start(t,r),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=r,s.addClass("ui-state-active").focus(),l=s.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,o,s;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),s=this._valueMin()+n*o,this._trimAlignValue(s)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,o,s;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(o=this.values(),o[t]=i,s=this._trigger("slide",e,{handle:this.handles[t],value:i,values:o}),n=this.values(t?0:1),s!==!1&&this.values(t,i))):i!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:i}),s!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,o,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,o=arguments[0],s=0;n.length>s;s+=1)n[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,i){var n,o=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(o=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;o>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,n=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=n+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,n,o,s,r=this.options.range,a=this.options,l=this,c=this._animateOff?!1:a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(n=this.value(),o=this._valueMin(),s=this._valueMax(),i=s!==o?100*((n-o)/(s-o)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(t){var i,n,o,s,r=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,r),i===!1))return}switch(s=this.options.step,n=o=this.options.values&&this.options.values.length?this.values(r):this.value(),t.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;o=this._trimAlignValue(n+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;o=this._trimAlignValue(n-s)}this._slide(t,r,o)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,o=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(n=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(n=e(t.target)),n&&(!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(o=!0)}),o))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,n){var o,s,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(s)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,o,s,r=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==o&&!e.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],o):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,o=this.placeholder.offset(),s=this.options.axis,r={};s&&"x"!==s||(r.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(r.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)
}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=e.left,r=s+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||n+c>a&&l>n+c,d="y"===this.options.axis||t+u>s&&r>t+u,f=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:t+this.helperProportions.width/2>s&&r>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>o-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return n?this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){a.push(this)}var n,o,s,r,a=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(s=e(c[n],this.document[0]),o=s.length-1;o>=0;o--)r=e.data(s[o],this.widgetFullName),r&&r!==this&&!r.options.disabled&&l.push([e.isFunction(r.options.items)?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,o,s,r,a,l,c,u=this.items,h=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(o=e(d[i],this.document[0]),n=o.length-1;n>=0;n--)s=e.data(o[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(h.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(i=h.length-1;i>=0;i--)for(r=h[i][1],a=h[i][0],n=0,c=a.length;c>n;n++)l=e(a[n]),l.data(this.widgetName+"-item",r),u.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,o,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=o.outerWidth(),n.height=o.outerHeight()),s=o.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(o)):"tr"===n?t._createTrPlaceholder(t.currentItem,o):"img"===n&&o.attr("src",t.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(e,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,o,s,r,a,l,c,u,h,d=null,f=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&e.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],f=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,s=null,u=d.floating||this._isFloating(this.currentItem),r=u?"left":"top",a=u?"width":"height",h=u?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[f].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[r],c=!1,t[h]-l>this.items[n][a]/2&&(c=!0),o>Math.abs(t[h]-l)&&(o=Math.abs(t[h]-l),s=this.items[n],this.direction=c?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[f].element,!0),this._trigger("change",t,this._uiHash()),this.containers[f]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",t,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],i=e(o.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*n}},_generatePosition:function(t){var i,n,o=this.options,s=t.pageX,r=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&o.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||o.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(o.push(function(e){this._trigger("remove",e,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||o.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(o.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;o.length>n;n++)o[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},i=this.element;return e.each(["min","max","step"],function(e,n){var o=i.attr(n);void 0!==o&&o.length&&(t[n]=o)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function i(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)===!1?!1:void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var i=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,i.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return this.spinning||this._trigger("start",e)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?e.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return t=null!==n.min?n.min:0,i=e-t,i=Math.round(i/n.step)*n.step,e=t+i,e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&n.min>e?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:l(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null===e?!1:e===this._adjustValue(e)},_value:function(e,t){var i;""!==e&&(i=this._parse(e),null!==i&&(t||(i=this._adjustValue(i)),e=this._format(i))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:l(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:l(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:l(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void l(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var i,n;t=t.cloneNode(!1),i=t.href.replace(e,""),n=location.href.replace(e,"");try{i=decodeURIComponent(i)}catch(o){}try{n=decodeURIComponent(n)}catch(o){}return t.hash.length>1&&i===n}}(),_create:function(){var t=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible),this._processTabs(),i.active=this._initialActive(),e.isArray(i.disabled)&&(i.disabled=e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):e(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(i,o){return e(o).attr("aria-controls")===n?(t=i,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var i=e(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:o=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),t.ctrlKey||t.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function n(){return t>o&&(t=0),0>t&&(t=o),t}for(var o=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=e.map(i.filter(".ui-state-disabled"),function(e){return i.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,n=this.anchors,o=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(i,n){var o,s,r,a=e(n).uniqueId().attr("id"),l=e(n).closest("li"),c=l.attr("aria-controls");t._isLocal(n)?(o=n.hash,r=o.substring(1),s=t.element.find(t._sanitizeSelector(o))):(r=l.attr("aria-controls")||e({}).uniqueId()[0].id,o="#"+r,s=t.element.find(o),s.length||(s=t._createPanel(r),s.insertAfter(t.panels[i-1]||t.tablist)),s.attr("aria-live","polite")),s.length&&(t.panels=t.panels.add(s)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":r,"aria-labelledby":a}),s.attr("aria-labelledby",a)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(o.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var i,n=0;i=this.tabs[n];n++)t===!0||-1!==e.inArray(n,t)?e(i).addClass("ui-state-disabled").attr("aria-disabled","true"):e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var i={};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,n=this.element.parent();"fill"===t?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),n=t.css("position");"absolute"!==n&&"fixed"!==n&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,e(this).height("").height())}).height(i))},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),s=o.closest("li"),r=s[0]===n[0],a=r&&i.collapsible,l=a?e():this._getPanelForTab(s),c=n.length?this._getPanelForTab(n):e(),u={oldTab:n,oldPanel:c,newTab:a?e():s,newPanel:l};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||this._trigger("beforeActivate",t,u)===!1||(i.active=a?!1:this.tabs.index(s),this.active=r?e():s,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),t),this._toggle(t,u))},_toggle:function(t,i){function n(){s.running=!1,s._trigger("activate",t,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&s.options.show?s._show(r,s.options.show,n):(r.show(),n())
}var s=this,r=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),o()),a.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&a.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var i,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=e.isArray(i)?e.map(i,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,i){return i!==t?i:null})),this._setupDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,i))return;i=e.isArray(i)?e.merge([t],i).sort():[t]}this._setupDisabled(i)}},load:function(t,i){t=this._getIndex(t);var n=this,o=this.tabs.eq(t),s=o.find(".ui-tabs-anchor"),r=this._getPanelForTab(o),a={tab:o,panel:r},l=function(e,t){"abort"===t&&n.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),e===n.xhr&&delete n.xhr};this._isLocal(s[0])||(this.xhr=e.ajax(this._ajaxSettings(s,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.done(function(e,t,o){setTimeout(function(){r.html(e),n._trigger("load",i,a),l(o,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,i,n){var o=this;return{url:t.attr("href"),beforeSend:function(t,s){return o._trigger("beforeLoad",i,e.extend({jqXHR:t,ajaxSettings:s},n))}}},_getPanelForTab:function(t){var i=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),o=e.inArray(i,n);-1!==o&&n.splice(o,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t.element)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur");o.target=o.currentTarget=n.element[0],t.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(t,n),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,o=this,s=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){o._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=s),this._open(t,e,i))})}),void(i&&this._open(t,e,i)))},_open:function(t,i,n){function o(e){c.of=e,r.is(":hidden")||r.position(c)}var s,r,a,l,c=e.extend({},this.options.position);if(n){if(s=this._find(i))return void s.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),r=s.tooltip,this._addDescribedBy(i,r.attr("id")),r.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,e("<div>").html(l).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:o}),o(t)):r.position(e.extend({of:i},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){r.is(":visible")&&(o(c.of),clearInterval(a))},e.fx.interval)),this._trigger("open",t,{tooltip:r})}},_registerCloseHandlers:function(t,i){var n={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(n.mouseleave="close"),t&&"focusin"!==t.type||(n.focusout="close"),this._on(!0,i,n)},close:function(t){var i,n=this,o=e(t?t.currentTarget:this.element),s=this._find(o);return s?(i=s.tooltip,void(s.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),s.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(e(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),s.closing=!0,this._trigger("close",t,{tooltip:i}),s.hiding||(s.closing=!1)))):void o.removeData("ui-tooltip-open")},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur"),s=n.element;o.target=o.currentTarget=s[0],t.close(o,!0),e("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),!function(e){function t(i,n){return this instanceof t?(e.isPlainObject(i)?n=i:(n=n||{},n.alias=i),this.el=void 0,this.opts=e.extend(!0,{},this.defaults,n),this.noMasksCache=n&&void 0!==n.definitions,this.userOptions=n||{},this.events={},void o(this.opts.alias,n,this.opts)):new t(i,n)}function i(e){var t=document.createElement("input"),i="on"+e,n=i in t;return n||(t.setAttribute(i,"return;"),n="function"==typeof t[i]),t=null,n}function n(t,i){var n=t.getAttribute("type"),o="INPUT"===t.tagName&&-1!==e.inArray(n,i.supportsInputType)||t.isContentEditable||"TEXTAREA"===t.tagName;if(!o&&"INPUT"===t.tagName){var s=document.createElement("input");s.setAttribute("type",n),o="text"===s.type,s=null}return o}function o(t,i,n){var s=n.aliases[t];return s?(s.alias&&o(s.alias,void 0,n),e.extend(!0,n,s),e.extend(!0,n,i),!0):(null===n.mask&&(n.mask=t),!1)}function s(t,i,n){function s(e,i){i=void 0!==i?i:t.getAttribute("data-inputmask-"+e),null!==i&&("string"==typeof i&&(0===e.indexOf("on")?i=window[i]:"false"===i?i=!1:"true"===i&&(i=!0)),n[e]=i)}var r,a,l,c,u=t.getAttribute("data-inputmask");if(u&&""!==u&&(u=u.replace(new RegExp("'","g"),'"'),a=JSON.parse("{"+u+"}")),a){l=void 0;for(c in a)if("alias"===c.toLowerCase()){l=a[c];break}}s("alias",l),n.alias&&o(n.alias,n,i);for(r in i){if(a){l=void 0;for(c in a)if(c.toLowerCase()===r.toLowerCase()){l=a[c];break}}s(r,l)}return e.extend(!0,i,n),i}function r(i,n){function o(t){function n(e,t,i,n){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function o(t,n,o){var s=i.definitions[n];o=void 0!==o?o:t.matches.length;var r=t.matches[o-1];if(s&&!v){s.placeholder=e.isFunction(s.placeholder)?s.placeholder(i):s.placeholder;for(var a=s.prevalidator,l=a?a.length:0,c=1;c<s.cardinality;c++){var u=l>=c?a[c-1]:[],h=u.validator,d=u.cardinality;t.matches.splice(o++,0,{fn:h?"string"==typeof h?new RegExp(h):new function(){this.test=h}:new RegExp("."),cardinality:d?d:1,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(s.definitionSymbol||n),casing:s.casing,def:s.definitionSymbol||n,placeholder:s.placeholder,mask:n}),r=t.matches[o-1]}t.matches.splice(o++,0,{fn:s.validator?"string"==typeof s.validator?new RegExp(s.validator):new function(){this.test=s.validator}:new RegExp("."),cardinality:s.cardinality,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(s.definitionSymbol||n),casing:s.casing,def:s.definitionSymbol||n,placeholder:s.placeholder,mask:n})}else t.matches.splice(o++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==n,casing:null,def:i.staticDefinitionSymbol||n,placeholder:void 0!==i.staticDefinitionSymbol?n:void 0,mask:n}),v=!1}function s(e,t){e.isGroup&&(e.isGroup=!1,o(e,i.groupmarker.start,0),t!==!0&&o(e,i.groupmarker.end))}function r(e,t,i,n){t.matches.length>0&&(void 0===n||n)&&(i=t.matches[t.matches.length-1],s(i)),o(t,e)}function a(){if(_.length>0){if(d=_[_.length-1],r(u,d,p,!d.isAlternator),d.isAlternator){f=_.pop();for(var e=0;e<f.matches.length;e++)f.matches[e].isGroup=!1;_.length>0?(d=_[_.length-1],d.matches.push(f)):b.matches.push(f)}}else r(u,b,p)}function l(e){function t(e){return e===i.optionalmarker.start?e=i.optionalmarker.end:e===i.optionalmarker.end?e=i.optionalmarker.start:e===i.groupmarker.start?e=i.groupmarker.end:e===i.groupmarker.end&&(e=i.groupmarker.start),e}e.matches=e.matches.reverse();for(var n in e.matches){var o=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[o+1]&&e.matches[o+1].isGroup){var s=e.matches[n];e.matches.splice(n,1),e.matches.splice(o+1,0,s)}e.matches[n]=void 0!==e.matches[n].matches?l(e.matches[n]):t(e.matches[n])}return e}for(var c,u,h,d,f,p,m,g=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,v=!1,b=new n,_=[],y=[];c=g.exec(t);)if(u=c[0],v)a();else switch(u.charAt(0)){case i.escapeChar:v=!0;break;case i.optionalmarker.end:case i.groupmarker.end:if(h=_.pop(),void 0!==h)if(_.length>0){if(d=_[_.length-1],d.matches.push(h),d.isAlternator){f=_.pop();for(var w=0;w<f.matches.length;w++)f.matches[w].isGroup=!1;_.length>0?(d=_[_.length-1],d.matches.push(f)):b.matches.push(f)}}else b.matches.push(h);else a();break;case i.optionalmarker.start:_.push(new n(!1,!0));break;case i.groupmarker.start:_.push(new n(!0));break;case i.quantifiermarker.start:var x=new n(!1,!1,!0);u=u.replace(/[{}]/g,"");var k=u.split(","),C=isNaN(k[0])?k[0]:parseInt(k[0]),S=1===k.length?C:isNaN(k[1])?k[1]:parseInt(k[1]);if("*"!==S&&"+"!==S||(C="*"===S?0:1),x.quantifier={min:C,max:S},_.length>0){var D=_[_.length-1].matches;c=D.pop(),c.isGroup||(m=new n(!0),m.matches.push(c),c=m),D.push(c),D.push(x)}else c=b.matches.pop(),c.isGroup||(m=new n(!0),m.matches.push(c),c=m),b.matches.push(c),b.matches.push(x);break;case i.alternatormarker:_.length>0?(d=_[_.length-1],p=d.matches.pop()):p=b.matches.pop(),p.isAlternator?_.push(p):(f=new n(!1,!1,!1,!0),f.matches.push(p),_.push(f));break;default:a()}for(;_.length>0;)h=_.pop(),s(h,!0),b.matches.push(h);return b.matches.length>0&&(p=b.matches[b.matches.length-1],s(p),y.push(b)),i.numericInput&&l(y[0]),y}function s(s,r){if(null!==s&&""!==s){if(1===s.length&&i.greedy===!1&&0!==i.repeat&&(i.placeholder=""),i.repeat>0||"*"===i.repeat||"+"===i.repeat){var a="*"===i.repeat?0:"+"===i.repeat?1:i.repeat;s=i.groupmarker.start+s+i.groupmarker.end+i.quantifiermarker.start+a+","+i.repeat+i.quantifiermarker.end}var l;return void 0===t.prototype.masksCache[s]||n===!0?(l={mask:s,maskToken:o(s),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:r,maskLength:void 0},n!==!0&&(t.prototype.masksCache[i.numericInput?s.split("").reverse().join(""):s]=l,l=e.extend(!0,{},t.prototype.masksCache[i.numericInput?s.split("").reverse().join(""):s]))):l=e.extend(!0,{},t.prototype.masksCache[i.numericInput?s.split("").reverse().join(""):s]),l}}function r(e){return e=e.toString()}var a;if(e.isFunction(i.mask)&&(i.mask=i.mask(i)),e.isArray(i.mask)){if(i.mask.length>1){i.keepStatic=null===i.keepStatic||i.keepStatic;var l="(";return e.each(i.numericInput?i.mask.reverse():i.mask,function(t,i){l.length>1&&(l+=")|("),l+=r(void 0===i.mask||e.isFunction(i.mask)?i:i.mask)}),l+=")",s(l,i.mask)}i.mask=i.mask.pop()}return i.mask&&(a=void 0===i.mask.mask||e.isFunction(i.mask.mask)?s(r(i.mask),i.mask):s(r(i.mask.mask),i.mask)),a}function a(o,s,r){function l(e,t,i){t=t||0;var n,o,s,a=[],l=0,c=p();rt=void 0!==ot?ot.maxLength:void 0,-1===rt&&(rt=void 0);do{if(e===!0&&d().validPositions[l]){var u=d().validPositions[l];o=u.match,n=u.locator.slice(),a.push(i===!0?u.input:F(l,o))}else s=v(l,n,l-1),o=s.match,n=s.locator.slice(),(r.jitMasking===!1||c>l||isFinite(r.jitMasking)&&r.jitMasking>l)&&a.push(F(l,o));l++}while((void 0===rt||rt>l)&&(null!==o.fn||""!==o.def)||t>l);return""===a[a.length-1]&&a.pop(),d().maskLength=l+1,a}function d(){return s}function f(e){var t=d();t.buffer=void 0,e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=0)}function p(e,t,i){var n=-1,o=-1,s=i||d().validPositions;void 0===e&&(e=-1);for(var r in s){var a=parseInt(r);s[a]&&(t||null!==s[a].match.fn)&&(e>=a&&(n=a),a>=e&&(o=a))}return-1!==n&&e-n>1||e>o?n:o}function m(t,i,n,o){function s(e){var t=d().validPositions[e];if(void 0!==t&&null===t.match.fn){var i=d().validPositions[e-1],n=d().validPositions[e+1];return void 0!==i&&void 0!==n}return!1}var a,l=t,c=e.extend(!0,{},d().validPositions),u=!1;for(d().p=t,a=i-1;a>=l;a--)void 0!==d().validPositions[a]&&(n===!0||!s(a)&&r.canClearPosition(d(),a,p(),o,r)!==!1)&&delete d().validPositions[a];for(f(!0),a=l+1;a<=p();){for(;void 0!==d().validPositions[l];)l++;var h=d().validPositions[l];if(l>a&&(a=l+1),void 0===d().validPositions[a]&&I(a)||void 0!==h)a++;else{var m=v(a);u===!1&&c[l]&&c[l].match.def===m.match.def?(d().validPositions[l]=e.extend(!0,{},c[l]),d().validPositions[l].input=m.input,delete d().validPositions[a],a++):_(l,m.match.def)?T(l,m.input||F(a),!0)!==!1&&(delete d().validPositions[a],a++,u=!0):I(a)||(a++,l--),l++}}f(!0)}function g(e,t){for(var i,n=e,o=p(),s=d().validPositions[o]||w(0)[0],a=void 0!==s.alternation?s.locator[s.alternation].toString().split(","):[],l=0;l<n.length&&(i=n[l],!(i.match&&(r.greedy&&i.match.optionalQuantifier!==!0||(i.match.optionality===!1||i.match.newBlockMarker===!1)&&i.match.optionalQuantifier!==!0)&&(void 0===s.alternation||s.alternation!==i.alternation||void 0!==i.locator[s.alternation]&&D(i.locator[s.alternation].toString().split(","),a)))||t===!0&&(null!==i.match.fn||/[0-9a-bA-Z]/.test(i.match.def)));l++);return i}function v(e,t,i){return d().validPositions[e]||g(w(e,t?t.slice():t,i))}function b(e){return d().validPositions[e]?d().validPositions[e]:w(e)[0]}function _(e,t){for(var i=!1,n=w(e),o=0;o<n.length;o++)if(n[o].match&&n[o].match.def===t){i=!0;break}return i}function y(t,i){var n,o;return(d().tests[t]||d().validPositions[t])&&e.each(d().tests[t]||[d().validPositions[t]],function(e,t){var s=t.alternation?t.locator[t.alternation].toString().indexOf(i):-1;(void 0===o||o>s)&&-1!==s&&(n=t,o=s)}),n}function w(t,i,n){function o(i,n,s,a){function c(s,a,h){function g(t,i){var n=0===e.inArray(t,i.matches);return n||e.each(i.matches,function(e,o){return o.isQuantifier===!0&&(n=g(t,i.matches[e-1]))?!1:void 0}),n}function v(e,t){var i=y(e,t);return i?i.locator.slice(i.alternation+1):void 0}function b(e,i){return null===e.match.fn&&null!==i.match.fn&&i.match.fn.test(e.match.def,d(),t,!1,r,!1)}if(u>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d().mask;if(u===t&&void 0===s.matches)return f.push({match:s,locator:a.reverse(),cd:m}),!0;if(void 0!==s.matches){if(s.isGroup&&h!==s){if(s=c(i.matches[e.inArray(s,i.matches)+1],a))return!0}else if(s.isOptional){var _=s;if(s=o(s,n,a,h)){if(l=f[f.length-1].match,!g(l,_))return!0;p=!0,u=t}}else if(s.isAlternator){var w,x=s,k=[],C=f.slice(),S=a.length,D=n.length>0?n.shift():-1;if(-1===D||"string"==typeof D){var T,I=u,P=n.slice(),A=[];if("string"==typeof D)A=D.split(",");else for(T=0;T<x.matches.length;T++)A.push(T);for(var M=0;M<A.length;M++){if(T=parseInt(A[M]),f=[],n=v(u,T)||P.slice(),s=c(x.matches[T]||i.matches[T],[T].concat(a),h)||s,s!==!0&&void 0!==s&&A[A.length-1]<x.matches.length){var E=e.inArray(s,i.matches)+1;i.matches.length>E&&(s=c(i.matches[E],[E].concat(a.slice(1,a.length)),h),s&&(A.push(E.toString()),e.each(f,function(e,t){t.alternation=a.length-1})))}w=f.slice(),u=I,f=[];for(var F=0;F<w.length;F++){var R=w[F],O=!1;R.alternation=R.alternation||S;for(var H=0;H<k.length;H++){var L=k[H];if(("string"!=typeof D||-1!==e.inArray(R.locator[R.alternation].toString(),A))&&(R.match.def===L.match.def||b(R,L))){O=R.match.mask===L.match.mask,-1===L.locator[R.alternation].toString().indexOf(R.locator[R.alternation])&&(L.locator[R.alternation]=L.locator[R.alternation]+","+R.locator[R.alternation],L.alternation=R.alternation,null==R.match.fn&&(L.na=L.na||R.locator[R.alternation].toString(),-1===L.na.indexOf(R.locator[R.alternation])&&(L.na=L.na+","+R.locator[R.alternation])));break}}O||k.push(R)}}"string"==typeof D&&(k=e.map(k,function(t,i){if(isFinite(i)){var n,o=t.alternation,s=t.locator[o].toString().split(",");t.locator[o]=void 0,t.alternation=void 0;for(var r=0;r<s.length;r++)n=-1!==e.inArray(s[r],A),n&&(void 0!==t.locator[o]?(t.locator[o]+=",",t.locator[o]+=s[r]):t.locator[o]=parseInt(s[r]),t.alternation=o);if(void 0!==t.locator[o])return t}})),f=C.concat(k),u=t,p=f.length>0,n=P.slice()}else s=c(x.matches[D]||i.matches[D],[D].concat(a),h);if(s)return!0}else if(s.isQuantifier&&h!==i.matches[e.inArray(s,i.matches)-1])for(var z=s,N=n.length>0?n.shift():0;N<(isNaN(z.quantifier.max)?N+1:z.quantifier.max)&&t>=u;N++){var B=i.matches[e.inArray(z,i.matches)-1];if(s=c(B,[N].concat(a),B)){if(l=f[f.length-1].match,l.optionalQuantifier=N>z.quantifier.min-1,g(l,B)){if(N>z.quantifier.min-1){p=!0,u=t;break}return!0}return!0}}else if(s=o(s,n,a,h))return!0}else u++}for(var h=n.length>0?n.shift():0;h<i.matches.length;h++)if(i.matches[h].isQuantifier!==!0){var g=c(i.matches[h],[h].concat(s),a);if(g&&u===t)return g;if(u>t)break}}function s(t){var i=[];return e.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation?(i=g(t.slice()).locator.slice(),0===i.length&&(i=t[0].locator.slice())):e.each(t,function(e,t){if(""!==t.def)if(0===i.length)i=t.locator.slice();else for(var n=0;n<i.length;n++)t.locator[n]&&-1===i[n].toString().indexOf(t.locator[n])&&(i[n]+=","+t.locator[n])})),i}function a(e){return r.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&e[0].match.optionality!==!0&&e[0].match.optionalQuantifier!==!0&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)?[g(e)]:e}var l,c=d().maskToken,u=i?n:0,h=i?i.slice():[0],f=[],p=!1,m=i?i.join(""):"";if(t>-1){if(void 0===i){for(var v,b=t-1;void 0===(v=d().validPositions[b]||d().tests[b])&&b>-1;)b--;void 0!==v&&b>-1&&(h=s(v),m=h.join(""),u=b)}if(d().tests[t]&&d().tests[t][0].cd===m)return a(d().tests[t]);for(var _=h.shift();_<c.length;_++){var w=o(c[_],h,[_]);if(w&&u===t||u>t)break}}return(0===f.length||p)&&f.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:m}),void 0!==i&&d().tests[t]?a(e.extend(!0,[],f)):(d().tests[t]=e.extend(!0,[],f),a(d().tests[t]))}function x(){return void 0===d()._buffer&&(d()._buffer=l(!1,1),void 0===d().buffer&&d()._buffer.slice()),d()._buffer}function k(e){return void 0!==d().buffer&&e!==!0||(d().buffer=l(!0,p(),!0)),d().buffer}function C(e,t,i){var n;if(e===!0)f(),e=0,t=i.length;else for(n=e;t>n;n++)delete d().validPositions[n];for(n=e;t>n;n++)f(!0),i[n]!==r.skipOptionalPartCharacter&&T(n,i[n],!0,!0)}function S(e,i,n){switch(r.casing||i.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var o=d().validPositions[n-1];e=0===n||o&&o.input===String.fromCharCode(t.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}function D(t,i){for(var n=r.greedy?i:i.slice(0,1),o=!1,s=0;s<t.length;s++)if(-1!==e.inArray(t[s],n)){o=!0;break}return o}function T(i,n,o,s,a){function l(e){return lt?e.begin-e.end>1||e.begin-e.end===1&&r.insertMode:e.end-e.begin>1||e.end-e.begin===1&&r.insertMode}function c(t,n,o){var a=!1;return e.each(w(t),function(c,u){for(var h=u.match,g=n?1:0,v="",_=h.cardinality;_>g;_--)v+=M(t-(_-1));if(n&&(v+=n),k(!0),a=null!=h.fn?h.fn.test(v,d(),t,o,r,l(i)):(n===h.def||n===r.skipOptionalPartCharacter)&&""!==h.def&&{c:h.placeholder||h.def,pos:t},a!==!1){var y=void 0!==a.c?a.c:n;y=y===r.skipOptionalPartCharacter&&null===h.fn?h.placeholder||h.def:y;var w=t,x=k();if(void 0!==a.remove&&(e.isArray(a.remove)||(a.remove=[a.remove]),e.each(a.remove.sort(function(e,t){return t-e}),function(e,t){m(t,t+1,!0)})),void 0!==a.insert&&(e.isArray(a.insert)||(a.insert=[a.insert]),e.each(a.insert.sort(function(e,t){return e-t}),function(e,t){T(t.pos,t.c,!1,s)})),a.refreshFromBuffer){var D=a.refreshFromBuffer;if(o=!0,C(D===!0?D:D.start,D.end,x),void 0===a.pos&&void 0===a.c)return a.pos=p(),!1;if(w=void 0!==a.pos?a.pos:t,w!==t)return a=e.extend(a,T(w,y,!0,s)),!1}else if(a!==!0&&void 0!==a.pos&&a.pos!==t&&(w=a.pos,C(t,w,k().slice()),w!==t))return a=e.extend(a,T(w,y,!0)),!1;return(a===!0||void 0!==a.pos||void 0!==a.c)&&(c>0&&f(!0),b(w,e.extend({},u,{input:S(y,h,w)}),s,l(i))||(a=!1),!1)}}),a}function u(t,i,n){var o,a,l,c,u,h,m,g,v=e.extend(!0,{},d().validPositions),b=!1,_=p();for(c=d().validPositions[_];_>=0;_--)if(l=d().validPositions[_],l&&void 0!==l.alternation){if(o=_,a=d().validPositions[o].alternation,c.locator[l.alternation]!==l.locator[l.alternation])break;c=l}if(void 0!==a){g=parseInt(o);var y=void 0!==c.locator[c.alternation||a]?c.locator[c.alternation||a]:m[0];y.length>0&&(y=y.split(",")[0]);var x=d().validPositions[g],k=d().validPositions[g-1];e.each(w(g,k?k.locator:void 0,g-1),function(o,l){m=l.locator[a]?l.locator[a].toString().split(","):[];for(var c=0;c<m.length;c++){var _=[],w=0,k=0,C=!1;if(y<m[c]&&(void 0===l.na||-1===e.inArray(m[c],l.na.split(",")))){d().validPositions[g]=e.extend(!0,{},l);var S=d().validPositions[g].locator;for(d().validPositions[g].locator[a]=parseInt(m[c]),null==l.match.fn?(x.input!==l.match.def&&(C=!0,x.generatedInput!==!0&&_.push(x.input)),k++,d().validPositions[g].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),d().validPositions[g].input=l.match.def):d().validPositions[g].input=x.input,u=g+1;u<p(void 0,!0)+1;u++)h=d().validPositions[u],h&&h.generatedInput!==!0&&/[0-9a-bA-Z]/.test(h.input)?_.push(h.input):t>u&&w++,delete d().validPositions[u];for(C&&_[0]===l.match.def&&_.shift(),f(!0),b=!0;_.length>0;){var D=_.shift();if(D!==r.skipOptionalPartCharacter&&!(b=T(p(void 0,!0)+1,D,!1,s,!0)))break}if(b){d().validPositions[g].locator=S;var I=p(t)+1;for(u=g+1;u<p()+1;u++)h=d().validPositions[u],(void 0===h||null==h.match.fn)&&t+(k-w)>u&&k++;t+=k-w,b=T(t>I?I:t,i,n,s,!0)}if(b)return!1;f(),d().validPositions=e.extend(!0,{},v)}}})}return b}function h(t,i){for(var n=d().validPositions[i],o=n.locator,s=o.length,r=t;i>r;r++)if(void 0===d().validPositions[r]&&!I(r,!0)){var a=w(r),l=a[0],c=-1;e.each(a,function(e,t){for(var i=0;s>i&&void 0!==t.locator[i]&&D(t.locator[i].toString().split(","),o[i].toString().split(","));i++)i>c&&(c=i,l=t)}),b(r,e.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}function b(t,i,n,o){if(o||r.insertMode&&void 0!==d().validPositions[t]&&void 0===n){var s,a=e.extend(!0,{},d().validPositions),l=p();for(s=t;l>=s;s++)delete d().validPositions[s];d().validPositions[t]=e.extend(!0,{},i);var c,u=!0,h=d().validPositions,m=!1,g=d().maskLength;for(s=c=t;l>=s;s++){var v=a[s];if(void 0!==v)for(var b=c;b<d().maskLength&&(null==v.match.fn&&h[s]&&(h[s].match.optionalQuantifier===!0||h[s].match.optionality===!0)||null!=v.match.fn);){if(b++,m===!1&&a[b]&&a[b].match.def===v.match.def)d().validPositions[b]=e.extend(!0,{},a[b]),d().validPositions[b].input=v.input,y(b),c=b,u=!0;else if(_(b,v.match.def)){var w=T(b,v.input,!0,!0);u=w!==!1,c=w.caret||w.insert?p():b,m=!0}else u=v.generatedInput===!0;if(d().maskLength<g&&(d().maskLength=g),u)break}if(!u)break}if(!u)return d().validPositions=e.extend(!0,{},a),f(!0),!1}else d().validPositions[t]=e.extend(!0,{},i);return f(!0),!0}function y(t){for(var i=t-1;i>-1&&!d().validPositions[i];i--);var n,o;for(i++;t>i;i++)void 0===d().validPositions[i]&&(r.jitMasking===!1||r.jitMasking>i)&&(o=w(i,v(i-1).locator,i-1).slice(),""===o[o.length-1].match.def&&o.pop(),n=g(o),n&&(n.match.def===r.radixPointDefinitionSymbol||!I(i,!0)||e.inArray(r.radixPoint,k())<i&&n.match.fn&&n.match.fn.test(F(i),d(),i,!1,r))&&(A=c(i,n.match.placeholder||(null==n.match.fn?n.match.def:""!==F(i)?F(i):k()[i]),!0),A!==!1&&(d().validPositions[A.pos||i].generatedInput=!0)))}o=o===!0;var x=i;void 0!==i.begin&&(x=lt&&!l(i)?i.end:i.begin);var A=!1,E=e.extend(!0,{},d().validPositions);if(y(x),l(i)&&(j(void 0,t.keyCode.DELETE,i),x=d().p),x<d().maskLength&&(A=c(x,n,o),(!o||s===!0)&&A===!1)){var R=d().validPositions[x];if(!R||null!==R.match.fn||R.match.def!==n&&n!==r.skipOptionalPartCharacter){if((r.insertMode||void 0===d().validPositions[P(x)])&&!I(x,!0)){var O=w(x).slice();""===O[O.length-1].match.def&&O.pop();var H=g(O,!0);H&&(H=H.match.placeholder||H.match.def,c(x,H,o),d().validPositions[x].generatedInput=!0);for(var L=x+1,z=P(x);z>=L;L++)if(A=c(L,n,o),A!==!1){h(x,L),x=L;break}}}else A={caret:P(x)}}return A===!1&&r.keepStatic&&!o&&a!==!0&&(A=u(x,n,o)),A===!0&&(A={pos:x}),e.isFunction(r.postValidation)&&A!==!1&&!o&&s!==!0&&(A=!!r.postValidation(k(!0),A,r)&&A),void 0===A.pos&&(A.pos=x),A===!1&&(f(!0),d().validPositions=e.extend(!0,{},E)),A}function I(e,t){var i;if(t?(i=v(e).match,""===i.def&&(i=b(e).match)):i=b(e).match,null!=i.fn)return i.fn;if(t!==!0&&e>-1){var n=w(e);return n.length>1+(""===n[n.length-1].match.def?1:0)}return!1}function P(e,t){var i=d().maskLength;if(e>=i)return i;for(var n=e;++n<i&&(t===!0&&(b(n).match.newBlockMarker!==!0||!I(n))||t!==!0&&!I(n)););return n}function A(e,t){var i,n=e;if(0>=n)return 0;for(;--n>0&&(t===!0&&b(n).match.newBlockMarker!==!0||t!==!0&&!I(n)&&(i=w(n),i.length<2||2===i.length&&""===i[1].match.def)););return n}function M(e){return void 0===d().validPositions[e]?F(e):d().validPositions[e].input}function E(t,i,n,o,s){if(o&&e.isFunction(r.onBeforeWrite)){var a=r.onBeforeWrite(o,i,n,r);if(a){if(a.refreshFromBuffer){var l=a.refreshFromBuffer;C(l===!0?l:l.start,l.end,a.buffer||i),i=k(!0)}void 0!==n&&(n=void 0!==a.caret?a.caret:n)}}t.inputmask._valueSet(i.join("")),void 0===n||void 0!==o&&"blur"===o.type||H(t,n),s===!0&&(ut=!0,e(t).trigger("input"))}function F(e,t){if(t=t||b(e).match,void 0!==t.placeholder)return t.placeholder;if(null===t.fn){if(e>-1&&void 0===d().validPositions[e]){var i,n=w(e),o=[];if(n.length>1+(""===n[n.length-1].match.def?1:0))for(var s=0;s<n.length;s++)if(n[s].match.optionality!==!0&&n[s].match.optionalQuantifier!==!0&&(null===n[s].match.fn||void 0===i||n[s].match.fn.test(i.match.def,d(),e,!0,r)!==!1)&&(o.push(n[s]),null===n[s].match.fn&&(i=n[s]),o.length>1&&/[0-9a-bA-Z]/.test(o[0].match.def)))return r.placeholder.charAt(e%r.placeholder.length)}return t.def}return r.placeholder.charAt(e%r.placeholder.length)}function R(i,n,o,s,a,l){function c(){var e=!1,t=x().slice(m,P(m)).join("").indexOf(h);if(-1!==t&&!I(m)){e=!0;for(var i=x().slice(m,m+t),n=0;n<i.length;n++)if(" "!==i[n]){e=!1;break}}return e}var u=s.slice(),h="",m=0,g=void 0;if(f(),d().p=P(-1),!o)if(r.autoUnmask!==!0){var b=x().slice(0,P(-1)).join(""),_=u.join("").match(new RegExp("^"+t.escapeRegex(b),"g"));_&&_.length>0&&(u.splice(0,_.length*b.length),m=P(m))}else m=P(m);if(e.each(u,function(t,n){if(void 0!==n){var s=new e.Event("keypress");s.which=n.charCodeAt(0),h+=n;var a=p(void 0,!0),l=d().validPositions[a],u=v(a+1,l?l.locator.slice():void 0,a);if(!c()||o||r.autoUnmask){var b=o?t:null==u.match.fn&&u.match.optionality&&a+1<d().p?a+1:d().p;g=$.call(i,s,!0,!1,o,b),m=b+1,h=""}else g=$.call(i,s,!0,!1,!0,a+1);if(!o&&e.isFunction(r.onBeforeWrite)&&(g=r.onBeforeWrite(s,k(),g.forwardPosition,r),g&&g.refreshFromBuffer)){var _=g.refreshFromBuffer;C(_===!0?_:_.start,_.end,g.buffer),f(!0),g.caret&&(d().p=g.caret)}}}),n){var y=void 0,w=p();document.activeElement===i&&(a||g)&&(y=H(i).begin-(l===!0?1:0),g&&l!==!0&&(w+1>y||-1===w)&&(y=r.numericInput&&void 0===g.caret?A(g.forwardPosition):g.forwardPosition)),E(i,k(),y,a||new e.Event("checkval"))}}function O(t){if(t&&void 0===t.inputmask)return t.value;var i=[],n=d().validPositions;for(var o in n)n[o].match&&null!=n[o].match.fn&&i.push(n[o].input);var s=0===i.length?"":(lt?i.reverse():i).join("");if(e.isFunction(r.onUnMask)){var a=(lt?k().slice().reverse():k()).join("");s=r.onUnMask(a,s,r)||s}return s}function H(e,t,i,n){function o(e){if(n!==!0&&lt&&"number"==typeof e&&(!r.greedy||""!==r.placeholder)){var t=k().join("").length;e=t-e}return e}var s;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,i=e.selectionEnd):window.getSelection?(s=window.getSelection().getRangeAt(0),s.commonAncestorContainer.parentNode!==e&&s.commonAncestorContainer!==e||(t=s.startOffset,i=s.endOffset)):document.selection&&document.selection.createRange&&(s=document.selection.createRange(),t=0-s.duplicate().moveStart("character",-e.inputmask._valueGet().length),i=t+s.text.length),{begin:o(t),end:o(i)};
t=o(t),i=o(i),i="number"==typeof i?i:t;var a=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*i;if(e.scrollLeft=a>e.scrollWidth?a:0,c||r.insertMode!==!1||t!==i||i++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=i;else if(window.getSelection){if(s=document.createRange(),void 0===e.firstChild||null===e.firstChild){var l=document.createTextNode("");e.appendChild(l)}s.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),s.setEnd(e.firstChild,i<e.inputmask._valueGet().length?i:e.inputmask._valueGet().length),s.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(s)}else e.createTextRange&&(s=e.createTextRange(),s.collapse(!0),s.moveEnd("character",i),s.moveStart("character",t),s.select())}function L(t){var i,n,o=k(),s=o.length,r=p(),a={},l=d().validPositions[r],c=void 0!==l?l.locator.slice():void 0;for(i=r+1;i<o.length;i++)n=v(i,c,i-1),c=n.locator.slice(),a[i]=e.extend(!0,{},n);var u=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(i=s-1;i>r&&(n=a[i],(n.match.optionality||n.match.optionalQuantifier||u&&(u!==a[i].locator[l.alternation]&&null!=n.match.fn||null===n.match.fn&&n.locator[l.alternation]&&D(n.locator[l.alternation].toString().split(","),u.toString().split(","))&&""!==w(i)[0].def))&&o[i]===F(i,n.match));i--)s--;return t?{l:s,def:a[s]?a[s].match:void 0}:s}function z(e){for(var t=L(),i=e.length-1;i>t&&!I(i);i--);return e.splice(t,i+1-t),e}function N(t){if(e.isFunction(r.isComplete))return r.isComplete(t,r);if("*"!==r.repeat){var i=!1,n=L(!0),o=A(n.l);if(void 0===n.def||n.def.newBlockMarker||n.def.optionality||n.def.optionalQuantifier){i=!0;for(var s=0;o>=s;s++){var a=v(s).match;if(null!==a.fn&&void 0===d().validPositions[s]&&a.optionality!==!0&&a.optionalQuantifier!==!0||null===a.fn&&t[s]!==F(s,a)){i=!1;break}}}return i}}function B(t){function i(t){if(e.valHooks&&(void 0===e.valHooks[t]||e.valHooks[t].inputmaskpatch!==!0)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},n=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return-1!==p(void 0,void 0,e.inputmask.maskset.validPositions)||r.nullable!==!0?t:""}return i(e)},set:function(t,i){var o,s=e(t);return o=n(t,i),t.inputmask&&s.trigger("setvalue"),o},inputmaskpatch:!0}}}function n(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==p()||r.nullable!==!0?document.activeElement===this&&r.clearMaskOnLostFocus?(lt?z(k().slice()).reverse():z(k().slice())).join(""):a.call(this):"":a.call(this)}function o(t){l.call(this,t),this.inputmask&&e(this).trigger("setvalue")}function s(t){ft.on(t,"mouseenter",function(){var t=e(this),i=this,n=i.inputmask._valueGet();n!==k().join("")&&t.trigger("setvalue")})}var a,l;if(!t.inputmask.__valueGet){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;c&&c.get&&c.set?(a=c.get,l=c.set,Object.defineProperty(t,"value",{get:n,set:o,configurable:!0})):"INPUT"!==t.tagName&&(a=function(){return this.textContent},l=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:n,set:o,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(a=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",n),t.__defineSetter__("value",o));t.inputmask.__valueGet=a,t.inputmask._valueGet=function(e){return lt&&e!==!0?a.call(this.el).split("").reverse().join(""):a.call(this.el)},t.inputmask.__valueSet=l,t.inputmask._valueSet=function(e,t){l.call(this.el,null===e||void 0===e?"":t!==!0&&lt?e.split("").reverse().join(""):e)},void 0===a&&(a=function(){return this.value},l=function(e){this.value=e},i(t.type),s(t))}}function j(i,n,o,s){function a(){if(r.keepStatic){for(var t=[],n=p(-1,!0),o=e.extend(!0,{},d().validPositions),s=d().validPositions[n];n>=0;n--){var a=d().validPositions[n];if(a){if(a.generatedInput!==!0&&/[0-9a-bA-Z]/.test(a.input)&&t.push(a.input),delete d().validPositions[n],void 0!==a.alternation&&a.locator[a.alternation]!==s.locator[a.alternation])break;s=a}}if(n>-1)for(d().p=P(p(-1,!0));t.length>0;){var l=new e.Event("keypress");l.which=t.pop().charCodeAt(0),$.call(i,l,!0,!1,!1,d().p)}else d().validPositions=e.extend(!0,{},o)}}if((r.numericInput||lt)&&(n===t.keyCode.BACKSPACE?n=t.keyCode.DELETE:n===t.keyCode.DELETE&&(n=t.keyCode.BACKSPACE),lt)){var l=o.end;o.end=o.begin,o.begin=l}n===t.keyCode.BACKSPACE&&(o.end-o.begin<1||r.insertMode===!1)?(o.begin=A(o.begin),void 0===d().validPositions[o.begin]||d().validPositions[o.begin].input!==r.groupSeparator&&d().validPositions[o.begin].input!==r.radixPoint||o.begin--):n===t.keyCode.DELETE&&o.begin===o.end&&(o.end=I(o.end,!0)?o.end+1:P(o.end)+1,void 0===d().validPositions[o.begin]||d().validPositions[o.begin].input!==r.groupSeparator&&d().validPositions[o.begin].input!==r.radixPoint||o.end++),m(o.begin,o.end,!1,s),s!==!0&&a();var c=p(o.begin,!0);c<o.begin?d().p=P(c):s!==!0&&(d().p=o.begin)}function W(n){var o=this,s=e(o),a=n.keyCode,l=H(o);if(a===t.keyCode.BACKSPACE||a===t.keyCode.DELETE||h&&a===t.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&a===t.keyCode.X&&!i("cut"))n.preventDefault(),j(o,a,l),E(o,k(!0),d().p,n,o.inputmask._valueGet()!==k().join("")),o.inputmask._valueGet()===x().join("")?s.trigger("cleared"):N(k())===!0&&s.trigger("complete"),r.showTooltip&&(o.title=r.tooltip||d().mask);else if(a===t.keyCode.END||a===t.keyCode.PAGE_DOWN){n.preventDefault();var c=P(p());r.insertMode||c!==d().maskLength||n.shiftKey||c--,H(o,n.shiftKey?l.begin:c,c,!0)}else a===t.keyCode.HOME&&!n.shiftKey||a===t.keyCode.PAGE_UP?(n.preventDefault(),H(o,0,n.shiftKey?l.begin:0,!0)):(r.undoOnEscape&&a===t.keyCode.ESCAPE||90===a&&n.ctrlKey)&&n.altKey!==!0?(R(o,!0,!1,nt.split("")),s.trigger("click")):a!==t.keyCode.INSERT||n.shiftKey||n.ctrlKey?r.tabThrough===!0&&a===t.keyCode.TAB?(n.shiftKey===!0?(null===b(l.begin).match.fn&&(l.begin=P(l.begin)),l.end=A(l.begin,!0),l.begin=A(l.end,!0)):(l.begin=P(l.begin,!0),l.end=P(l.begin,!0),l.end<d().maskLength&&l.end--),l.begin<d().maskLength&&(n.preventDefault(),H(o,l.begin,l.end))):r.insertMode!==!1||n.shiftKey||(a===t.keyCode.RIGHT?setTimeout(function(){var e=H(o);H(o,e.begin)},0):a===t.keyCode.LEFT&&setTimeout(function(){var e=H(o);H(o,lt?e.begin+1:e.begin-1)},0)):(r.insertMode=!r.insertMode,H(o,r.insertMode||l.begin!==d().maskLength?l.begin:l.begin-1));r.onKeyDown.call(this,n,k(),H(o).begin,r),ht=-1!==e.inArray(a,r.ignorables)}function $(i,n,o,s,a){var l=this,c=e(l),u=i.which||i.charCode||i.keyCode;if(!(n===!0||i.ctrlKey&&i.altKey)&&(i.ctrlKey||i.metaKey||ht))return u===t.keyCode.ENTER&&nt!==k().join("")&&(nt=k().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(u){46===u&&i.shiftKey===!1&&","===r.radixPoint&&(u=44);var h,p=n?{begin:a,end:a}:H(l),m=String.fromCharCode(u);d().writeOutBuffer=!0;var g=T(p,m,s);if(g!==!1&&(f(!0),h=void 0!==g.caret?g.caret:n?g.pos+1:P(g.pos),d().p=h),o!==!1){var v=this;if(setTimeout(function(){r.onKeyValidation.call(v,u,g,r)},0),d().writeOutBuffer&&g!==!1){var b=k();E(l,b,r.numericInput&&void 0===g.caret?A(h):h,i,n!==!0),n!==!0&&setTimeout(function(){N(b)===!0&&c.trigger("complete")},0)}}if(r.showTooltip&&(l.title=r.tooltip||d().mask),i.preventDefault(),n)return g.forwardPosition=h,g}}function U(t){var i,n=this,o=t.originalEvent||t,s=e(n),a=n.inputmask._valueGet(!0),l=H(n);lt&&(i=l.end,l.end=l.begin,l.begin=i);var c=a.substr(0,l.begin),u=a.substr(l.end,a.length);if(c===(lt?x().reverse():x()).slice(0,l.begin).join("")&&(c=""),u===(lt?x().reverse():x()).slice(l.end).join("")&&(u=""),lt&&(i=c,c=u,u=i),window.clipboardData&&window.clipboardData.getData)a=c+window.clipboardData.getData("Text")+u;else{if(!o.clipboardData||!o.clipboardData.getData)return!0;a=c+o.clipboardData.getData("text/plain")+u}var h=a;if(e.isFunction(r.onBeforePaste)){if(h=r.onBeforePaste(a,r),h===!1)return t.preventDefault();h||(h=a)}return R(n,!1,!1,lt?h.split("").reverse():h.toString().split("")),E(n,k(),P(p()),t,nt!==k().join("")),N(k())===!0&&s.trigger("complete"),t.preventDefault()}function Y(i){var n=this,o=n.inputmask._valueGet();if(k().join("")!==o){var s=H(n);if(o=o.replace(new RegExp("("+t.escapeRegex(x().join(""))+")*"),""),u){var r=o.replace(k().join(""),"");if(1===r.length){var a=new e.Event("keypress");return a.which=r.charCodeAt(0),$.call(n,a,!0,!0,!1,d().validPositions[s.begin-1]?s.begin:s.begin-1),!1}}if(s.begin>o.length&&(H(n,o.length),s=H(n)),k().length-o.length!==1||o.charAt(s.begin)===k()[s.begin]||o.charAt(s.begin+1)===k()[s.begin]||I(s.begin)){for(var l=p()+1,c=k().slice(l).join("");null===o.match(t.escapeRegex(c)+"$");)c=c.slice(1);o=o.replace(c,""),o=o.split(""),R(n,!0,!1,o,i,s.begin<l),N(k())===!0&&e(n).trigger("complete")}else i.keyCode=t.keyCode.BACKSPACE,W.call(n,i);i.preventDefault()}}function q(){var t=this,i=t.inputmask._valueGet();R(t,!0,!1,(e.isFunction(r.onBeforeMask)?r.onBeforeMask(i,r)||i:i).split("")),nt=k().join(""),(r.clearMaskOnLostFocus||r.clearIncomplete)&&t.inputmask._valueGet()===x().join("")&&t.inputmask._valueSet("")}function V(e){var t=this,i=t.inputmask._valueGet();r.showMaskOnFocus&&(!r.showMaskOnHover||r.showMaskOnHover&&""===i)?t.inputmask._valueGet()!==k().join("")&&E(t,k(),P(p())):dt===!1&&H(t,P(p())),r.positionCaretOnTab===!0&&setTimeout(function(){K.apply(this,[e])},0),nt=k().join("")}function G(){var e=this;if(dt=!1,r.clearMaskOnLostFocus&&document.activeElement!==e){var t=k().slice(),i=e.inputmask._valueGet();i!==e.getAttribute("placeholder")&&""!==i&&(-1===p()&&i===x().join("")?t=[]:z(t),E(e,t))}}function K(){function t(t){if(""!==r.radixPoint){var i=d().validPositions;if(void 0===i[t]||i[t].input===F(t)){if(t<P(-1))return!0;var n=e.inArray(r.radixPoint,k());if(-1!==n){for(var o in i)if(o>n&&i[o].input!==F(o))return!1;return!0}}}return!1}var i=this;setTimeout(function(){if(document.activeElement===i){var n=H(i);if(n.begin===n.end)switch(r.positionCaretOnClick){case"none":break;case"radixFocus":if(t(n.begin)){var o=e.inArray(r.radixPoint,k().join(""));H(i,r.numericInput?P(o):o);break}default:var s=n.begin,a=p(s,!0),l=P(a);if(l>s)H(i,I(s)||I(s-1)?s:P(s));else{var c=F(l);(""!==c&&k()[l]!==c&&b(l).match.optionalQuantifier!==!0||!I(l,!0)&&b(l).match.def===c)&&(l=P(l)),H(i,l)}}}},0)}function Z(){var e=this;setTimeout(function(){H(e,0,P(p()))},0)}function X(i){var n=this,o=e(n),s=H(n),a=i.originalEvent||i,l=window.clipboardData||a.clipboardData,c=lt?k().slice(s.end,s.begin):k().slice(s.begin,s.end);l.setData("text",lt?c.reverse().join(""):c.join("")),document.execCommand&&document.execCommand("copy"),j(n,t.keyCode.DELETE,s),E(n,k(),d().p,i,nt!==k().join("")),n.inputmask._valueGet()===x().join("")&&o.trigger("cleared"),r.showTooltip&&(n.title=r.tooltip||d().mask)}function J(t){var i=e(this),n=this;if(n.inputmask){var o=n.inputmask._valueGet(),s=k().slice();nt!==s.join("")&&setTimeout(function(){i.trigger("change"),nt=s.join("")},0),""!==o&&(r.clearMaskOnLostFocus&&(-1===p()&&o===x().join("")?s=[]:z(s)),N(s)===!1&&(setTimeout(function(){i.trigger("incomplete")},0),r.clearIncomplete&&(f(),s=r.clearMaskOnLostFocus?[]:x().slice())),E(n,s,void 0,t))}}function Q(){var e=this;dt=!0,document.activeElement!==e&&r.showMaskOnHover&&e.inputmask._valueGet()!==k().join("")&&E(e,k())}function et(){nt!==k().join("")&&st.trigger("change"),r.clearMaskOnLostFocus&&-1===p()&&ot.inputmask._valueGet&&ot.inputmask._valueGet()===x().join("")&&ot.inputmask._valueSet(""),r.removeMaskOnSubmit&&(ot.inputmask._valueSet(ot.inputmask.unmaskedvalue(),!0),setTimeout(function(){E(ot,k())},0))}function tt(){setTimeout(function(){st.trigger("setvalue")},0)}function it(t){if(ot=t,st=e(ot),r.showTooltip&&(ot.title=r.tooltip||d().mask),("rtl"===ot.dir||r.rightAlign)&&(ot.style.textAlign="right"),("rtl"===ot.dir||r.numericInput)&&(ot.dir="ltr",ot.removeAttribute("dir"),ot.inputmask.isRTL=!0,lt=!0),ft.off(ot),B(ot),n(ot,r)&&(ft.on(ot,"submit",et),ft.on(ot,"reset",tt),ft.on(ot,"mouseenter",Q),ft.on(ot,"blur",J),ft.on(ot,"focus",V),ft.on(ot,"mouseleave",G),ft.on(ot,"click",K),ft.on(ot,"dblclick",Z),ft.on(ot,"paste",U),ft.on(ot,"dragdrop",U),ft.on(ot,"drop",U),ft.on(ot,"cut",X),ft.on(ot,"complete",r.oncomplete),ft.on(ot,"incomplete",r.onincomplete),ft.on(ot,"cleared",r.oncleared),r.inputEventOnly!==!0&&(ft.on(ot,"keydown",W),ft.on(ot,"keypress",$)),ft.on(ot,"input",Y)),ft.on(ot,"setvalue",q),x(),""!==ot.inputmask._valueGet()||r.clearMaskOnLostFocus===!1||document.activeElement===ot){var i=e.isFunction(r.onBeforeMask)?r.onBeforeMask(ot.inputmask._valueGet(),r)||ot.inputmask._valueGet():ot.inputmask._valueGet();R(ot,!0,!1,i.split(""));var o=k().slice();nt=o.join(""),N(o)===!1&&r.clearIncomplete&&f(),r.clearMaskOnLostFocus&&document.activeElement!==ot&&(-1===p()?o=[]:z(o)),E(ot,o),document.activeElement===ot&&H(ot,P(p()))}}var nt,ot,st,rt,at,lt=!1,ct=!1,ut=!1,ht=!1,dt=!0,ft={on:function(i,n,o){var s=function(i){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var n=e.data(this,"_inputmask_opts");n?new t(n).mask(this):ft.off(this)}else{if("setvalue"===i.type||!(this.disabled||this.readOnly&&!("keydown"===i.type&&i.ctrlKey&&67===i.keyCode||r.tabThrough===!1&&i.keyCode===t.keyCode.TAB))){switch(i.type){case"input":if(ut===!0)return ut=!1,i.preventDefault();break;case"keydown":ct=!1,ut=!1;break;case"keypress":if(ct===!0)return i.preventDefault();ct=!0;break;case"click":if(u){var s=this;return setTimeout(function(){o.apply(s,arguments)},0),!1}}var a=o.apply(this,arguments);return a===!1&&(i.preventDefault(),i.stopPropagation()),a}i.preventDefault()}};i.inputmask.events[n]=i.inputmask.events[n]||[],i.inputmask.events[n].push(s),-1!==e.inArray(n,["submit","reset"])?null!=i.form&&e(i.form).on(n,s):e(i).on(n,s)},off:function(t,i){if(t.inputmask&&t.inputmask.events){var n;i?(n=[],n[i]=t.inputmask.events[i]):n=t.inputmask.events,e.each(n,function(i,n){for(;n.length>0;){var o=n.pop();-1!==e.inArray(i,["submit","reset"])?null!=t.form&&e(t.form).off(i,o):e(t).off(i,o)}delete t.inputmask.events[i]})}}};if(void 0!==o)switch(o.action){case"isComplete":return ot=o.el,N(k());case"unmaskedvalue":return ot=o.el,void 0!==ot&&void 0!==ot.inputmask?(s=ot.inputmask.maskset,r=ot.inputmask.opts,lt=ot.inputmask.isRTL):(at=o.value,r.numericInput&&(lt=!0),at=(e.isFunction(r.onBeforeMask)?r.onBeforeMask(at,r)||at:at).split(""),R(void 0,!1,!1,lt?at.reverse():at),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,k(),0,r)),O(ot);case"mask":ot=o.el,s=ot.inputmask.maskset,r=ot.inputmask.opts,lt=ot.inputmask.isRTL,it(ot);break;case"format":return r.numericInput&&(lt=!0),at=(e.isFunction(r.onBeforeMask)?r.onBeforeMask(o.value,r)||o.value:o.value).split(""),R(void 0,!1,!1,lt?at.reverse():at),e.isFunction(r.onBeforeWrite)&&r.onBeforeWrite(void 0,k(),0,r),o.metadata?{value:lt?k().slice().reverse().join(""):k().join(""),metadata:a({action:"getmetadata"},s,r)}:lt?k().slice().reverse().join(""):k().join("");case"isValid":r.numericInput&&(lt=!0),o.value?(at=o.value.split(""),R(void 0,!1,!0,lt?at.reverse():at)):o.value=k().join("");for(var pt=k(),mt=L(),gt=pt.length-1;gt>mt&&!I(gt);gt--);return pt.splice(mt,gt+1-mt),N(pt)&&o.value===k().join("");case"getemptymask":return x().join("");case"remove":ot=o.el,st=e(ot),s=ot.inputmask.maskset,r=ot.inputmask.opts,ot.inputmask._valueSet(O(ot)),ft.off(ot);var vt;Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(vt=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ot),"value"),vt&&ot.inputmask.__valueGet&&Object.defineProperty(ot,"value",{get:ot.inputmask.__valueGet,set:ot.inputmask.__valueSet,configurable:!0})):document.__lookupGetter__&&ot.__lookupGetter__("value")&&ot.inputmask.__valueGet&&(ot.__defineGetter__("value",ot.inputmask.__valueGet),ot.__defineSetter__("value",ot.inputmask.__valueSet)),ot.inputmask=void 0;break;case"getmetadata":if(e.isArray(s.metadata)){for(var bt,_t=p(void 0,!0),yt=_t;yt>=0;yt--)if(d().validPositions[yt]&&void 0!==d().validPositions[yt].alternation){bt=d().validPositions[yt].alternation;break}return void 0!==bt?s.metadata[d().validPositions[yt].locator[bt]]:[]}return s.metadata}}t.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,i){return e.isFunction(i.onBeforeMask)?i.onBeforeMask(t,i):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,positionCaretOnClick:"lvp",casing:null},masksCache:{},mask:function(i){var n=this;return"string"==typeof i&&(i=document.getElementById(i)||document.querySelectorAll(i)),i=i.nodeName?[i]:i,e.each(i,function(i,o){var l=e.extend(!0,{},n.opts);s(o,l,e.extend(!0,{},n.userOptions));var c=r(l,n.noMasksCache);void 0!==c&&(void 0!==o.inputmask&&o.inputmask.remove(),o.inputmask=new t,o.inputmask.opts=l,o.inputmask.noMasksCache=n.noMasksCache,o.inputmask.userOptions=e.extend(!0,{},n.userOptions),o.inputmask.el=o,o.inputmask.maskset=c,o.inputmask.isRTL=!1,e.data(o,"_inputmask_opts",l),a({action:"mask",el:o}))}),i&&i[0]?i[0].inputmask||this:this},option:function(t,i){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&i!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return a({action:"unmaskedvalue",el:this.el,value:e},this.el&&this.el.inputmask?this.el.inputmask.maskset:r(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(a({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return a({action:"getemptymask"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return a({action:"isComplete",el:this.el},this.maskset||r(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return a({action:"getmetadata"},this.maskset||r(this.opts,this.noMasksCache),this.opts)},isValid:function(e){return a({action:"isValid",value:e},this.maskset||r(this.opts,this.noMasksCache),this.opts)},format:function(e,t){return a({action:"format",value:e,metadata:t},this.maskset||r(this.opts,this.noMasksCache),this.opts)}},t.extendDefaults=function(i){e.extend(!0,t.prototype.defaults,i)},t.extendDefinitions=function(i){e.extend(!0,t.prototype.defaults.definitions,i)},t.extendAliases=function(i){e.extend(!0,t.prototype.defaults.aliases,i)},t.format=function(e,i,n){return t(i).format(e,n)},t.unmask=function(e,i){return t(i).unmaskedvalue(e)},t.isValid=function(e,i){return t(i).isValid(e)},t.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88};var l=navigator.userAgent,c=/mobile/i.test(l),u=/iemobile/i.test(l),h=/iphone/i.test(l)&&!u;return window.Inputmask=t,t}(jQuery),function(e,t){return void 0===e.fn.inputmask&&(e.fn.inputmask=function(i,n){var o,s=this[0];if(void 0===n&&(n={}),"string"==typeof i)switch(i){case"unmaskedvalue":return s&&s.inputmask?s.inputmask.unmaskedvalue():e(s).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return s&&s.inputmask?s.inputmask.getemptymask():"";case"hasMaskedValue":return!(!s||!s.inputmask)&&s.inputmask.hasMaskedValue();case"isComplete":return!s||!s.inputmask||s.inputmask.isComplete();case"getmetadata":return s&&s.inputmask?s.inputmask.getmetadata():void 0;case"setvalue":e(s).val(n),s&&void 0===s.inputmask&&e(s).triggerHandler("setvalue");break;case"option":if("string"!=typeof n)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(n):void 0});if(s&&void 0!==s.inputmask)return s.inputmask.option(n);break;default:return n.alias=i,o=new t(n),this.each(function(){o.mask(this)})}else{if("object"==typeof i)return o=new t(i),this.each(void 0===i.mask&&void 0===i.alias?function(){return void 0!==this.inputmask?this.inputmask.option(i):void o.mask(this)}:function(){o.mask(this)});if(void 0===i)return this.each(function(){o=new t(n),o.mask(this)})}}),e.fn.inputmask}(jQuery,Inputmask),function(e,t){return t.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),t.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(e){var i=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+i+"[01])")},val2:function(e){var i=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|[12][0-9])"+i+"(0[1-9]|1[012]))|(30"+i+"(0[13-9]|1[012]))|(31"+i+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(e,t,i){if(isNaN(e))return!1;var n=parseInt(e.concat(t.toString().slice(e.length))),o=parseInt(e.concat(i.toString().slice(e.length)));return!isNaN(n)&&n>=t&&i>=n||!isNaN(o)&&o>=t&&i>=o},determinebaseyear:function(e,t,i){var n=(new Date).getFullYear();if(e>n)return e;if(n>t){for(var o=t.toString().slice(0,2),s=t.toString().slice(2,4);o+i>t;)o--;var r=o+s;return e>r?e:r}if(n>=e&&t>=n){for(var a=n.toString().slice(0,2);a+i>t;)a--;var l=a+i;return e>l?e:l}return n},onKeyDown:function(i){var n=e(this);if(i.ctrlKey&&i.keyCode===t.keyCode.RIGHT){var o=new Date;n.val(o.getDate().toString()+(o.getMonth()+1).toString()+o.getFullYear().toString()),n.trigger("setvalue")}},getFrontValue:function(e,t,i){for(var n=0,o=0,s=0;s<e.length&&"2"!==e.charAt(s);s++){var r=i.definitions[e.charAt(s)];r?(n+=o,o=r.cardinality):o++}return t.join("").substr(n,o)},definitions:{1:{validator:function(e,t,i,n,o){var s=o.regex.val1.test(e);return n||s||e.charAt(1)!==o.separator&&-1==="-./".indexOf(e.charAt(1))||!(s=o.regex.val1.test("0"+e.charAt(0)))?s:(t.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:e.charAt(0)})},cardinality:2,prevalidator:[{validator:function(e,t,i,n,o){var s=e;isNaN(t.buffer[i+1])||(s+=t.buffer[i+1]);var r=1===s.length?o.regex.val1pre.test(s):o.regex.val1.test(s);if(!n&&!r){if(r=o.regex.val1.test(e+"0"))return t.buffer[i]=e,t.buffer[++i]="0",{pos:i,c:"0"};if(r=o.regex.val1.test("0"+e))return t.buffer[i]="0",i++,{pos:i}}return r},cardinality:1}]},2:{validator:function(e,t,i,n,o){var s=o.getFrontValue(t.mask,t.buffer,o);-1!==s.indexOf(o.placeholder[0])&&(s="01"+o.separator);var r=o.regex.val2(o.separator).test(s+e);if(!n&&!r&&(e.charAt(1)===o.separator||-1!=="-./".indexOf(e.charAt(1)))&&(r=o.regex.val2(o.separator).test(s+"0"+e.charAt(0))))return t.buffer[i-1]="0",{refreshFromBuffer:{start:i-1,end:i},pos:i,c:e.charAt(0)};if(o.mask.indexOf("2")===o.mask.length-1&&r){var a=t.buffer.join("").substr(4,4)+e;if(a!==o.leapday)return!0;var l=parseInt(t.buffer.join("").substr(0,4),10);return l%4===0&&(l%100!==0||l%400===0)}return r},cardinality:2,prevalidator:[{validator:function(e,t,i,n,o){isNaN(t.buffer[i+1])||(e+=t.buffer[i+1]);var s=o.getFrontValue(t.mask,t.buffer,o);-1!==s.indexOf(o.placeholder[0])&&(s="01"+o.separator);var r=1===e.length?o.regex.val2pre(o.separator).test(s+e):o.regex.val2(o.separator).test(s+e);return n||r||!(r=o.regex.val2(o.separator).test(s+"0"+e))?r:(t.buffer[i]="0",i++,{pos:i})},cardinality:1}]},y:{validator:function(e,t,i,n,o){if(o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)){var s=t.buffer.join("").substr(0,6);if(s!==o.leapday)return!0;var r=parseInt(e,10);return r%4===0&&(r%100!==0||r%400===0)}return!1},cardinality:4,prevalidator:[{validator:function(e,t,i,n,o){var s=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!n&&!s){var r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,1);if(s=o.isInYearRange(r+e,o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[i++]=r.charAt(0),{pos:i};if(r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e+"0").toString().slice(0,2),s=o.isInYearRange(r+e,o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[i++]=r.charAt(0),t.buffer[i++]=r.charAt(1),{pos:i}}return s},cardinality:1},{validator:function(e,t,i,n,o){var s=o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear);if(!n&&!s){var r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2);if(s=o.isInYearRange(e[0]+r[1]+e[1],o.yearrange.minyear,o.yearrange.maxyear))return t.buffer[i++]=r.charAt(1),{pos:i};if(r=o.determinebaseyear(o.yearrange.minyear,o.yearrange.maxyear,e).toString().slice(0,2),o.isInYearRange(r+e,o.yearrange.minyear,o.yearrange.maxyear)){var a=t.buffer.join("").substr(0,6);if(a!==o.leapday)s=!0;else{var l=parseInt(e,10);s=l%4===0&&(l%100!==0||l%400===0)}}else s=!1;if(s)return t.buffer[i-1]=r.charAt(0),t.buffer[i++]=r.charAt(1),t.buffer[i++]=e.charAt(0),{refreshFromBuffer:{start:i-3,end:i},pos:i}}return s},cardinality:2},{validator:function(e,t,i,n,o){return o.isInYearRange(e,o.yearrange.minyear,o.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(e){var i=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(e){var i=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(i){var n=e(this);if(i.ctrlKey&&i.keyCode===t.keyCode.RIGHT){var o=new Date;n.val((o.getMonth()+1).toString()+o.getDate().toString()+o.getFullYear().toString()),n.trigger("setvalue")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(i){var n=e(this);if(i.ctrlKey&&i.keyCode===t.keyCode.RIGHT){var o=new Date;n.val(o.getFullYear().toString()+(o.getMonth()+1).toString()+o.getDate().toString()),n.trigger("setvalue")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(e,t,i,n,o){if("24"===o.hourFormat&&24===parseInt(e,10))return t.buffer[i-1]="0",t.buffer[i]="0",{refreshFromBuffer:{start:i-1,end:i},c:"0"};var s=o.regex.hrs.test(e);if(!n&&!s&&(e.charAt(1)===o.timeseparator||-1!=="-.:".indexOf(e.charAt(1)))&&(s=o.regex.hrs.test("0"+e.charAt(0))))return t.buffer[i-1]="0",t.buffer[i]=e.charAt(0),i++,{refreshFromBuffer:{start:i-2,end:i},pos:i,c:o.timeseparator};if(s&&"24"!==o.hourFormat&&o.regex.hrs24.test(e)){var r=parseInt(e,10);return 24===r?(t.buffer[i+5]="a",t.buffer[i+6]="m"):(t.buffer[i+5]="p",t.buffer[i+6]="m"),r-=12,10>r?(t.buffer[i]=r.toString(),t.buffer[i-1]="0"):(t.buffer[i]=r.toString().charAt(1),t.buffer[i-1]=r.toString().charAt(0)),{refreshFromBuffer:{start:i-1,end:i+6},c:t.buffer[i]}}return s},cardinality:2,prevalidator:[{validator:function(e,t,i,n,o){var s=o.regex.hrspre.test(e);return n||s||!(s=o.regex.hrs.test("0"+e))?s:(t.buffer[i]="0",i++,{pos:i})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(e,t,i,n,o){var s=o.regex.mspre.test(e);return n||s||!(s=o.regex.ms.test("0"+e))?s:(t.buffer[i]="0",i++,{pos:i})},cardinality:1}]},t:{validator:function(e,t,i,n,o){return o.regex.ampm.test(e+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(e){var i=t.escapeRegex.call(this,e);return new RegExp("((0[13-9]|1[012])"+i+"[0-3])|(02"+i+"[0-2])")},val2:function(e){var i=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+i+"30)|((0[13578]|1[02])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(i){var n=e(this);if(i.ctrlKey&&i.keyCode===t.keyCode.RIGHT){var o=new Date;n.val((o.getMonth()+1).toString()+o.getDate().toString()+o.getFullYear().toString()),n.trigger("setvalue")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(e){var i=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+i+"[0-3])")},val2:function(e){var i=t.escapeRegex.call(this,e);return new RegExp("((0[1-9]|1[012])"+i+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+i+"30)|((0[1-6])"+i+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}}),t
}(jQuery,Inputmask),function(e,t){return t.extendDefinitions({A:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),t.extendAliases({url:{definitions:{i:{validator:".",cardinality:1}},mask:"(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(e,t,i){return i-1>-1&&"."!==t.buffer[i-1]?(e=t.buffer[i-1]+e,e=i-2>-1&&"."!==t.buffer[i-2]?t.buffer[i-2]+e:"0"+e):e="00"+e,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)},cardinality:1}},onUnMask:function(e){return e}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,onBeforePaste:function(e){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"},"-":{validator:"[0-9A-Za-z-]",cardinality:1,casing:"lower"}},onUnMask:function(e){return e}},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",cardinality:1,casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),t}(jQuery,Inputmask),function(e,t){return t.extendAliases({numeric:{mask:function(e){function i(t){for(var i="",n=0;n<t.length;n++)i+=e.definitions[t.charAt(n)]||e.optionalmarker.start===t.charAt(n)||e.optionalmarker.end===t.charAt(n)||e.quantifiermarker.start===t.charAt(n)||e.quantifiermarker.end===t.charAt(n)||e.groupmarker.start===t.charAt(n)||e.groupmarker.end===t.charAt(n)||e.alternatormarker===t.charAt(n)?"\\"+t.charAt(n):t.charAt(n);return i}if(0!==e.repeat&&isNaN(e.integerDigits)&&(e.integerDigits=e.repeat),e.repeat=0,e.groupSeparator===e.radixPoint&&(e.groupSeparator="."===e.radixPoint?",":","===e.radixPoint?".":"")," "===e.groupSeparator&&(e.skipOptionalPartCharacter=void 0),e.autoGroup=e.autoGroup&&""!==e.groupSeparator,e.autoGroup&&("string"==typeof e.groupSize&&isFinite(e.groupSize)&&(e.groupSize=parseInt(e.groupSize)),isFinite(e.integerDigits))){var n=Math.floor(e.integerDigits/e.groupSize),o=e.integerDigits%e.groupSize;e.integerDigits=parseInt(e.integerDigits)+(0===o?n-1:n),e.integerDigits<1&&(e.integerDigits="*")}e.placeholder.length>1&&(e.placeholder=e.placeholder.charAt(0)),"radixFocus"===e.positionCaretOnClick&&""===e.placeholder&&e.integerOptional===!1&&(e.positionCaretOnClick="lvp"),e.definitions[";"]=e.definitions["~"],e.definitions[";"].definitionSymbol="~",e.numericInput===!0&&(e.positionCaretOnClick="radixFocus"===e.positionCaretOnClick?"lvp":e.positionCaretOnClick,e.digitsOptional=!1,isNaN(e.digits)&&(e.digits=2),e.decimalProtect=!1);var s=i(e.prefix);if(s+="[+]",s+=e.integerOptional===!0?"~{1,"+e.integerDigits+"}":"~{"+e.integerDigits+"}",void 0!==e.digits){e.decimalProtect&&(e.radixPointDefinitionSymbol=":");var r=e.digits.toString().split(",");isFinite(r[0]&&r[1]&&isFinite(r[1]))?s+=(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}":(isNaN(e.digits)||parseInt(e.digits)>0)&&(s+=e.digitsOptional?"["+(e.decimalProtect?":":e.radixPoint)+";{1,"+e.digits+"}]":(e.decimalProtect?":":e.radixPoint)+";{"+e.digits+"}")}return s+="[-]",s+=i(e.suffix),e.greedy=!1,null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,"."))),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,"."))),s},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(i,n,o){o.numericInput===!0&&(i=i.reverse(),isFinite(n)&&(n=i.join("").length-n-1));var s,r;n=n>=i.length?i.length-1:n<o.prefix.length?o.prefix.length:n;var a=i[n],l=i.slice();a===o.groupSeparator&&(l.splice(n--,1),a=l[n]),l[n]="!";var c=l.join(""),u=c;if(c=c.replace(new RegExp(t.escapeRegex(o.suffix)+"$"),""),c=c.replace(new RegExp("^"+t.escapeRegex(o.prefix)),""),c.length>0&&o.autoGroup||-1!==c.indexOf(o.groupSeparator)){var h=t.escapeRegex(o.groupSeparator);c=c.replace(new RegExp(h,"g"),"");var d=c.split(a===o.radixPoint?"!":o.radixPoint);if(c=""===o.radixPoint?c:d[0],a!==o.negationSymbol.front&&(c=c.replace("!","?")),c.length>o.groupSize)for(var f=new RegExp("([-+]?[\\d?]+)([\\d?]{"+o.groupSize+"})");f.test(c)&&""!==o.groupSeparator;)c=c.replace(f,"$1"+o.groupSeparator+"$2"),c=c.replace(o.groupSeparator+o.groupSeparator,o.groupSeparator);c=c.replace("?","!"),""!==o.radixPoint&&d.length>1&&(c+=(a===o.radixPoint?"!":o.radixPoint)+d[1])}c=o.prefix+c+o.suffix;var p=u!==c;if(p)for(i.length=c.length,s=0,r=c.length;r>s;s++)i[s]=c.charAt(s);var m=e.inArray("!",c);return i[m]=a,m=o.numericInput&&isFinite(n)?i.join("").length-m-1:m,o.numericInput&&(i=i.reverse(),e.inArray(o.radixPoint,i)<m&&i.join("").length-o.suffix.length!==m&&(m-=1)),{pos:m,refreshFromBuffer:p,buffer:i}},onBeforeWrite:function(i,n,o,s){var r;if(i&&("blur"===i.type||"checkval"===i.type||"keydown"===i.type)){var a=s.numericInput?n.slice().reverse().join(""):n.join(""),l=a.replace(s.prefix,"");l=l.replace(s.suffix,""),l=l.replace(new RegExp(t.escapeRegex(s.groupSeparator),"g"),""),","===s.radixPoint&&(l=l.replace(s.radixPoint,"."));var c=l.match(new RegExp("[-"+t.escapeRegex(s.negationSymbol.front)+"]","g"));if(c=null!==c&&1===c.length,l=l.replace(new RegExp("[-"+t.escapeRegex(s.negationSymbol.front)+"]","g"),""),l=l.replace(new RegExp(t.escapeRegex(s.negationSymbol.back)+"$"),""),isNaN(s.placeholder)&&(l=l.replace(new RegExp(t.escapeRegex(s.placeholder),"g"),"")),l=l===s.negationSymbol.front?l+"0":l,""!==l&&isFinite(l)){var u=parseFloat(l),h=c?-1*u:u;if(null!==s.min&&isFinite(s.min)&&h<parseFloat(s.min)?(u=Math.abs(s.min),c=s.min<0,a=void 0):null!==s.max&&isFinite(s.max)&&h>parseFloat(s.max)&&(u=Math.abs(s.max),c=s.max<0,a=void 0),l=u.toString().replace(".",s.radixPoint).split(""),isFinite(s.digits)){var d=e.inArray(s.radixPoint,l),f=e.inArray(s.radixPoint,a);-1===d&&(l.push(s.radixPoint),d=l.length-1);for(var p=1;p<=s.digits;p++)s.digitsOptional||void 0!==l[d+p]&&l[d+p]!==s.placeholder.charAt(0)?-1!==f&&void 0!==a[f+p]&&(l[d+p]=l[d+p]||a[f+p]):l[d+p]="0";l[l.length-1]===s.radixPoint&&delete l[l.length-1]}if(u.toString()!==l&&u.toString()+"."!==l||c)return!c||0===u&&"blur"===i.type||(l.unshift(s.negationSymbol.front),l.push(s.negationSymbol.back)),l=(s.prefix+l.join("")).split(""),s.numericInput&&(l=l.reverse()),r=s.postFormat(l,s.numericInput?o:o-1,s),r.buffer&&(r.refreshFromBuffer=r.buffer.join("")!==n.join("")),r}}return s.autoGroup?(r=s.postFormat(n,s.numericInput?o:o-1,s),r.caret=o<=s.prefix.length?r.pos:r.pos+1,r):void 0},regex:{integerPart:function(e){return new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},signHandler:function(e,t,i,n,o){if(!n&&o.allowMinus&&"-"===e||o.allowPlus&&"+"===e){var s=t.buffer.join("").match(o.regex.integerPart(o));if(s&&s[0].length>0)return t.buffer[s.index]===("-"===e?"+":o.negationSymbol.front)?"-"===e?""!==o.negationSymbol.back?{pos:s.index,c:o.negationSymbol.front,remove:s.index,caret:i,insert:{pos:t.buffer.length-o.suffix.length-1,c:o.negationSymbol.back}}:{pos:s.index,c:o.negationSymbol.front,remove:s.index,caret:i}:""!==o.negationSymbol.back?{pos:s.index,c:"+",remove:[s.index,t.buffer.length-o.suffix.length-1],caret:i}:{pos:s.index,c:"+",remove:s.index,caret:i}:t.buffer[s.index]===("-"===e?o.negationSymbol.front:"+")?"-"===e&&""!==o.negationSymbol.back?{remove:[s.index,t.buffer.length-o.suffix.length-1],caret:i-1}:{remove:s.index,caret:i-1}:"-"===e?""!==o.negationSymbol.back?{pos:s.index,c:o.negationSymbol.front,caret:i+1,insert:{pos:t.buffer.length-o.suffix.length,c:o.negationSymbol.back}}:{pos:s.index,c:o.negationSymbol.front,caret:i+1}:{pos:s.index,c:e,caret:i+1}}return!1},radixHandler:function(t,i,n,o,s){if(!o&&s.numericInput!==!0&&t===s.radixPoint&&void 0!==s.digits&&(isNaN(s.digits)||parseInt(s.digits)>0)){var r=e.inArray(s.radixPoint,i.buffer),a=i.buffer.join("").match(s.regex.integerPart(s));if(-1!==r&&i.validPositions[r])return i.validPositions[r-1]?{caret:r+1}:{pos:a.index,c:a[0],caret:r+1};if(!a||"0"===a[0]&&a.index+1!==n)return i.buffer[a?a.index:n]="0",{pos:(a?a.index:n)+1,c:s.radixPoint}}return!1},leadingZeroHandler:function(t,i,n,o,s,r){if(!o){var a=i.buffer.slice("");if(a.splice(0,s.prefix.length),a.splice(a.length-s.suffix.length,s.suffix.length),s.numericInput===!0){var a=a.reverse(),l=a[0];if("0"===l&&void 0===i.validPositions[n-1])return{pos:n,remove:a.length-1}}else{n-=s.prefix.length;var c=e.inArray(s.radixPoint,a),u=a.slice(0,-1!==c?c:void 0).join("").match(s.regex.integerNPart(s));if(u&&(-1===c||c>=n)){var h=-1===c?0:parseInt(a.slice(c+1).join(""));if(0===u[0].indexOf(""!==s.placeholder?s.placeholder.charAt(0):"0")&&(u.index+1===n||r!==!0&&0===h))return i.buffer.splice(u.index+s.prefix.length,1),{pos:u.index+s.prefix.length,remove:u.index+s.prefix.length};if("0"===t&&n<=u.index&&u[0]!==s.groupSeparator)return!1}}}return!0},definitions:{"~":{validator:function(i,n,o,s,r,a){var l=r.signHandler(i,n,o,s,r);if(!l&&(l=r.radixHandler(i,n,o,s,r),!l&&(l=s?new RegExp("[0-9"+t.escapeRegex(r.groupSeparator)+"]").test(i):new RegExp("[0-9]").test(i),l===!0&&(l=r.leadingZeroHandler(i,n,o,s,r,a),l===!0)))){var c=e.inArray(r.radixPoint,n.buffer);l=-1!==c&&(r.digitsOptional===!1||n.validPositions[o])&&r.numericInput!==!0&&o>c&&!s?{pos:o,remove:o}:{pos:o}}return l},cardinality:1},"+":{validator:function(e,t,i,n,o){var s=o.signHandler(e,t,i,n,o);return!s&&(n&&o.allowMinus&&e===o.negationSymbol.front||o.allowMinus&&"-"===e||o.allowPlus&&"+"===e)&&(s=!(!n&&"-"===e)||(""!==o.negationSymbol.back?{pos:i,c:"-"===e?o.negationSymbol.front:"+",caret:i+1,insert:{pos:t.buffer.length,c:o.negationSymbol.back}}:{pos:i,c:"-"===e?o.negationSymbol.front:"+",caret:i+1})),s},cardinality:1,placeholder:""},"-":{validator:function(e,t,i,n,o){var s=o.signHandler(e,t,i,n,o);return!s&&n&&o.allowMinus&&e===o.negationSymbol.back&&(s=!0),s},cardinality:1,placeholder:""},":":{validator:function(e,i,n,o,s){var r=s.signHandler(e,i,n,o,s);if(!r){var a="["+t.escapeRegex(s.radixPoint)+"]";r=new RegExp(a).test(e),r&&i.validPositions[n]&&i.validPositions[n].match.placeholder===s.radixPoint&&(r={caret:n+1})}return r?{c:s.radixPoint}:r},cardinality:1,placeholder:function(e){return e.radixPoint}}},onUnMask:function(e,i,n){if(""===i&&n.nullable===!0)return i;var o=e.replace(n.prefix,"");return o=o.replace(n.suffix,""),o=o.replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),""),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==o.indexOf(n.radixPoint)&&(o=o.replace(t.escapeRegex.call(this,n.radixPoint),".")),Number(o)):o},isComplete:function(e,i){var n=e.join(""),o=e.slice();if(i.postFormat(o,0,i),o.join("")!==n)return!1;var s=n.replace(i.prefix,"");return s=s.replace(i.suffix,""),s=s.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),""),","===i.radixPoint&&(s=s.replace(t.escapeRegex(i.radixPoint),".")),isFinite(s)},onBeforeMask:function(e,i){if(i.numericInput===!0&&(e=e.split("").reverse().join("")),""!==i.radixPoint&&isFinite(e))e=e.toString().replace(".",i.radixPoint);else{var n=e.match(/,/g),o=e.match(/\./g);o&&n?o.length>n.length?(e=e.replace(/\./g,""),e=e.replace(",",i.radixPoint)):n.length>o.length?(e=e.replace(/,/g,""),e=e.replace(".",i.radixPoint)):e=e.indexOf(".")<e.indexOf(",")?e.replace(/\./g,""):e=e.replace(/,/g,""):e=e.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"),"")}if(0===i.digits&&(-1!==e.indexOf(".")?e=e.substring(0,e.indexOf(".")):-1!==e.indexOf(",")&&(e=e.substring(0,e.indexOf(",")))),""!==i.radixPoint&&isFinite(i.digits)&&-1!==e.indexOf(i.radixPoint)){var s=e.split(i.radixPoint),r=s[1].match(new RegExp("\\d*"))[0];if(parseInt(i.digits)<r.toString().length){var a=Math.pow(10,parseInt(i.digits));e=e.replace(t.escapeRegex(i.radixPoint),"."),e=Math.round(parseFloat(e)*a)/a,e=e.toString().replace(".",i.radixPoint)}}return i.numericInput===!0&&(e=e.split("").reverse().join("")),e.toString()},canClearPosition:function(e,t,i,n,o){var s=e.validPositions[t].input,r=s!==o.radixPoint||null!==e.validPositions[t].match.fn&&o.decimalProtect===!1||isFinite(s)||t===i||s===o.groupSeparator||s===o.negationSymbol.front||s===o.negationSymbol.back;return r},onKeyDown:function(i,n,o,s){var r=e(this);if(i.ctrlKey)switch(i.keyCode){case t.keyCode.UP:r.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(s.step)),r.trigger("setvalue");break;case t.keyCode.DOWN:r.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(s.step)),r.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),t}(jQuery,Inputmask),function(e,t){return t.extendAliases({abstractphone:{countrycode:"",phoneCodes:[],mask:function(e){e.definitions={"#":e.definitions[9]};var t=e.phoneCodes.sort(function(e,t){var i=(e.mask||e).replace(/#/g,"9").replace(/[\+\(\)#-]/g,""),n=(t.mask||t).replace(/#/g,"9").replace(/[\+\(\)#-]/g,""),o=(e.mask||e).split("#")[0],s=(t.mask||t).split("#")[0];return 0===s.indexOf(o)?-1:0===o.indexOf(s)?1:i.localeCompare(n)});return t},keepStatic:!0,onBeforeMask:function(e,t){var i=e.replace(/^0{1,2}/,"").replace(/[\s]/g,"");return(i.indexOf(t.countrycode)>1||-1===i.indexOf(t.countrycode))&&(i="+"+t.countrycode+i),i},onUnMask:function(e,t){return t}}}),t}(jQuery,Inputmask),function(e,t){return t.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(e,t){return new RegExp(t.regex).test(e.join(""))},definitions:{r:{validator:function(t,i,n,o,s){function r(e,t){this.matches=[],this.isGroup=e||!1,this.isQuantifier=t||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function a(){var e,t,i=new r,n=[];for(s.regexTokens=[];e=s.tokenizer.exec(s.regex);)switch(t=e[0],t.charAt(0)){case"(":n.push(new r(!0));break;case")":u=n.pop(),n.length>0?n[n.length-1].matches.push(u):i.matches.push(u);break;case"{":case"+":case"*":var o=new r(!1,!0);t=t.replace(/[{}]/g,"");var a=t.split(","),l=isNaN(a[0])?a[0]:parseInt(a[0]),c=1===a.length?l:isNaN(a[1])?a[1]:parseInt(a[1]);if(o.quantifier={min:l,max:c},n.length>0){var h=n[n.length-1].matches;e=h.pop(),e.isGroup||(u=new r(!0),u.matches.push(e),e=u),h.push(e),h.push(o)}else e=i.matches.pop(),e.isGroup||(u=new r(!0),u.matches.push(e),e=u),i.matches.push(e),i.matches.push(o);break;default:n.length>0?n[n.length-1].matches.push(t):i.matches.push(t)}i.matches.length>0&&s.regexTokens.push(i)}function l(t,i){var n=!1;i&&(d+="(",p++);for(var o=0;o<t.matches.length;o++){var s=t.matches[o];if(s.isGroup===!0)n=l(s,!0);else if(s.isQuantifier===!0){var r=e.inArray(s,t.matches),a=t.matches[r-1],u=d;if(isNaN(s.quantifier.max)){for(;s.repeaterPart&&s.repeaterPart!==d&&s.repeaterPart.length>d.length&&!(n=l(a,!0)););n=n||l(a,!0),n&&(s.repeaterPart=d),d=u+s.quantifier.max}else{for(var h=0,f=s.quantifier.max-1;f>h&&!(n=l(a,!0));h++);d=u+"{"+s.quantifier.min+","+s.quantifier.max+"}"}}else if(void 0!==s.matches)for(var m=0;m<s.length&&!(n=l(s[m],i));m++);else{var g;if("["==s.charAt(0)){g=d,g+=s;for(var v=0;p>v;v++)g+=")";var b=new RegExp("^("+g+")$");n=b.test(c)}else for(var _=0,y=s.length;y>_;_++)if("\\"!==s.charAt(_)){g=d,g+=s.substr(0,_+1),g=g.replace(/\|$/,"");for(var v=0;p>v;v++)g+=")";var b=new RegExp("^("+g+")$");if(n=b.test(c))break}d+=s}if(n)break}return i&&(d+=")",p--),n}var c,u,h=i.buffer.slice(),d="",f=!1,p=0;null===s.regexTokens&&a(),h.splice(n,0,t),c=h.join("");for(var m=0;m<s.regexTokens.length;m++){var g=s.regexTokens[m];if(f=l(g,g.isGroup))break}return f},cardinality:1}}}}),t}(jQuery,Inputmask),!function(e,t){"use strict";"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("jquery")):e.jQueryBridget=t(e,e.jQuery)}(window,function(e,t){"use strict";function i(i,s,a){function l(e,t,n){var o,s="$()."+i+'("'+t+'")';return e.each(function(e,l){var c=a.data(l,i);if(!c)return void r(i+" not initialized. Cannot call methods, i.e. "+s);var u=c[t];if(!u||"_"==t.charAt(0))return void r(s+" is not a valid method");var h=u.apply(c,n);o=void 0===o?h:o}),void 0!==o?o:e}function c(e,t){e.each(function(e,n){var o=a.data(n,i);o?(o.option(t),o._init()):(o=new s(n,t),a.data(n,i,o))})}a=a||t||e.jQuery,a&&(s.prototype.option||(s.prototype.option=function(e){a.isPlainObject(e)&&(this.options=a.extend(!0,this.options,e))}),a.fn[i]=function(e){if("string"==typeof e){var t=o.call(arguments,1);return l(this,e,t)}return c(this,e),this},n(a))}function n(e){!e||e&&e.bridget||(e.bridget=i)}var o=Array.prototype.slice,s=e.console,r="undefined"==typeof s?function(){}:function(e){s.error(e)};return n(t||e.jQuery),i}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{},n=i[e]=i[e]||{};return n[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return-1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=0,o=i[n];t=t||[];for(var s=this._onceEvents&&this._onceEvents[e];o;){var r=s&&s[o];r&&(this.off(e,o),delete s[o]),o.apply(this,t),n+=r?0:1,o=i[n]}return this}},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return t()}):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,function(){"use strict";function e(e){var t=parseFloat(e),i=-1==e.indexOf("%")&&!isNaN(t);return i&&t}function t(){}function i(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;c>t;t++){var i=l[t];e[i]=0}return e}function n(e){var t=getComputedStyle(e);return t||a("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t}function o(){if(!u){u=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(t);var o=n(t);s.isBoxSizeOuter=r=200==e(o.width),i.removeChild(t)}}function s(t){if(o(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var s=n(t);if("none"==s.display)return i();var a={};a.width=t.offsetWidth,a.height=t.offsetHeight;for(var u=a.isBorderBox="border-box"==s.boxSizing,h=0;c>h;h++){var d=l[h],f=s[d],p=parseFloat(f);a[d]=isNaN(p)?0:p}var m=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,v=a.marginLeft+a.marginRight,b=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,y=a.borderTopWidth+a.borderBottomWidth,w=u&&r,x=e(s.width);x!==!1&&(a.width=x+(w?0:m+_));var k=e(s.height);return k!==!1&&(a.height=k+(w?0:g+y)),a.innerWidth=a.width-(m+_),a.innerHeight=a.height-(g+y),a.outerWidth=a.width+v,a.outerHeight=a.height+b,a}}var r,a="undefined"==typeof console?t:function(e){console.error(e)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],c=l.length,u=!1;return s}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,function(){"use strict";var e=function(){var e=Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var n=t[i],o=n+"MatchesSelector";if(e[o])return o}}();return function(t,i){return t[e](i)}}),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.matchesSelector)}(window,function(e,t){var i={};i.extend=function(e,t){for(var i in t)e[i]=t[i];return e},i.modulo=function(e,t){return(e%t+t)%t},i.makeArray=function(e){var t=[];if(Array.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e);return t},i.removeFrom=function(e,t){var i=e.indexOf(t);-1!=i&&e.splice(i,1)},i.getParent=function(e,i){for(;e!=document.body;)if(e=e.parentNode,t(e,i))return e},i.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.filterFindElements=function(e,n){e=i.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement){if(!n)return void o.push(e);t(e,n)&&o.push(e);for(var i=e.querySelectorAll(n),s=0;s<i.length;s++)o.push(i[s])}}),o},i.debounceMethod=function(e,t,i){var n=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];e&&clearTimeout(e);var t=arguments,s=this;this[o]=setTimeout(function(){n.apply(s,t),delete s[o]},i||100)}},i.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?e():document.addEventListener("DOMContentLoaded",e)},i.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var n=e.console;return i.htmlInit=function(t,o){i.docReady(function(){var s=i.toDashed(o),r="data-"+s,a=document.querySelectorAll("["+r+"]"),l=document.querySelectorAll(".js-"+s),c=i.makeArray(a).concat(i.makeArray(l)),u=r+"-options",h=e.jQuery;c.forEach(function(e){var i,s=e.getAttribute(r)||e.getAttribute(u);try{i=s&&JSON.parse(s)}catch(a){return void(n&&n.error("Error parsing "+r+" on "+e.className+": "+a))}var l=new t(e,i);h&&h.data(e,o,l)})})},i}),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("get-size")):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize))}(window,function(e,t){"use strict";function i(e){for(var t in e)return!1;return t=null,!0}function n(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}function o(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var s=document.documentElement.style,r="string"==typeof s.transition?"transition":"WebkitTransition",a="string"==typeof s.transform?"transform":"WebkitTransform",l={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],c={transform:a,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},u=n.prototype=Object.create(e.prototype);u.constructor=n,u._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},u.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},u.getSize=function(){this.size=t(this.element)},u.css=function(e){var t=this.element.style;for(var i in e){var n=c[i]||i;t[n]=e[i]}},u.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=e[t?"left":"right"],o=e[i?"top":"bottom"],s=this.layout.size,r=-1!=n.indexOf("%")?parseFloat(n)/100*s.width:parseInt(n,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*s.height:parseInt(o,10);r=isNaN(r)?0:r,a=isNaN(a)?0:a,r-=t?s.paddingLeft:s.paddingRight,a-=i?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=a},u.layoutPosition=function(){var e=this.layout.size,t={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",s=i?"left":"right",r=i?"right":"left",a=this.position.x+e[o];t[s]=this.getXValue(a),t[r]="";var l=n?"paddingTop":"paddingBottom",c=n?"top":"bottom",u=n?"bottom":"top",h=this.position.y+e[l];t[c]=this.getYValue(h),t[u]="",this.css(t),this.emitEvent("layout",[this])},u.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},u.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},u._transitionTo=function(e,t){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(e,10),s=parseInt(t,10),r=o===this.position.x&&s===this.position.y;if(this.setPosition(e,t),r&&!this.isTransitioning)return void this.layoutPosition();var a=e-i,l=t-n,c={};c.transform=this.getTranslate(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},u.getTranslate=function(e,t){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return e=i?e:-e,t=n?t:-t,"translate3d("+e+"px, "+t+"px, 0)"},u.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},u.moveTo=u._transitionTo,u.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},u._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},u.transition=function(e){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(e);var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);if(e.from){this.css(e.from);var n=this.element.offsetHeight;n=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var h="opacity,"+o(a);u.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:h,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(l,this,!1)}},u.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},u.onotransitionend=function(e){this.ontransitionend(e)};var d={"-webkit-transform":"transform"};u.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=d[e.propertyName]||e.propertyName;if(delete t.ingProperties[n],i(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd){var o=t.onEnd[n];o.call(this),delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])}},u.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(l,this,!1),this.isTransitioning=!1},u._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var f={transitionProperty:"",transitionDuration:"",transitionDelay:""};return u.removeTransitionStyles=function(){this.css(f)},u.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},u.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},u.remove=function(){return r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},u.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("visibleStyle");t[i]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},u.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},u.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var i in t)return i},u.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");t[i]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},u.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},u.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,s){return t(e,i,n,o,s)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,function(e,t,i,n,o){"use strict";function s(e,t){var i=n.getQueryElement(e);if(!i)return void(l&&l.error("Bad element for "+this.constructor.namespace+": "+(i||e)));this.element=i,c&&(this.$element=c(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(t);var o=++h;this.element.outlayerGUID=o,d[o]=this,this._create();var s=this._getOption("initLayout");s&&this.layout()}function r(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}function a(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),i=t&&t[1],n=t&&t[2];if(!i.length)return 0;i=parseFloat(i);var o=p[n]||1;return i*o}var l=e.console,c=e.jQuery,u=function(){},h=0,d={};s.namespace="outlayer",s.Item=o,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var f=s.prototype;n.extend(f,t.prototype),f.option=function(e){n.extend(this.options,e)},f._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},f._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var e=this._getOption("resize");e&&this.bindResize()},f.reloadItems=function(){this.items=this._itemize(this.element.children)},f._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,n=[],o=0;o<t.length;o++){var s=t[o],r=new i(s,this);n.push(r)}return n},f._filterFindItemElements=function(e){return n.filterFindElements(e,this.options.itemSelector)},f.getItemElements=function(){return this.items.map(function(e){return e.element})},f.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},f._init=f.layout,f._resetLayout=function(){this.getSize()
},f.getSize=function(){this.size=i(this.element)},f._getMeasurement=function(e,t){var n,o=this.options[e];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[e]=n?i(n)[t]:o):this[e]=0},f.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},f._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},f._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var i=[];e.forEach(function(e){var n=this._getItemLayoutPosition(e);n.item=e,n.isInstant=t||e.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},f._getItemLayoutPosition=function(){return{x:0,y:0}},f._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},f.updateStagger=function(){var e=this.options.stagger;return null===e||void 0===e?void(this.stagger=0):(this.stagger=a(e),this.stagger)},f._positionItem=function(e,t,i,n,o){n?e.goTo(t,i):(e.stagger(o*this.stagger),e.moveTo(t,i))},f._postLayout=function(){this.resizeContainer()},f.resizeContainer=function(){var e=this._getOption("resizeContainer");if(e){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},f._getContainerSize=u,f._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},f._emitCompleteOnItems=function(e,t){function i(){o.dispatchEvent(e+"Complete",null,[t])}function n(){r++,r==s&&i()}var o=this,s=t.length;if(!t||!s)return void i();var r=0;t.forEach(function(t){t.once(e,n)})},f.dispatchEvent=function(e,t,i){var n=t?[t].concat(i):i;if(this.emitEvent(e,n),c)if(this.$element=this.$element||c(this.element),t){var o=c.Event(t);o.type=e,this.$element.trigger(o,i)}else this.$element.trigger(e,i)},f.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},f.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},f.stamp=function(e){e=this._find(e),e&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},f.unstamp=function(e){e=this._find(e),e&&e.forEach(function(e){n.removeFrom(this.stamps,e),this.unignore(e)},this)},f._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=n.makeArray(e)):void 0},f._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},f._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},f._manageStamp=u,f._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,o=i(e),s={left:t.left-n.left-o.marginLeft,top:t.top-n.top-o.marginTop,right:n.right-t.right-o.marginRight,bottom:n.bottom-t.bottom-o.marginBottom};return s},f.handleEvent=n.handleEvent,f.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},f.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},f.onresize=function(){this.resize()},n.debounceMethod(s,"onresize",100),f.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},f.needsResizeLayout=function(){var e=i(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},f.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},f.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},f.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},f.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,i){e.stagger(i*t),e.reveal()})}},f.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,i){e.stagger(i*t),e.hide()})}},f.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},f.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},f.getItem=function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.element==e)return i}},f.getItems=function(e){e=n.makeArray(e);var t=[];return e.forEach(function(e){var i=this.getItem(e);i&&t.push(i)},this),t},f.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),n.removeFrom(this.items,e)},this)},f.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete d[t],delete this.element.outlayerGUID,c&&c.removeData(this.element,this.constructor.namespace)},s.data=function(e){e=n.getQueryElement(e);var t=e&&e.outlayerGUID;return t&&d[t]},s.create=function(e,t){var i=r(s);return i.defaults=n.extend({},s.defaults),n.extend(i.defaults,t),i.compatOptions=n.extend({},s.compatOptions),i.namespace=e,i.data=s.data,i.Item=r(o),n.htmlInit(i,e),c&&c.bridget&&c.bridget(e,i),i};var p={ms:1,s:1e3};return s.Item=o,s}),function(e,t){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window,function(e){"use strict";function t(){e.Item.apply(this,arguments)}var i=t.prototype=Object.create(e.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var i in e){var n=t[i];this.sortData[i]=n(this.element,this)}}};var o=i.destroy;return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},t}),function(e,t){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):"object"==typeof module&&module.exports?module.exports=t(require("get-size"),require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window,function(e,t){"use strict";function i(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}var n=i.prototype,o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return o.forEach(function(e){n[e]=function(){return t.prototype[e].apply(this.isotope,arguments)}}),n.needsVerticalResizeLayout=function(){var t=e(this.isotope.element),i=this.isotope.size&&t;return i&&t.innerHeight!=this.isotope.size.innerHeight},n._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.getRowHeight=function(){this.getSegmentSize("row","Height")},n.getSegmentSize=function(e,t){var i=e+t,n="outer"+t;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+t]}},n.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},n.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(e,t){function o(){i.apply(this,arguments)}return o.prototype=Object.create(n),o.prototype.constructor=o,t&&(o.options=t),o.prototype.namespace=e,i.modes[e]=o,o},i}),function(e,t){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("get-size")):e.Masonry=t(e.Outlayer,e.getSize)}(window,function(e,t){var i=e.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],i=e&&e.element;this.columnWidth=i&&t(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,s=o/n,r=n-o%n,a=r&&1>r?"round":"floor";s=Math[a](s),this.cols=Math.max(s,1)},i.prototype.getContainerWidth=function(){var e=this._getOption("fitWidth"),i=e?this.element.parentNode:this.element,n=t(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,i=t&&1>t?"round":"ceil",n=Math[i](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),s=Math.min.apply(Math,o),r=o.indexOf(s),a={x:this.columnWidth*r,y:s},l=s+e.size.outerHeight,c=this.cols+1-o.length,u=0;c>u;u++)this.colYs[r+u]=l;return a},i.prototype._getColGroup=function(e){if(2>e)return this.colYs;for(var t=[],i=this.cols+1-e,n=0;i>n;n++){var o=this.colYs.slice(n,n+e);t[n]=Math.max.apply(Math,o)}return t},i.prototype._manageStamp=function(e){var i=t(e),n=this._getElementOffset(e),o=this._getOption("originLeft"),s=o?n.left:n.right,r=s+i.outerWidth,a=Math.floor(s/this.columnWidth);a=Math.max(0,a);var l=Math.floor(r/this.columnWidth);l-=r%this.columnWidth?0:1,l=Math.min(this.cols-1,l);for(var c=this._getOption("originTop"),u=(c?n.top:n.bottom)+i.outerHeight,h=a;l>=h;h++)this.colYs[h]=Math.max(u,this.colYs[h])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},i.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},i}),function(e,t){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],t):"object"==typeof module&&module.exports?module.exports=t(require("../layout-mode"),require("masonry-layout")):t(e.Isotope.LayoutMode,e.Masonry)}(window,function(e,t){"use strict";var i=e.create("masonry"),n=i.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var s in t.prototype)o[s]||(n[s]=t.prototype[s]);var r=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems,r.call(this)};var a=n._getOption;return n._getOption=function(e){return"fitWidth"==e?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i}),function(e,t){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("fitRows"),i=t.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&t+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=t,n},i._getContainerSize=function(){return{height:this.maxY}},t}),function(e,t){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],t):"object"==typeof module&&module.exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("vertical",{horizontalAlignment:0}),i=t.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=e.size.outerHeight,{x:t,y:i}},i._getContainerSize=function(){return{height:this.y}},t}),function(e,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(i,n,o,s,r,a){return t(e,i,n,o,s,r,a)}):"object"==typeof module&&module.exports?module.exports=t(e,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):e.Isotope=t(e,e.Outlayer,e.getSize,e.matchesSelector,e.fizzyUIUtils,e.Isotope.Item,e.Isotope.LayoutMode)}(window,function(e,t,i,n,o,s,r){function a(e,t){return function(i,n){for(var o=0;o<e.length;o++){var s=e[o],r=i.sortData[s],a=n.sortData[s];if(r>a||a>r){var l=void 0!==t[s]?t[s]:t,c=l?1:-1;return(r>a?1:-1)*c}}return 0}}var l=e.jQuery,c=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},u=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});u.Item=s,u.LayoutMode=r;var h=u.prototype;h._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var e in r.modes)this._initLayoutMode(e)},h.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},h._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),i=0;i<e.length;i++){var n=e[i];n.id=this.itemGUID++}return this._updateItemsSortData(e),e},h._initLayoutMode=function(e){var t=r.modes[e],i=this.options[e]||{};this.options[e]=t.options?o.extend(t.options,i):i,this.modes[e]=new t(this)},h.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},h._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},h.arrange=function(e){this.option(e),this._getIsInstant();var t=this._filter(this.items);this.filteredItems=t.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[t]):this._hideReveal(t),this._sort(),this._layout()},h._init=h.arrange,h._hideReveal=function(e){this.reveal(e.needReveal),this.hide(e.needHide)},h._getIsInstant=function(){var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;return this._isInstant=t,t},h._bindArrangeComplete=function(){function e(){t&&i&&n&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var t,i,n,o=this;this.once("layoutComplete",function(){t=!0,e()}),this.once("hideComplete",function(){i=!0,e()}),this.once("revealComplete",function(){n=!0,e()})},h._filter=function(e){var t=this.options.filter;t=t||"*";for(var i=[],n=[],o=[],s=this._getFilterTest(t),r=0;r<e.length;r++){var a=e[r];if(!a.isIgnored){var l=s(a);l&&i.push(a),l&&a.isHidden?n.push(a):l||a.isHidden||o.push(a)}}return{matches:i,needReveal:n,needHide:o}},h._getFilterTest=function(e){return l&&this.options.isJQueryFiltering?function(t){return l(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return n(t.element,e)}},h.updateSortData=function(e){var t;e?(e=o.makeArray(e),t=this.getItems(e)):t=this.items,this._getSorters(),this._updateItemsSortData(t)},h._getSorters=function(){var e=this.options.getSortData;for(var t in e){var i=e[t];this._sorters[t]=d(i)}},h._updateItemsSortData=function(e){for(var t=e&&e.length,i=0;t&&t>i;i++){var n=e[i];n.updateSortData()}};var d=function(){function e(e){if("string"!=typeof e)return e;var i=c(e).split(" "),n=i[0],o=n.match(/^\[(.+)\]$/),s=o&&o[1],r=t(s,n),a=u.sortDataParsers[i[1]];return e=a?function(e){return e&&a(r(e))}:function(e){return e&&r(e)}}function t(e,t){return e?function(t){return t.getAttribute(e)}:function(e){var i=e.querySelector(t);return i&&i.textContent}}return e}();u.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},h._sort=function(){var e=this.options.sortBy;if(e){var t=[].concat.apply(e,this.sortHistory),i=a(t,this.options.sortAscending);this.filteredItems.sort(i),e!=this.sortHistory[0]&&this.sortHistory.unshift(e)}},h._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw new Error("No layout mode: "+e);return t.options=this.options[e],t},h._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},h._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},h._manageStamp=function(e){this._mode()._manageStamp(e)},h._getContainerSize=function(){return this._mode()._getContainerSize()},h.needsResizeLayout=function(){return this._mode().needsResizeLayout()},h.appended=function(e){var t=this.addItems(e);if(t.length){var i=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(i)}},h.prepended=function(e){var t=this._itemize(e);if(t.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(t);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=t.concat(this.items)}},h._filterRevealAdded=function(e){var t=this._filter(e);return this.hide(t.needHide),this.reveal(t.matches),this.layoutItems(t.matches,!0),t.matches},h.insert=function(e){var t=this.addItems(e);if(t.length){var i,n,o=t.length;for(i=0;o>i;i++)n=t[i],this.element.appendChild(n.element);var s=this._filter(t).matches;for(i=0;o>i;i++)t[i].isLayoutInstant=!0;for(this.arrange(),i=0;o>i;i++)delete t[i].isLayoutInstant;this.reveal(s)}};var f=h.remove;return h.remove=function(e){e=o.makeArray(e);var t=this.getItems(e);f.call(this,e);for(var i=t&&t.length,n=0;i&&i>n;n++){var s=t[n];o.removeFrom(this.filteredItems,s)}},h.shuffle=function(){for(var e=0;e<this.items.length;e++){var t=this.items[e];t.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},h._noTransition=function(e,t){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=e.apply(this,t);return this.options.transitionDuration=i,n},h.getFilteredItemElements=function(){return this.filteredItems.map(function(e){return e.element})},u}),function(e,t,i,n){"use strict";function o(e){return e.getMonth()+12*e.getFullYear()}function s(e){return Math.floor(e/12)}function r(){e(this).addClass(S)}function a(e,t){return e[t?"on":"off"]("mousenter mouseout",r).toggleClass(S,t)}function l(e,t,i){return(!t||e>=t)&&(!i||i>=e)}function c(t,i){if(null===i)return i;if(i instanceof n)return o(i);if(e.isNumeric(i))return o(new n)+parseInt(i,10);var s=t._parseMonth(i);return s?o(s):h(i)}function u(e,t){return L(t.options[e]||H,t.element[0])}function h(t){var i=e.trim(t);i=i.replace(/y/i,'":"y"'),i=i.replace(/m/i,'":"m"');try{var s=JSON.parse('{"'+i.replace(/ /g,',"')+"}"),r={};for(var a in s)r[s[a]]=a;var l=o(new n);return l+=parseInt(r.m,10)||0,l+12*(parseInt(r.y,10)||0)}catch(c){return!1}}function d(t){return e('<span id="MonthPicker_Button_'+this.id+'" class="month-picker-open-button">'+t.i18n.buttonText+"</span>").jqueryUIButton({text:!1,icons:{primary:t.ButtonIcon}})}function f(e,t){e.jqueryUIButton("option",{icons:{primary:"ui-icon-circle-triangle-"+(t?"w":"e")}})}function p(e){return!e.is("input")}function m(t,i){function n(){c=setTimeout(o,175)}function o(){c=null,h=e("span",t).animate({opacity:.45},u,s)}function s(){l=h.text(),h.animate({opacity:1},u).text(i)}function r(){c?clearTimeout(c):h=e("span",t).animate({opacity:.45},u,a)}function a(){h.text(l).animate({opacity:1},u)}var l,c,u=125,h=e();t.on("mouseenter"+_+"h",n),t.on("mouseleave"+_+"h",r),t.data(w,function(){clearTimeout(c),h.stop().css({opacity:1}),t.off(_+"h")})}function g(e,t){var i=e.data("ui-button");i.option("disabled")!==t&&i.option("disabled",t)}var v="MonthPicker Error: ";if(!(e&&e.ui&&e.ui.button&&e.ui.datepicker))return void alert(v+"The jQuery UI button and datepicker plug-ins must be loaded.");e.widget.bridge("jqueryUIButton",e.ui.button);var b=e.fx.speeds,_=".MonthPicker",y="month-year-input",w="month-picker-clear-hint",x=".ui-button-icon-primary",k="month-picker-disabled",C="ui-state-highlight",S="ui-state-active",D="ui-state-default",T={my:"left top+1",at:"left bottom"},I={my:"right top+1",at:"right bottom"},P=v+"The jQuery UI position plug-in must be loaded.",A=v+"Unsupported % option value, supported values are: ",M=v+'"_" is not a valid %Month value.',E=null,F=!!e.ui.position,R={Animation:["slideToggle","fadeToggle","none"],ShowAnim:["fadeIn","slideDown","none"],HideAnim:["fadeOut","slideUp","none"]},O={ValidationErrorMessage:"_createValidationMessage",Disabled:"_setDisabledState",ShowIcon:"_updateButton",Button:"_updateButton",ShowOn:"_updateFieldEvents",IsRTL:"_setRTL",AltFormat:"_updateAlt",AltField:"_updateAlt",StartYear:"_setPickerYear",MinMonth:"_setMinMonth",MaxMonth:"_setMaxMonth",SelectedMonth:"_setSelectedMonth"},H=e.noop,L=e.proxy,z=e.datepicker,N="click"+_;e.MonthPicker={VERSION:"3.0.3",i18n:{year:"Year",prevYear:"Previous Year",nextYear:"Next Year",next12Years:"Jump Forward 12 Years",prev12Years:"Jump Back 12 Years",nextLabel:"Next",prevLabel:"Prev",buttonText:"Open Month Chooser",jumpYears:"Jump Years",backTo:"Back to",months:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sep.","Oct.","Nov.","Dec."]}};var B='<div class="ui-widget-header month-picker-header ui-corner-all"><table class="month-picker-year-table"><tr><td class="month-picker-previous"><a /></td><td class="month-picker-title"><a /></td><td class="month-picker-next"><a /></td></tr></table></div><div><table class="month-picker-month-table" /></div>';e.widget("KidSysco.MonthPicker",{options:{i18n:{},IsRTL:!1,Position:null,StartYear:null,ShowIcon:!0,UseInputMask:!1,ValidationErrorMessage:null,Disabled:!1,MonthFormat:"mm/yy",Animation:"fadeToggle",ShowAnim:null,HideAnim:null,ShowOn:null,MinMonth:null,MaxMonth:null,Duration:"normal",Button:d,ButtonIcon:"ui-icon-calculator"},_monthPickerButton:e(),_validationMessage:e(),_selectedBtn:e(),_destroy:function(){var t=this.element;e.mask&&this.options.UseInputMask&&(t.unmask(),this.GetSelectedDate()||t.val("")),t.removeClass(y).off(_),e(i).off(_+this.uuid),this._monthPickerMenu.remove();var n=this._monthPickerButton.off(N);this._removeOldBtn&&n.remove(),this._validationMessage.remove(),E===this&&(E=null)},_setOption:function(t,i){switch(t){case"i18n":i=e.extend({},i);break;case"Position":if(!F)return void alert(P);break;case"MonthFormat":var n=this.GetSelectedDate();n&&this.element.val(this.FormatMonth(n,i))}return t in R&&-1===e.inArray(i,R[t])?void alert(A.replace(/%/,t)+R[t]):(this._super(t,i),void(O[t]?this[O[t]](i):0))},_create:function(){var t=this.element,o=this.options,r=t.attr("type");if(!t.is("input,div,span")||"text"!==r&&"month"!==r&&void 0!==r){var a=v+"MonthPicker can only be called on text or month inputs.";return alert(a+" \n\nSee (developer tools) for more details."),console.error(a+"\n Caused by:"),console.log(t[0]),!1}if(!e.mask&&o.UseInputMask)return alert(v+"The UseInputMask option requires the Input Mask Plugin. Get it from digitalbush.com"),!1;if(null!==o.Position&&!F)return alert(P),!1;for(var l in R)if(null!==o[l]&&-1===e.inArray(o[l],R[l]))return alert(A.replace(/%/,l)+R[l]),!1;this._isMonthInputType="month"===t.attr("type"),this._isMonthInputType&&(this.options.MonthFormat=this.MonthInputFormat,t.css("width","auto"));var u=this._monthPickerMenu=e('<div id="MonthPicker_'+t[0].id+'" class="month-picker ui-widget ui-widget-content ui-corner-all"></div>').hide(),h=p(t);e(B).appendTo(u),u.appendTo(h?t:i.body),this._titleButton=e(".month-picker-title",u).click(L(this._showYearsClickHandler,this)).find("a").jqueryUIButton().removeClass(D),this._applyJumpYearsHint(),this._createValidationMessage(),this._prevButton=e(".month-picker-previous>a",u).jqueryUIButton({text:!1}).removeClass(D),this._nextButton=e(".month-picker-next>a",u).jqueryUIButton({text:!1}).removeClass(D),this._setRTL(o.IsRTL),e(x,this._nextButton).text(this._i18n("nextLabel")),e(x,this._prevButton).text(this._i18n("prevLabel"));for(var d=e(".month-picker-month-table",u),f=0;12>f;f++){var m=f%3?m:e("<tr />").appendTo(d);m.append('<td><a class="button-'+(f+1)+'" /></td>')}this._buttons=e("a",d).jqueryUIButton(),u.on("mousedown"+_,function(e){e.preventDefault()});var g=this,b="Month";e.each(["Min","Max"],function(e,t){g["_set"+t+b]=function(e){(g["_"+t+b]=c(g,e))===!1&&alert(M.replace(/%/,t).replace(/_/,e))},g._setOption(t+b,g.options[t+b])});var w=o.SelectedMonth;if(void 0!==w){var k=c(this,w);t.val(this._formatMonth(new n(s(k),k%12,1)))}this._updateAlt(),this._setUseInputMask(),this._setDisabledState(),this.Destroy=this.destroy,h?this.Open():(t.addClass(y),t.change(L(this._updateAlt,this)))},GetSelectedDate:function(){return this._parseMonth()},GetSelectedYear:function(){var e=this.GetSelectedDate();return e?e.getFullYear():0/0},GetSelectedMonth:function(){var e=this.GetSelectedDate();return e?e.getMonth()+1:0/0},Validate:function(){var e=this.GetSelectedDate();return null===this.options.ValidationErrorMessage||this.options.Disabled||this._validationMessage.toggle(!e),e},GetSelectedMonthYear:function(){var e=this.Validate();return e?e.getMonth()+1+"/"+e.getFullYear():null},Disable:function(){this._setOption("Disabled",!0)},Enable:function(){this._setOption("Disabled",!1)},ClearAllCallbacks:function(){for(var e in this.options)0===e.indexOf("On")&&(this.options[e]=H)},Clear:function(){this.element.val(""),e(this.options.AltField).val(""),this._validationMessage.hide()},Toggle:function(e){return this._visible?this.Close(e):this.Open(e)},Open:function(t){var n=this.element,o=this.options;if(!o.Disabled&&!this._visible){if(t=t||e.Event(),u("OnBeforeMenuOpen",this)(t)===!1||t.isDefaultPrevented())return;this._visible=!0,this._ajustYear(o);var s=this._monthPickerMenu;if(this._showMonths(),p(n))s.css("position","static").show(),u("OnAfterMenuOpen",this)();else{E&&E.Close(t),E=this,e(i).on("mousedown"+_+this.uuid,L(this.Close,this)).on("keydown"+_+this.uuid,L(this._keyDown,this)),n.off("blur"+_).focus();var r=o.ShowAnim||o.Animation,a="none"===r;s[a?"fadeIn":r]({duration:a?0:this._duration(),start:L(this._position,this,s),complete:u("OnAfterMenuOpen",this)})}}},Close:function(t){var n=this.element;if(!p(n)&&this._visible){var o=this._monthPickerMenu,s=this.options;if(t=t||e.Event(),u("OnBeforeMenuClose",this)(t)===!1||t.isDefaultPrevented())return;this._backToYear&&(this._applyJumpYearsHint(),this._backToYear=0),this._visible=!1,E=null,e(i).off("keydown"+_+this.uuid).off("mousedown"+_+this.uuid),this.Validate(),n.on("blur"+_,L(this.Validate,this));var r=u("OnAfterMenuClose",this),a=s.HideAnim||s.Animation;"none"===a?o.hide(0,r):o[a](this._duration(),r)}},MonthInputFormat:"yy-mm",ParseMonth:function(e,t){try{return z.parseDate("dd"+t,"01"+e)}catch(i){return null}},FormatMonth:function(e,t){try{return z.formatDate(t,e)||null}catch(i){return null}},_setSelectedMonth:function(e){var t=c(this,e),i=this.element;if(t){var o=new n(s(t),t%12,1);i.val(this._formatMonth(o)),this._updateAlt(0,o),this._validationMessage.hide()}else this.Clear();this._ajustYear(this.options),this._showMonths()},_applyJumpYearsHint:function(){m(this._titleButton,this._i18n("jumpYears"))},_i18n:function(t){return this.options.i18n[t]||e.MonthPicker.i18n[t]},_parseMonth:function(e,t){return this.ParseMonth(e||this.element.val(),t||this.options.MonthFormat)},_formatMonth:function(e,t){return this.FormatMonth(e||this._parseMonth(),t||this.options.MonthFormat)},_updateButton:function(){var e=this.options.Disabled;this._createButton();var t=this._monthPickerButton;try{t.jqueryUIButton("option","disabled",e)}catch(i){t.filter("button,input").prop("disabled",e)}this._updateFieldEvents()},_createButton:function(){var t=this.element,n=this.options;if(!p(t)){var o=this._monthPickerButton.off(_),s=n.ShowIcon?n.Button:!1;if(e.isFunction(s)){var r=e.extend(!0,{i18n:e.extend(!0,{},e.MonthPicker.i18n)},this.options);s=s.call(t[0],r)}var a=!1;this._monthPickerButton=(s instanceof e?s:e(s)).each(function(){e.contains(i.body,this)||(a=!0,e(this).insertAfter(t))}).on(N,L(this.Toggle,this)).on("mousedown"+_,function(e){e.preventDefault()}),this._removeOldBtn&&o.remove(),this._removeOldBtn=a}},_updateFieldEvents:function(){var e=N+" focus"+_;this.element.off(e),"both"!==this.options.ShowOn&&this._monthPickerButton.length||this.element.on(e,L(this.Open,this))},_createValidationMessage:function(){var t=this.options.ValidationErrorMessage,i=this.element;if(-1===e.inArray(t,[null,""])){var n=e('<span id="MonthPicker_Validation_'+i[0].id+'" class="month-picker-invalid-message">'+t+"</span>"),o=this._monthPickerButton;this._validationMessage=n.insertAfter(o.length?o:i),i.on("blur"+_,L(this.Validate,this))}else this._validationMessage.remove()},_setRTL:function(e){f(this._prevButton.css("float",e?"right":"left"),!e),f(this._nextButton.css("float",e?"left":"right"),e)},_keyDown:function(e){switch(e.keyCode){case 13:this.element.val()||this._chooseMonth((new n).getMonth()+1),this.Close(e);break;case 27:case 9:this.Close(e)}},_duration:function(){var t=this.options.Duration;return e.isNumeric(t)?t:t in b?b[t]:b._default},_position:F?function(t){var i=this.options.IsRTL?I:T,n=e.extend(i,this.options.Position);return t.position(e.extend({of:this.element},n))}:function(e){var t=this.element,i={top:t.offset().top+t.height()+7+"px"};return i.left=this.options.IsRTL?t.offset().left-e.width()+t.width()+7+"px":t.offset().left+"px",e.css(i)},_setUseInputMask:function(){if(!this._isMonthInputType)try{this.options.UseInputMask?this.element.mask(this._formatMonth(new n).replace(/\d/g,9)):this.element.unmask()}catch(e){}},_setDisabledState:function(){var e=this.options.Disabled,t=this.element;t[0].disabled=e,t.toggleClass(k,e),e&&this._validationMessage.hide(),this.Close(),this._updateButton(),u("OnAfterSetDisabled",this)(e)},_getPickerYear:function(){return this._pickerYear},_setPickerYear:function(e){this._pickerYear=e||(new n).getFullYear(),this._titleButton.jqueryUIButton({label:this._i18n("year")+" "+this._pickerYear})},_updateAlt:function(t,i){var n=e(this.options.AltField);n.length&&n.val(this._formatMonth(i,this.options.AltFormat))},_chooseMonth:function(t){var i=this._getPickerYear(),o=new n(i,t-1);this.element.val(this._formatMonth(o)).blur(),this._updateAlt(0,o),a(this._selectedBtn,!1),this._selectedBtn=a(e(this._buttons[t-1]),!0),u("OnAfterChooseMonth",this)(o)},_chooseYear:function(e){this._backToYear=0,this._setPickerYear(e),this._buttons.removeClass(C),this._showMonths(),this._applyJumpYearsHint(),u("OnAfterChooseYear",this)()},_showMonths:function(){var t=this._i18n("months");this._prevButton.attr("title",this._i18n("prevYear")).off(N).on(N,L(this._addToYear,this,-1)),this._nextButton.attr("title",this._i18n("nextYear")).off(N).on(N,L(this._addToYear,this,1)),this._buttons.off(_);var i=this,n=L(i._onMonthClick,i);e.each(t,function(t,o){e(i._buttons[t]).on(N,{month:t+1},n).jqueryUIButton("option","label",o)}),this._decorateButtons()},_showYearsClickHandler:function(){if(this._buttons.removeClass(C),this._backToYear)this._setPickerYear(this._backToYear),this._applyJumpYearsHint(),this._showMonths(),this._backToYear=0;
else{this._backToYear=this._getPickerYear(),this._showYears();var e=this._i18n("backTo")+" "+this._getPickerYear();this._titleButton.jqueryUIButton({label:e}).data(w)(),u("OnAfterChooseYears",this)()}},_showYears:function(){var t=this._getPickerYear(),i=-4,o=t+i,r=12,c=(new n).getFullYear(),u=this._MinMonth,h=this._MaxMonth,d=u?s(u):0,f=h?s(h):0;this._prevButton.attr("title",this._i18n("prev12Years")).off(N).on(N,L(this._addToYears,this,-r)),this._nextButton.attr("title",this._i18n("next12Years")).off(N).on(N,L(this._addToYears,this,r)),g(this._prevButton,d&&d>o-1),g(this._nextButton,f&&o+12-1>f),this._buttons.off(_),a(this._selectedBtn,!1);for(var p=this.GetSelectedYear(),m=L(this._onYearClick,this),v=l(c,d,f),b=l(p,d,f),y=0;12>y;y++){var w=t+i,x=e(this._buttons[y]).jqueryUIButton({disabled:!l(w,d,f),label:w}).toggleClass(C,w===c&&v).on(N,{year:w},m);b&&p&&p===w&&(this._selectedBtn=a(x,!0)),i++}},_onMonthClick:function(e){this._chooseMonth(e.data.month),this.Close(e)},_onYearClick:function(e){this._chooseYear(e.data.year)},_addToYear:function(e){this._setPickerYear(this._getPickerYear()+e),this.element.focus(),this._decorateButtons(),u("OnAfter"+(e>0?"Next":"Previous")+"Year",this)()},_addToYears:function(e){this._pickerYear=this._getPickerYear()+e,this._showYears(),this.element.focus(),u("OnAfter"+(e>0?"Next":"Previous")+"Years",this)()},_ajustYear:function(e){var t=e.StartYear||this.GetSelectedYear()||(new n).getFullYear();null!==this._MinMonth&&(t=Math.max(s(this._MinMonth),t)),null!==this._MaxMonth&&(t=Math.min(s(this._MaxMonth),t)),this._setPickerYear(t)},_decorateButtons:function(){var t=this._getPickerYear(),i=o(new n),r=this._MinMonth,c=this._MaxMonth;a(this._selectedBtn,!1);var u=this.GetSelectedDate(),h=l(u?o(u):null,r,c);u&&u.getFullYear()===t&&(this._selectedBtn=a(e(this._buttons[u.getMonth()]),h)),g(this._prevButton,r&&t==s(r)),g(this._nextButton,c&&t==s(c));for(var d=0;12>d;d++){var f=12*t+d,p=l(f,r,c);e(this._buttons[d]).jqueryUIButton({disabled:!p}).toggleClass(C,p&&f==i)}}})}(jQuery,window,document,Date),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function($){"use strict";var func=function(){var e=function(e){return function(t){return e===t}},t=function(e,t){return e===t},i=function(e){return function(t,i){return t[e]===i[e]}},n=function(){return!0},o=function(){return!1},s=function(e){return function(){return!e.apply(e,arguments)}},r=function(e,t){return function(i){return e(i)&&t(i)}},a=function(e){return e},l=function(e,t){return function(){return e[t].apply(e,arguments)}},c=0,u=function(e){var t=++c+"";return e?e+t:t},h=function(e){var t=$(document);return{top:e.top+t.scrollTop(),left:e.left+t.scrollLeft(),width:e.right-e.left,height:e.bottom-e.top}},d=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t},f=function(e,t){return t=t||"",t+e.split(".").map(function(e){return e.substring(0,1).toUpperCase()+e.substring(1)}).join("")},p=function(e,t,i){var n;return function(){var o=this,s=arguments,r=function(){n=null,i||e.apply(o,s)},a=i&&!n;clearTimeout(n),n=setTimeout(r,t),a&&e.apply(o,s)}};return{eq:e,eq2:t,peq2:i,ok:n,fail:o,self:a,not:s,and:r,invoke:l,uniqueId:u,rect2bnd:h,invertObject:d,namespaceToCamel:f,debounce:p}}(),list=function(){var e=function(e){return e[0]},t=function(e){return e[e.length-1]},i=function(e){return e.slice(0,e.length-1)},n=function(e){return e.slice(1)},o=function(e,t){for(var i=0,n=e.length;n>i;i++){var o=e[i];if(t(o))return o}},s=function(e,t){for(var i=0,n=e.length;n>i;i++)if(!t(e[i]))return!1;return!0},r=function(e,t){return $.inArray(t,e)},a=function(e,t){return-1!==r(e,t)},l=function(e,t){return t=t||func.self,e.reduce(function(e,i){return e+t(i)},0)},c=function(e){for(var t=[],i=-1,n=e.length;++i<n;)t[i]=e[i];return t},u=function(e){return!e||!e.length},h=function(i,o){if(!i.length)return[];var s=n(i);return s.reduce(function(e,i){var n=t(e);return o(t(n),i)?n[n.length]=i:e[e.length]=[i],e},[[e(i)]])},d=function(e){for(var t=[],i=0,n=e.length;n>i;i++)e[i]&&t.push(e[i]);return t},f=function(e){for(var t=[],i=0,n=e.length;n>i;i++)a(t,e[i])||t.push(e[i]);return t},p=function(e,t){var i=r(e,t);return-1===i?null:e[i+1]},m=function(e,t){var i=r(e,t);return-1===i?null:e[i-1]};return{head:e,last:t,initial:i,tail:n,prev:m,next:p,find:o,contains:a,all:s,sum:l,from:c,isEmpty:u,clusterBy:h,compact:d,unique:f}}(),isSupportAmd="function"==typeof define&&define.amd,isFontInstalled=function(e){var t="Comic Sans MS"===e?"Courier New":"Comic Sans MS",i=$("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),n=i.css("fontFamily",t).width(),o=i.css("fontFamily",e+","+t).width();return i.remove(),n!==o},userAgent=navigator.userAgent,isMSIE=/MSIE|Trident/i.test(userAgent),browserVersion;if(isMSIE){var matches=/MSIE (\d+[.]\d+)/.exec(userAgent);matches&&(browserVersion=parseFloat(matches[1])),matches=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(userAgent),matches&&(browserVersion=parseFloat(matches[1]))}var isEdge=/Edge\/\d+/.test(userAgent),hasCodeMirror=!!window.CodeMirror;if(!hasCodeMirror&&isSupportAmd&&"undefined"!=typeof require)if("undefined"!=typeof require.resolve)try{require.resolve("codemirror"),hasCodeMirror=!0}catch(e){}else"undefined"!=typeof eval("require").specified&&(hasCodeMirror=eval("require").specified("codemirror"));var agent={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:isMSIE,isEdge:isEdge,isFF:!isEdge&&/firefox/i.test(userAgent),isPhantom:/PhantomJS/i.test(userAgent),isWebkit:!isEdge&&/webkit/i.test(userAgent),isChrome:!isEdge&&/chrome/i.test(userAgent),isSafari:!isEdge&&/safari/i.test(userAgent),browserVersion:browserVersion,jqueryVersion:parseFloat($.fn.jquery),isSupportAmd:isSupportAmd,hasCodeMirror:hasCodeMirror,isFontInstalled:isFontInstalled,isW3CRangeSupport:!!document.createRange},NBSP_CHAR=String.fromCharCode(160),ZERO_WIDTH_NBSP_CHAR="﻿",dom=function(){var e=function(e){return e&&$(e).hasClass("note-editable")},t=function(e){return e&&$(e).hasClass("note-control-sizing")},i=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName.toUpperCase()===e}},n=function(e){return e&&3===e.nodeType},o=function(e){return e&&1===e.nodeType},s=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(e.nodeName.toUpperCase())},r=function(t){return e(t)?!1:t&&/^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase())},a=function(e){return e&&/^H[1-7]/.test(e.nodeName.toUpperCase())},l=i("PRE"),c=i("LI"),u=function(e){return r(e)&&!c(e)},h=i("TABLE"),d=i("DATA"),f=function(e){return!(b(e)||p(e)||m(e)||r(e)||h(e)||v(e)||d(e))},p=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},m=i("HR"),g=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},v=i("BLOCKQUOTE"),b=function(t){return g(t)||v(t)||e(t)},_=i("A"),y=function(e){return f(e)&&!!P(e,r)},w=function(e){return f(e)&&!P(e,r)},x=i("BODY"),k=function(e,t){return e.nextSibling===t||e.previousSibling===t},C=function(e,t){t=t||func.ok;var i=[];return e.previousSibling&&t(e.previousSibling)&&i.push(e.previousSibling),i.push(e),e.nextSibling&&t(e.nextSibling)&&i.push(e.nextSibling),i},S=agent.isMSIE&&agent.browserVersion<11?"&nbsp;":"<br>",D=function(e){return n(e)?e.nodeValue.length:e?e.childNodes.length:0},T=function(e){var t=D(e);return 0===t?!0:n(e)||1!==t||e.innerHTML!==S?list.all(e.childNodes,n)&&""===e.innerHTML?!0:!1:!0},I=function(e){s(e)||D(e)||(e.innerHTML=S)},P=function(t,i){for(;t;){if(i(t))return t;if(e(t))break;t=t.parentNode}return null},A=function(t,i){for(t=t.parentNode;t&&1===D(t);){if(i(t))return t;if(e(t))break;t=t.parentNode}return null},M=function(t,i){i=i||func.fail;var n=[];return P(t,function(t){return e(t)||n.push(t),i(t)}),n},E=function(e,t){var i=M(e);return list.last(i.filter(t))},F=function(e,t){for(var i=M(e),n=t;n;n=n.parentNode)if($.inArray(n,i)>-1)return n;return null},R=function(e,t){t=t||func.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.previousSibling;return i},O=function(e,t){t=t||func.fail;for(var i=[];e&&!t(e);)i.push(e),e=e.nextSibling;return i},H=function(e,t){var i=[];return t=t||func.ok,function n(o){e!==o&&t(o)&&i.push(o);for(var s=0,r=o.childNodes.length;r>s;s++)n(o.childNodes[s])}(e),i},L=function(e,t){var i=e.parentNode,n=$("<"+t+">")[0];return i.insertBefore(n,e),n.appendChild(e),n},z=function(e,t){var i=t.nextSibling,n=t.parentNode;return i?n.insertBefore(e,i):n.appendChild(e),e},N=function(e,t){return $.each(t,function(t,i){e.appendChild(i)}),e},B=function(e){return 0===e.offset},j=function(e){return e.offset===D(e.node)},W=function(e){return B(e)||j(e)},U=function(e,t){for(;e&&e!==t;){if(0!==G(e))return!1;e=e.parentNode}return!0},Y=function(e,t){if(!t)return!1;for(;e&&e!==t;){if(G(e)!==D(e.parentNode)-1)return!1;e=e.parentNode}return!0},q=function(e,t){return B(e)&&U(e.node,t)},V=function(e,t){return j(e)&&Y(e.node,t)},G=function(e){for(var t=0;e=e.previousSibling;)t+=1;return t},K=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},Z=function(t,i){var n,o;if(0===t.offset){if(e(t.node))return null;n=t.node.parentNode,o=G(t.node)}else K(t.node)?(n=t.node.childNodes[t.offset-1],o=D(n)):(n=t.node,o=i?0:t.offset-1);return{node:n,offset:o}},X=function(t,i){var n,o;if(D(t.node)===t.offset){if(e(t.node))return null;n=t.node.parentNode,o=G(t.node)+1}else K(t.node)?(n=t.node.childNodes[t.offset],o=0):(n=t.node,o=i?D(t.node):t.offset+1);return{node:n,offset:o}},J=function(e,t){return e.node===t.node&&e.offset===t.offset},Q=function(e){if(n(e.node)||!K(e.node)||T(e.node))return!0;var t=e.node.childNodes[e.offset-1],i=e.node.childNodes[e.offset];return t&&!s(t)||i&&!s(i)?!1:!0},et=function(e,t){for(;e;){if(t(e))return e;e=Z(e)}return null},tt=function(e,t){for(;e;){if(t(e))return e;e=X(e)}return null},it=function(e){if(!n(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==NBSP_CHAR},nt=function(e,t,i,n){for(var o=e;o&&(i(o),!J(o,t));){var s=n&&e.node!==o.node&&t.node!==o.node;o=X(o,s)}},ot=function(e,t){var i=M(t,func.eq(e));return i.map(G).reverse()},st=function(e,t){for(var i=e,n=0,o=t.length;o>n;n++)i=i.childNodes.length<=t[n]?i.childNodes[i.childNodes.length-1]:i.childNodes[t[n]];return i},rt=function(e,t){var i=t&&t.isSkipPaddingBlankHTML,o=t&&t.isNotSplitEdgePoint;if(W(e)&&(n(e.node)||o)){if(B(e))return e.node;if(j(e))return e.node.nextSibling}if(n(e.node))return e.node.splitText(e.offset);var s=e.node.childNodes[e.offset],r=z(e.node.cloneNode(!1),e.node);return N(r,O(s)),i||(I(e.node),I(r)),r},at=function(e,t,i){var n=M(t.node,func.eq(e));return n.length?1===n.length?rt(t,i):n.reduce(function(e,n){return e===t.node&&(e=rt(t,i)),rt({node:n,offset:e?dom.position(e):D(n)},i)}):null},lt=function(e,t){var i,n,o=t?r:b,s=M(e.node,o),a=list.last(s)||e.node;o(a)?(i=s[s.length-2],n=a):(i=a,n=i.parentNode);var l=i&&at(i,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return l||n!==e.node||(l=e.node.childNodes[e.offset]),{rightNode:l,container:n}},ct=function(e){return document.createElement(e)},ut=function(e){return document.createTextNode(e)},ht=function(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var i=e.parentNode;if(!t){var n,o,s=[];for(n=0,o=e.childNodes.length;o>n;n++)s.push(e.childNodes[n]);for(n=0,o=s.length;o>n;n++)i.insertBefore(s[n],e)}i.removeChild(e)}},dt=function(t,i){for(;t&&!e(t)&&i(t);){var n=t.parentNode;ht(t),t=n}},ft=function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var i=ct(t);return e.style.cssText&&(i.style.cssText=e.style.cssText),N(i,list.from(e.childNodes)),z(i,e),ht(e),i},pt=i("TEXTAREA"),mt=function(e,t){var i=pt(e[0])?e.val():e.html();return t?i.replace(/[\n\r]/g,""):i},gt=function(e,t){var i=mt(e);if(t){var n=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;i=i.replace(n,function(e,t,i){i=i.toUpperCase();var n=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(i)&&!!t,o=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(i);return e+(n||o?"\n":"")}),i=$.trim(i)}return i},vt=function(e){var t=$(e),i=t.offset(),n=t.outerHeight(!0);return{left:i.left,top:i.top+n}},bt=function(e,t){Object.keys(t).forEach(function(i){e.on(i,t[i])})},_t=function(e,t){Object.keys(t).forEach(function(i){e.off(i,t[i])})};return{NBSP_CHAR:NBSP_CHAR,ZERO_WIDTH_NBSP_CHAR:ZERO_WIDTH_NBSP_CHAR,blank:S,emptyPara:"<p>"+S+"</p>",makePredByNodeName:i,isEditable:e,isControlSizing:t,isText:n,isElement:o,isVoid:s,isPara:r,isPurePara:u,isHeading:a,isInline:f,isBlock:func.not(f),isBodyInline:w,isBody:x,isParaInline:y,isPre:l,isList:p,isTable:h,isData:d,isCell:g,isBlockquote:v,isBodyContainer:b,isAnchor:_,isDiv:i("DIV"),isLi:c,isBR:i("BR"),isSpan:i("SPAN"),isB:i("B"),isU:i("U"),isS:i("S"),isI:i("I"),isImg:i("IMG"),isTextarea:pt,isEmpty:T,isEmptyAnchor:func.and(_,T),isClosestSibling:k,withClosestSiblings:C,nodeLength:D,isLeftEdgePoint:B,isRightEdgePoint:j,isEdgePoint:W,isLeftEdgeOf:U,isRightEdgeOf:Y,isLeftEdgePointOf:q,isRightEdgePointOf:V,prevPoint:Z,nextPoint:X,isSamePoint:J,isVisiblePoint:Q,prevPointUntil:et,nextPointUntil:tt,isCharPoint:it,walkPoint:nt,ancestor:P,singleChildAncestor:A,listAncestor:M,lastAncestor:E,listNext:O,listPrev:R,listDescendant:H,commonAncestor:F,wrap:L,insertAfter:z,appendChildNodes:N,position:G,hasChildren:K,makeOffsetPath:ot,fromOffsetPath:st,splitTree:at,splitPoint:lt,create:ct,createText:ut,remove:ht,removeWhile:dt,replace:ft,html:gt,value:mt,posFromPlaceholder:vt,attachEvents:bt,detachEvents:_t}}(),Context=function(e,t){var i=this,n=$.summernote.ui;return this.memos={},this.modules={},this.layoutInfo={},this.options=t,this.initialize=function(){return this.layoutInfo=n.createLayout(e,t),this._initialize(),e.hide(),this},this.destroy=function(){this._destroy(),e.removeData("summernote"),n.removeLayout(e,this.layoutInfo)},this.reset=function(){var e=i.isDisabled();this.code(dom.emptyPara),this._destroy(),this._initialize(),e&&i.disable()},this._initialize=function(){var e=$.extend({},this.options.buttons);Object.keys(e).forEach(function(t){i.memo("button."+t,e[t])});var t=$.extend({},this.options.modules,$.summernote.plugins||{});Object.keys(t).forEach(function(e){i.module(e,t[e],!0)}),Object.keys(this.modules).forEach(function(e){i.initializeModule(e)})},this._destroy=function(){Object.keys(this.modules).reverse().forEach(function(e){i.removeModule(e)}),Object.keys(this.memos).forEach(function(e){i.removeMemo(e)})},this.code=function(t){var i=this.invoke("codeview.isActivated");return void 0===t?(this.invoke("codeview.sync"),i?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(i?this.layoutInfo.codable.val(t):this.layoutInfo.editable.html(t),e.val(t),void this.triggerEvent("change",t))},this.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},this.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0)},this.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0)},this.triggerEvent=function(){var t=list.head(arguments),i=list.tail(list.from(arguments)),n=this.options.callbacks[func.namespaceToCamel(t,"on")];n&&n.apply(e[0],i),e.trigger("summernote."+t,i)},this.initializeModule=function(t){var i=this.modules[t];i.shouldInitialize=i.shouldInitialize||func.ok,i.shouldInitialize()&&(i.initialize&&i.initialize(),i.events&&dom.attachEvents(e,i.events))},this.module=function(e,t,i){return 1===arguments.length?this.modules[e]:(this.modules[e]=new t(this),void(i||this.initializeModule(e)))},this.removeModule=function(t){var i=this.modules[t];i.shouldInitialize()&&(i.events&&dom.detachEvents(e,i.events),i.destroy&&i.destroy()),delete this.modules[t]},this.memo=function(e,t){return 1===arguments.length?this.memos[e]:void(this.memos[e]=t)},this.removeMemo=function(e){this.memos[e]&&this.memos[e].destroy&&this.memos[e].destroy(),delete this.memos[e]},this.createInvokeHandler=function(e,t){return function(n){n.preventDefault(),i.invoke(e,t||$(n.target).closest("[data-value]").data("value"))}},this.invoke=function(){var e=list.head(arguments),t=list.tail(list.from(arguments)),i=e.split("."),n=i.length>1,o=n&&list.head(i),s=n?list.last(i):list.head(i),r=this.modules[o||"editor"];return!o&&this[s]?this[s].apply(this,t):r&&r[s]&&r.shouldInitialize()?r[s].apply(r,t):void 0},this.initialize()};$.fn.extend({summernote:function(){var e=$.type(list.head(arguments)),t="string"===e,i="object"===e,n=i?list.head(arguments):{};n=$.extend({},$.summernote.options,n),n.langInfo=$.extend(!0,{},$.summernote.lang["en-US"],$.summernote.lang[n.lang]),n.icons=$.extend(!0,{},$.summernote.options.icons,n.icons),this.each(function(e,t){var i=$(t);if(!i.data("summernote")){var o=new Context(i,n);i.data("summernote",o),i.data("summernote").triggerEvent("init",o.layoutInfo)}});var o=this.first();if(o.length){var s=o.data("summernote");if(t)return s.invoke.apply(s,list.from(arguments));n.focus&&s.invoke("editor.focus")}return this}});var Renderer=function(e,t,i,n){this.render=function(o){var s=$(e);if(i&&i.contents&&s.html(i.contents),i&&i.className&&s.addClass(i.className),i&&i.data&&$.each(i.data,function(e,t){s.attr("data-"+e,t)}),i&&i.click&&s.on("click",i.click),t){var r=s.find(".note-children-container");t.forEach(function(e){e.render(r.length?r:s)})}return n&&n(s,i),i&&i.callback&&i.callback(s),o&&o.append(s),s}},renderer={create:function(e,t){return function(){var i=$.isArray(arguments[0])?arguments[0]:[],n="object"==typeof arguments[1]?arguments[1]:arguments[0];return n&&n.children&&(i=n.children),new Renderer(e,i,n,t)}}},editor=renderer.create('<div class="note-editor note-frame panel panel-default"/>'),toolbar=renderer.create('<div class="note-toolbar panel-heading"/>'),editingArea=renderer.create('<div class="note-editing-area"/>'),codable=renderer.create('<textarea class="note-codable"/>'),editable=renderer.create('<div class="note-editable panel-body" contentEditable="true"/>'),statusbar=renderer.create(['<div class="note-statusbar">','  <div class="note-resizebar">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),airEditor=renderer.create('<div class="note-editor"/>'),airEditable=renderer.create('<div class="note-editable" contentEditable="true"/>'),buttonGroup=renderer.create('<div class="note-btn-group btn-group">'),button=renderer.create('<button type="button" class="note-btn btn btn-default btn-sm" tabindex="-1">',function(e,t){t&&t.tooltip&&e.attr({title:t.tooltip}).tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dropdown=renderer.create('<div class="dropdown-menu">',function(e,t){var i=$.isArray(t.items)?t.items.map(function(e){var i="string"==typeof e?e:e.value||"",n=t.template?t.template(e):e;return'<li><a href="#" data-value="'+i+'">'+n+"</a></li>"}).join(""):t.items;e.html(i)}),dropdownCheck=renderer.create('<div class="dropdown-menu note-check">',function(e,t){var i=$.isArray(t.items)?t.items.map(function(e){var i="string"==typeof e?e:e.value||"",n=t.template?t.template(e):e;return'<li><a href="#" data-value="'+i+'">'+icon(t.checkClassName)+" "+n+"</a></li>"}).join(""):t.items;e.html(i)}),palette=renderer.create('<div class="note-color-palette"/>',function(e,t){for(var i=[],n=0,o=t.colors.length;o>n;n++){for(var s=t.eventName,r=t.colors[n],a=[],l=0,c=r.length;c>l;l++){var u=r[l];a.push(['<button type="button" class="note-color-btn"','style="background-color:',u,'" ','data-event="',s,'" ','data-value="',u,'" ','title="',u,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}i.push('<div class="note-color-row">'+a.join("")+"</div>")}e.html(i.join("")),e.find(".note-color-btn").tooltip({container:"body",trigger:"hover",placement:"bottom"})}),dialog=renderer.create('<div class="modal" aria-hidden="false" tabindex="-1"/>',function(e,t){t.fade&&e.addClass("fade"),e.html(['<div class="modal-dialog">','  <div class="modal-content">',t.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>      <h4 class="modal-title">'+t.title+"</h4>    </div>":"",'    <div class="modal-body">'+t.body+"</div>",t.footer?'    <div class="modal-footer">'+t.footer+"</div>":"","  </div>","</div>"].join(""))}),popover=renderer.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(e,t){var i="undefined"!=typeof t.direction?t.direction:"bottom";e.addClass(i),t.hideArrow&&e.find(".arrow").hide()}),icon=function(e,t){return t=t||"i","<"+t+' class="'+e+'"/>'},ui={editor:editor,toolbar:toolbar,editingArea:editingArea,codable:codable,editable:editable,statusbar:statusbar,airEditor:airEditor,airEditable:airEditable,buttonGroup:buttonGroup,button:button,dropdown:dropdown,dropdownCheck:dropdownCheck,palette:palette,dialog:dialog,popover:popover,icon:icon,toggleBtn:function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},toggleBtnActive:function(e,t){e.toggleClass("active",t)},onDialogShown:function(e,t){e.one("shown.bs.modal",t)},onDialogHidden:function(e,t){e.one("hidden.bs.modal",t)},showDialog:function(e){e.modal("show")},hideDialog:function(e){e.modal("hide")},createLayout:function(e,t){var i=(t.airMode?ui.airEditor([ui.editingArea([ui.airEditable()])]):ui.editor([ui.toolbar(),ui.editingArea([ui.codable(),ui.editable()]),ui.statusbar()])).render();return i.insertAfter(e),{note:e,editor:i,toolbar:i.find(".note-toolbar"),editingArea:i.find(".note-editing-area"),editable:i.find(".note-editable"),codable:i.find(".note-codable"),statusbar:i.find(".note-statusbar")}},removeLayout:function(e,t){e.html(t.editable.html()),t.editor.remove(),e.show()}};$.summernote=$.summernote||{lang:{}},$.extend($.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var key=function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221};return{isEdit:function(t){return list.contains([e.BACKSPACE,e.TAB,e.ENTER,e.SPACE],t)},isMove:function(t){return list.contains([e.LEFT,e.UP,e.RIGHT,e.DOWN],t)},nameFromCode:func.invertObject(e),code:e}}(),range=function(){var e=function(e,t){var i,n,o=e.parentElement(),s=document.body.createTextRange(),r=list.from(o.childNodes);for(i=0;i<r.length;i++)if(!dom.isText(r[i])){if(s.moveToElementText(r[i]),s.compareEndPoints("StartToStart",e)>=0)break;n=r[i]}if(0!==i&&dom.isText(r[i-1])){var a=document.body.createTextRange(),l=null;a.moveToElementText(n||o),a.collapse(!n),l=n?n.nextSibling:o.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",a);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&dom.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),o=l,i=u}return{cont:o,offset:i}},t=function(e){var t=function(e,i){var n,o;if(dom.isText(e)){var s=dom.listPrev(e,func.not(dom.isText)),r=list.last(s).previousSibling;n=r||e.parentNode,i+=list.sum(list.tail(s),dom.nodeLength),o=!r}else{if(n=e.childNodes[i]||e,dom.isText(n))return t(n,0);i=0,o=!1}return{node:n,collapseToStart:o,offset:i}},i=document.body.createTextRange(),n=t(e.node,e.offset);return i.moveToElementText(n.node),i.collapse(n.collapseToStart),i.moveStart("character",n.offset),i},i=function(e,n,o,s){this.sc=e,this.so=n,this.ec=o,this.eo=s;var r=function(){if(agent.isW3CRangeSupport){var i=document.createRange();return i.setStart(e,n),i.setEnd(o,s),i}var r=t({node:e,offset:n});return r.setEndPoint("EndToEnd",t({node:o,offset:s})),r};this.getPoints=function(){return{sc:e,so:n,ec:o,eo:s}},this.getStartPoint=function(){return{node:e,offset:n}},this.getEndPoint=function(){return{node:o,offset:s}},this.select=function(){var e=r();if(agent.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},this.scrollIntoView=function(e){var t=$(e).height();return e.scrollTop+t<this.sc.offsetTop&&(e.scrollTop+=Math.abs(e.scrollTop+t-this.sc.offsetTop)),this},this.normalize=function(){var e=function(e,t){if(dom.isVisiblePoint(e)&&!dom.isEdgePoint(e)||dom.isVisiblePoint(e)&&dom.isRightEdgePoint(e)&&!t||dom.isVisiblePoint(e)&&dom.isLeftEdgePoint(e)&&t||dom.isVisiblePoint(e)&&dom.isBlock(e.node)&&dom.isEmpty(e.node))return e;var i=dom.ancestor(e.node,dom.isBlock);if((dom.isLeftEdgePointOf(e,i)||dom.isVoid(dom.prevPoint(e).node))&&!t||(dom.isRightEdgePointOf(e,i)||dom.isVoid(dom.nextPoint(e).node))&&t){if(dom.isVisiblePoint(e))return e;t=!t}var n=t?dom.nextPointUntil(dom.nextPoint(e),dom.isVisiblePoint):dom.prevPointUntil(dom.prevPoint(e),dom.isVisiblePoint);return n||e},t=e(this.getEndPoint(),!1),n=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new i(n.node,n.offset,t.node,t.offset)},this.nodes=function(e,t){e=e||func.ok;var i=t&&t.includeAncestor,n=t&&t.fullyContains,o=this.getStartPoint(),s=this.getEndPoint(),r=[],a=[];return dom.walkPoint(o,s,function(t){if(!dom.isEditable(t.node)){var o;n?(dom.isLeftEdgePoint(t)&&a.push(t.node),dom.isRightEdgePoint(t)&&list.contains(a,t.node)&&(o=t.node)):o=i?dom.ancestor(t.node,e):t.node,o&&e(o)&&r.push(o)}},!0),list.unique(r)},this.commonAncestor=function(){return dom.commonAncestor(e,o)},this.expand=function(t){var r=dom.ancestor(e,t),a=dom.ancestor(o,t);if(!r&&!a)return new i(e,n,o,s);var l=this.getPoints();return r&&(l.sc=r,l.so=0),a&&(l.ec=a,l.eo=dom.nodeLength(a)),new i(l.sc,l.so,l.ec,l.eo)},this.collapse=function(t){return t?new i(e,n,e,n):new i(o,s,o,s)},this.splitText=function(){var t=e===o,r=this.getPoints();return dom.isText(o)&&!dom.isEdgePoint(this.getEndPoint())&&o.splitText(s),dom.isText(e)&&!dom.isEdgePoint(this.getStartPoint())&&(r.sc=e.splitText(n),r.so=0,t&&(r.ec=r.sc,r.eo=s-n)),new i(r.sc,r.so,r.ec,r.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var e=this.splitText(),t=e.nodes(null,{fullyContains:!0}),n=dom.prevPointUntil(e.getStartPoint(),function(e){return!list.contains(t,e.node)}),o=[];return $.each(t,function(e,t){var i=t.parentNode;n.node!==i&&1===dom.nodeLength(i)&&o.push(i),dom.remove(t,!1)}),$.each(o,function(e,t){dom.remove(t,!1)}),new i(n.node,n.offset,n.node,n.offset).normalize()};var a=function(t){return function(){var i=dom.ancestor(e,t);return!!i&&i===dom.ancestor(o,t)}};this.isOnEditable=a(dom.isEditable),this.isOnList=a(dom.isList),this.isOnAnchor=a(dom.isAnchor),this.isOnCell=a(dom.isCell),this.isOnData=a(dom.isData),this.isLeftEdgeOf=function(e){if(!dom.isLeftEdgePoint(this.getStartPoint()))return!1;var t=dom.ancestor(this.sc,e);return t&&dom.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return e===o&&n===s},this.wrapBodyInlineWithPara=function(){if(dom.isBodyContainer(e)&&dom.isEmpty(e))return e.innerHTML=dom.emptyPara,new i(e.firstChild,0,e.firstChild,0);var t=this.normalize();if(dom.isParaInline(e)||dom.isPara(e))return t;var n;if(dom.isInline(t.sc)){var o=dom.listAncestor(t.sc,func.not(dom.isInline));n=list.last(o),dom.isInline(n)||(n=o[o.length-2]||t.sc.childNodes[t.so])}else n=t.sc.childNodes[t.so>0?t.so-1:0];var s=dom.listPrev(n,dom.isParaInline).reverse();if(s=s.concat(dom.listNext(n.nextSibling,dom.isParaInline)),s.length){var r=dom.wrap(list.head(s),"p");dom.appendChildNodes(r,list.tail(s))}return this.normalize()},this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),i=dom.splitPoint(t.getStartPoint(),dom.isInline(e));return i.rightNode?i.rightNode.parentNode.insertBefore(e,i.rightNode):i.container.appendChild(e),e},this.pasteHTML=function(e){var t=$("<div></div>").html(e)[0],i=list.from(t.childNodes),n=this.wrapBodyInlineWithPara().deleteContents();return i.reverse().map(function(e){return n.insertNode(e)}).reverse()},this.toString=function(){var e=r();return agent.isW3CRangeSupport?e.toString():e.text},this.getWordRange=function(e){var t=this.getEndPoint();if(!dom.isCharPoint(t))return this;var n=dom.prevPointUntil(t,function(e){return!dom.isCharPoint(e)});return e&&(t=dom.nextPointUntil(t,function(e){return!dom.isCharPoint(e)})),new i(n.node,n.offset,t.node,t.offset)},this.bookmark=function(t){return{s:{path:dom.makeOffsetPath(t,e),offset:n},e:{path:dom.makeOffsetPath(t,o),offset:s}}},this.paraBookmark=function(t){return{s:{path:list.tail(dom.makeOffsetPath(list.head(t),e)),offset:n},e:{path:list.tail(dom.makeOffsetPath(list.last(t),o)),offset:s}}},this.getClientRects=function(){var e=r();return e.getClientRects()}};return{create:function(e,t,n,o){if(4===arguments.length)return new i(e,t,n,o);
if(2===arguments.length)return n=e,o=t,new i(e,t,n,o);var s=this.createFromSelection();return s||1!==arguments.length?s:(s=this.createFromNode(arguments[0]),s.collapse(dom.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var t,n,o,s;if(agent.isW3CRangeSupport){var r=document.getSelection();if(!r||0===r.rangeCount)return null;if(dom.isBody(r.anchorNode))return null;var a=r.getRangeAt(0);t=a.startContainer,n=a.startOffset,o=a.endContainer,s=a.endOffset}else{var l=document.selection.createRange(),c=l.duplicate();c.collapse(!1);var u=l;u.collapse(!0);var h=e(u,!0),d=e(c,!1);dom.isText(h.node)&&dom.isLeftEdgePoint(h)&&dom.isTextNode(d.node)&&dom.isRightEdgePoint(d)&&d.node.nextSibling===h.node&&(h=d),t=h.cont,n=h.offset,o=d.cont,s=d.offset}return new i(t,n,o,s)},createFromNode:function(e){var t=e,i=0,n=e,o=dom.nodeLength(n);return dom.isVoid(t)&&(i=dom.listPrev(t).length-1,t=t.parentNode),dom.isBR(n)?(o=dom.listPrev(n).length-1,n=n.parentNode):dom.isVoid(n)&&(o=dom.listPrev(n).length,n=n.parentNode),this.create(t,i,n,o)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=dom.fromOffsetPath(e,t.s.path),o=t.s.offset,s=dom.fromOffsetPath(e,t.e.path),r=t.e.offset;return new i(n,o,s,r)},createFromParaBookmark:function(e,t){var n=e.s.offset,o=e.e.offset,s=dom.fromOffsetPath(list.head(t),e.s.path),r=dom.fromOffsetPath(list.last(t),e.e.path);return new i(s,n,r,o)}}}(),async=function(){var e=function(e){return $.Deferred(function(t){$.extend(new FileReader,{onload:function(e){var i=e.target.result;t.resolve(i)},onerror:function(){t.reject(this)}}).readAsDataURL(e)}).promise()},t=function(e){return $.Deferred(function(t){var i=$("<img>");i.one("load",function(){i.off("error abort"),t.resolve(i)}).one("error abort",function(){i.off("load").detach(),t.reject(i)}).css({display:"none"}).appendTo(document.body).attr("src",e)}).promise()};return{readFileAsDataURL:e,createImage:t}}(),History=function(e){var t=[],i=-1,n=e[0],o=function(){var t=range.create(n),i={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:e.html(),bookmark:t?t.bookmark(n):i}},s=function(t){null!==t.contents&&e.html(t.contents),null!==t.bookmark&&range.createFromBookmark(n,t.bookmark).select()};this.rewind=function(){e.html()!==t[i].contents&&this.recordUndo(),i=0,s(t[i])},this.reset=function(){t=[],i=-1,e.html(""),this.recordUndo()},this.undo=function(){e.html()!==t[i].contents&&this.recordUndo(),i>0&&(i--,s(t[i]))},this.redo=function(){t.length-1>i&&(i++,s(t[i]))},this.recordUndo=function(){i++,t.length>i&&(t=t.slice(0,i)),t.push(o())}},Style=function(){var e=function(e,t){if(agent.jqueryVersion<1.9){var i={};return $.each(t,function(t,n){i[n]=e.css(n)}),i}return e.css.call(e,t)};this.fromNode=function(t){var i=["font-family","font-size","text-align","list-style-type","line-height"],n=e(t,i)||{};return n["font-size"]=parseInt(n["font-size"],10),n},this.stylePara=function(e,t){$.each(e.nodes(dom.isPara,{includeAncestor:!0}),function(e,i){$(i).css(t)})},this.styleNodes=function(e,t){e=e.splitText();var i=t&&t.nodeName||"SPAN",n=!(!t||!t.expandClosestSibling),o=!(!t||!t.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(dom.create(i))];var s=dom.makePredByNodeName(i),r=e.nodes(dom.isText,{fullyContains:!0}).map(function(e){return dom.singleChildAncestor(e,s)||dom.wrap(e,i)});if(n){if(o){var a=e.nodes();s=func.and(s,function(e){return list.contains(a,e)})}return r.map(function(e){var t=dom.withClosestSiblings(e,s),i=list.head(t),n=list.tail(t);return $.each(n,function(e,t){dom.appendChildNodes(i,t.childNodes),dom.remove(t)}),list.head(t)})}return r},this.current=function(e){var t=$(dom.isElement(e.sc)?e.sc:e.sc.parentNode),i=this.fromNode(t);try{i=$.extend(i,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal"})}catch(n){}if(e.isOnList()){var o=["circle","disc","disc-leading-zero","square"],s=$.inArray(i["list-style-type"],o)>-1;i["list-style"]=s?"unordered":"ordered"}else i["list-style"]="none";var r=dom.ancestor(e.sc,dom.isPara);if(r&&r.style["line-height"])i["line-height"]=r.style.lineHeight;else{var a=parseInt(i["line-height"],10)/parseInt(i["font-size"],10);i["line-height"]=a.toFixed(1)}return i.anchor=e.isOnAnchor()&&dom.ancestor(e.sc,dom.isAnchor),i.ancestors=dom.listAncestor(e.sc,dom.isEditable),i.range=e,i}},Bullet=function(){var e=this;this.insertOrderedList=function(e){this.toggleList("OL",e)},this.insertUnorderedList=function(e){this.toggleList("UL",e)},this.indent=function(e){var t=this,i=range.create(e).wrapBodyInlineWithPara(),n=i.nodes(dom.isPara,{includeAncestor:!0}),o=list.clusterBy(n,func.peq2("parentNode"));$.each(o,function(e,i){var n=list.head(i);dom.isLi(n)?t.wrapList(i,n.parentNode.nodeName):$.each(i,function(e,t){$(t).css("marginLeft",function(e,t){return(parseInt(t,10)||0)+25})})}),i.select()},this.outdent=function(e){var t=this,i=range.create(e).wrapBodyInlineWithPara(),n=i.nodes(dom.isPara,{includeAncestor:!0}),o=list.clusterBy(n,func.peq2("parentNode"));$.each(o,function(e,i){var n=list.head(i);dom.isLi(n)?t.releaseList([i]):$.each(i,function(e,t){$(t).css("marginLeft",function(e,t){return t=parseInt(t,10)||0,t>25?t-25:""})})}),i.select()},this.toggleList=function(t,i){var n=range.create(i).wrapBodyInlineWithPara(),o=n.nodes(dom.isPara,{includeAncestor:!0}),s=n.paraBookmark(o),r=list.clusterBy(o,func.peq2("parentNode"));if(list.find(o,dom.isPurePara)){var a=[];$.each(r,function(i,n){a=a.concat(e.wrapList(n,t))}),o=a}else{var l=n.nodes(dom.isList,{includeAncestor:!0}).filter(function(e){return!$.nodeName(e,t)});l.length?$.each(l,function(e,i){dom.replace(i,t)}):o=this.releaseList(r,!0)}range.createFromParaBookmark(s,o).select()},this.wrapList=function(e,t){var i=list.head(e),n=list.last(e),o=dom.isList(i.previousSibling)&&i.previousSibling,s=dom.isList(n.nextSibling)&&n.nextSibling,r=o||dom.insertAfter(dom.create(t||"UL"),n);return e=e.map(function(e){return dom.isPurePara(e)?dom.replace(e,"LI"):e}),dom.appendChildNodes(r,e),s&&(dom.appendChildNodes(r,list.from(s.childNodes)),dom.remove(s)),e},this.releaseList=function(e,t){var i=[];return $.each(e,function(e,n){var o=list.head(n),s=list.last(n),r=t?dom.lastAncestor(o,dom.isList):o.parentNode,a=r.childNodes.length>1?dom.splitTree(r,{node:s.parentNode,offset:dom.position(s)+1},{isSkipPaddingBlankHTML:!0}):null,l=dom.splitTree(r,{node:o.parentNode,offset:dom.position(o)},{isSkipPaddingBlankHTML:!0});n=t?dom.listDescendant(l,dom.isLi):list.from(l.childNodes).filter(dom.isLi),(t||!dom.isList(r.parentNode))&&(n=n.map(function(e){return dom.replace(e,"P")})),$.each(list.from(n).reverse(),function(e,t){dom.insertAfter(t,r)});var c=list.compact([r,l,a]);$.each(c,function(e,t){var i=[t].concat(dom.listDescendant(t,dom.isList));$.each(i.reverse(),function(e,t){dom.nodeLength(t)||dom.remove(t,!0)})}),i=i.concat(n)}),i}},Typing=function(){var e=new Bullet;this.insertTab=function(e,t){var i=dom.createText(new Array(t+1).join(dom.NBSP_CHAR));e=e.deleteContents(),e.insertNode(i,!0),e=range.create(i,t),e.select()},this.insertParagraph=function(t){var i=range.create(t);i=i.deleteContents(),i=i.wrapBodyInlineWithPara();var n,o=dom.ancestor(i.sc,dom.isPara);if(o){if(dom.isEmpty(o)&&dom.isLi(o))return void e.toggleList(o.parentNode.nodeName);if(dom.isEmpty(o)&&dom.isPara(o)&&dom.isBlockquote(o.parentNode))dom.insertAfter(o,o.parentNode),n=o;else{n=dom.splitTree(o,i.getStartPoint());var s=dom.listDescendant(o,dom.isEmptyAnchor);s=s.concat(dom.listDescendant(n,dom.isEmptyAnchor)),$.each(s,function(e,t){dom.remove(t)}),(dom.isHeading(n)||dom.isPre(n))&&dom.isEmpty(n)&&(n=dom.replace(n,"p"))}}else{var r=i.sc.childNodes[i.so];n=$(dom.emptyPara)[0],r?i.sc.insertBefore(n,r):i.sc.appendChild(n)}range.create(n,0).normalize().select().scrollIntoView(t)}},Table=function(){this.tab=function(e,t){var i=dom.ancestor(e.commonAncestor(),dom.isCell),n=dom.ancestor(i,dom.isTable),o=dom.listDescendant(n,dom.isCell),s=list[t?"prev":"next"](o,i);s&&range.create(s,0).select()},this.createTable=function(e,t,i){for(var n,o=[],s=0;e>s;s++)o.push("<td>"+dom.blank+"</td>");n=o.join("");for(var r,a=[],l=0;t>l;l++)a.push("<tr>"+n+"</tr>");r=a.join("");var c=$("<table>"+r+"</table>");return i&&i.tableClassName&&c.addClass(i.tableClassName),c[0]}},KEY_BOGUS="bogus",Editor=function(e){var t=this,i=e.layoutInfo.note,n=e.layoutInfo.editor,o=e.layoutInfo.editable,s=e.options,r=s.langInfo,a=o[0],l=null,c=new Style,u=new Table,h=new Typing,d=new Bullet,f=new History(o);this.initialize=function(){o.on("keydown",function(i){i.keyCode===key.code.ENTER&&e.triggerEvent("enter",i),e.triggerEvent("keydown",i),i.isDefaultPrevented()||(s.shortcuts?t.handleKeyMap(i):t.preventDefaultEditableShortCuts(i))}).on("keyup",function(t){e.triggerEvent("keyup",t)}).on("focus",function(t){e.triggerEvent("focus",t)}).on("blur",function(t){e.triggerEvent("blur",t)}).on("mousedown",function(t){e.triggerEvent("mousedown",t)}).on("mouseup",function(t){e.triggerEvent("mouseup",t)}).on("scroll",function(t){e.triggerEvent("scroll",t)}).on("paste",function(t){e.triggerEvent("paste",t)}),o.html(dom.html(i)||dom.emptyPara);var r=agent.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";o.on(r,func.debounce(function(){e.triggerEvent("change",o.html())},250)),n.on("focusin",function(t){e.triggerEvent("focusin",t)}).on("focusout",function(t){e.triggerEvent("focusout",t)}),s.airMode||(s.width&&n.outerWidth(s.width),s.height&&o.outerHeight(s.height),s.maxHeight&&o.css("max-height",s.maxHeight),s.minHeight&&o.css("min-height",s.minHeight)),f.recordUndo()},this.destroy=function(){o.off()},this.handleKeyMap=function(t){var i=s.keyMap[agent.isMac?"mac":"pc"],n=[];t.metaKey&&n.push("CMD"),t.ctrlKey&&!t.altKey&&n.push("CTRL"),t.shiftKey&&n.push("SHIFT");var o=key.nameFromCode[t.keyCode];o&&n.push(o);var r=i[n.join("+")];r?(t.preventDefault(),e.invoke(r)):key.isEdit(t.keyCode)&&this.afterCommand()},this.preventDefaultEditableShortCuts=function(e){(e.ctrlKey||e.metaKey)&&list.contains([66,73,85],e.keyCode)&&e.preventDefault()},this.createRange=function(){return this.focus(),range.create(a)},this.saveRange=function(e){l=this.createRange(),e&&l.collapse().select()},this.restoreRange=function(){l&&(l.select(),this.focus())},this.saveTarget=function(e){o.data("target",e)},this.clearTarget=function(){o.removeData("target")},this.restoreTarget=function(){return o.data("target")},this.currentStyle=function(){var e=range.create();return e&&(e=e.normalize()),e?c.current(e):c.fromNode(o)},this.styleFromNode=function(e){return c.fromNode(e)},this.undo=function(){e.triggerEvent("before.command",o.html()),f.undo(),e.triggerEvent("change",o.html())},e.memo("help.undo",r.help.undo),this.redo=function(){e.triggerEvent("before.command",o.html()),f.redo(),e.triggerEvent("change",o.html())},e.memo("help.redo",r.help.redo);for(var p=this.beforeCommand=function(){e.triggerEvent("before.command",o.html()),t.focus()},m=this.afterCommand=function(t){f.recordUndo(),t||e.triggerEvent("change",o.html())},g=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],v=0,b=g.length;b>v;v++)this[g[v]]=function(e){return function(t){p(),document.execCommand(e,!1,t),m(!0)}}(g[v]),e.memo("help."+g[v],r.help[g[v]]);this.tab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()?u.tab(e):(p(),h.insertTab(e,s.tabSize),m())},e.memo("help.tab",r.help.tab),this.untab=function(){var e=this.createRange();e.isCollapsed()&&e.isOnCell()&&u.tab(e,!0)},e.memo("help.untab",r.help.untab),this.wrapCommand=function(e){return function(){p(),e.apply(t,arguments),m()}},this.insertParagraph=this.wrapCommand(function(){h.insertParagraph(a)}),e.memo("help.insertParagraph",r.help.insertParagraph),this.insertOrderedList=this.wrapCommand(function(){d.insertOrderedList(a)}),e.memo("help.insertOrderedList",r.help.insertOrderedList),this.insertUnorderedList=this.wrapCommand(function(){d.insertUnorderedList(a)}),e.memo("help.insertUnorderedList",r.help.insertUnorderedList),this.indent=this.wrapCommand(function(){d.indent(a)}),e.memo("help.indent",r.help.indent),this.outdent=this.wrapCommand(function(){d.outdent(a)}),e.memo("help.outdent",r.help.outdent),this.insertImage=function(t,i){return async.createImage(t,i).then(function(e){p(),"function"==typeof i?i(e):("string"==typeof i&&e.attr("data-filename",i),e.css("width",Math.min(o.width(),e.width()))),e.show(),range.create(a).insertNode(e[0]),range.createFromNodeAfter(e[0]).select(),m()}).fail(function(t){e.triggerEvent("image.upload.error",t)})},this.insertImages=function(i){$.each(i,function(i,n){var o=n.name;s.maximumImageFileSize&&s.maximumImageFileSize<n.size?e.triggerEvent("image.upload.error",r.image.maximumFileSizeError):async.readFileAsDataURL(n).then(function(e){return t.insertImage(e,o)}).fail(function(){e.triggerEvent("image.upload.error")})})},this.insertImagesOrCallback=function(t){var i=s.callbacks;i.onImageUpload?e.triggerEvent("image.upload",t):this.insertImages(t)},this.insertNode=this.wrapCommand(function(e){var t=this.createRange();t.insertNode(e),range.createFromNodeAfter(e).select()}),this.insertText=this.wrapCommand(function(e){var t=this.createRange(),i=t.insertNode(dom.createText(e));range.create(i,dom.nodeLength(i)).select()}),this.getSelectedText=function(){var e=this.createRange();return e.isOnAnchor()&&(e=range.createFromNode(dom.ancestor(e.sc,dom.isAnchor))),e.toString()},this.pasteHTML=this.wrapCommand(function(e){var t=this.createRange().pasteHTML(e);range.createFromNodeAfter(list.last(t)).select()}),this.formatBlock=this.wrapCommand(function(e){e=agent.isMSIE?"<"+e+">":e,document.execCommand("FormatBlock",!1,e)}),this.formatPara=function(){this.formatBlock("P")},e.memo("help.formatPara",r.help.formatPara);for(var v=1;6>=v;v++)this["formatH"+v]=function(e){return function(){this.formatBlock("H"+e)}}(v),e.memo("help.formatH"+v,r.help["formatH"+v]);this.fontSize=function(e){var t=this.createRange();if(t&&t.isCollapsed()){var i=c.styleNodes(t),n=list.head(i);$(i).css({"font-size":e+"px"}),n&&!dom.nodeLength(n)&&(n.innerHTML=dom.ZERO_WIDTH_NBSP_CHAR,range.createFromNodeAfter(n.firstChild).select(),o.data(KEY_BOGUS,n))}else p(),$(c.styleNodes(t)).css({"font-size":e+"px"}),m()},this.insertHorizontalRule=this.wrapCommand(function(){var e=this.createRange().insertNode(dom.create("HR"));e.nextSibling&&range.create(e.nextSibling,0).normalize().select()}),e.memo("help.insertHorizontalRule",r.help.insertHorizontalRule),this.removeBogus=function(){var e=o.data(KEY_BOGUS);if(e){var t=list.find(list.from(e.childNodes),dom.isText),i=t.nodeValue.indexOf(dom.ZERO_WIDTH_NBSP_CHAR);-1!==i&&t.deleteData(i,1),dom.isEmpty(e)&&dom.remove(e),o.removeData(KEY_BOGUS)}},this.lineHeight=this.wrapCommand(function(e){c.stylePara(this.createRange(),{lineHeight:e})}),this.unlink=function(){var e=this.createRange();if(e.isOnAnchor()){var t=dom.ancestor(e.sc,dom.isAnchor);e=range.createFromNode(t),e.select(),p(),document.execCommand("unlink"),m()}},this.createLink=this.wrapCommand(function(e){var t=e.url,i=e.text,n=e.isNewWindow,o=e.range||this.createRange(),r=o.toString()!==i;"string"==typeof t&&(t=t.trim()),s.onCreateLink&&(t=s.onCreateLink(t));var a=[];if(r){o=o.deleteContents();var l=o.insertNode($("<A>"+i+"</A>")[0]);a.push(l)}else a=c.styleNodes(o,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});$.each(a,function(e,i){t=/^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(t)?t:"http://"+t,$(i).attr("href",t),n?$(i).attr("target","_blank"):$(i).removeAttr("target")});var u=range.createFromNodeBefore(list.head(a)),h=u.getStartPoint(),d=range.createFromNodeAfter(list.last(a)),f=d.getEndPoint();range.create(h.node,h.offset,f.node,f.offset).select()}),this.getLinkInfo=function(){var e=this.createRange().expand(dom.isAnchor),t=$(list.head(e.nodes(dom.isAnchor)));return{range:e,text:e.toString(),isNewWindow:t.length?"_blank"===t.attr("target"):!1,url:t.length?t.attr("href"):""}},this.color=this.wrapCommand(function(e){var t=e.foreColor,i=e.backColor;t&&document.execCommand("foreColor",!1,t),i&&document.execCommand("backColor",!1,i)}),this.insertTable=this.wrapCommand(function(e){var t=e.split("x"),i=this.createRange().deleteContents();i.insertNode(u.createTable(t[0],t[1],s))}),this.floatMe=this.wrapCommand(function(e){var t=$(this.restoreTarget());t.css("float",e)}),this.resize=this.wrapCommand(function(e){var t=$(this.restoreTarget());t.css({width:100*e+"%",height:""})}),this.resizeTo=function(e,t,i){var n;if(i){var o=e.y/e.x,s=t.data("ratio");n={width:s>o?e.x:e.y/s,height:s>o?e.x*s:e.y}}else n={width:e.x,height:e.y};t.css(n)},this.removeMedia=this.wrapCommand(function(){var t=$(this.restoreTarget()).detach();e.triggerEvent("media.delete",t,o)}),this.hasFocus=function(){return o.is(":focus")},this.focus=function(){this.hasFocus()||o.focus()},this.isEmpty=function(){return dom.isEmpty(o[0])||dom.emptyPara===o.html()},this.empty=function(){e.invoke("code",dom.emptyPara)}},Clipboard=function(e){var t=this,i=e.layoutInfo.editable;this.events={"summernote.keydown":function(i,n){t.needKeydownHook()&&(n.ctrlKey||n.metaKey)&&n.keyCode===key.code.V&&(e.invoke("editor.saveRange"),t.$paste.focus(),setTimeout(function(){t.pasteByHook()},0))}},this.needKeydownHook=function(){return agent.isMSIE&&agent.browserVersion>10||agent.isFF},this.initialize=function(){this.needKeydownHook()?(this.$paste=$('<div tabindex="-1" />').attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),i.before(this.$paste),this.$paste.on("paste",function(t){e.triggerEvent("paste",t)})):i.on("paste",this.pasteByEvent)},this.destroy=function(){this.needKeydownHook()&&(this.$paste.remove(),this.$paste=null)},this.pasteByHook=function(){var t=this.$paste[0].firstChild;if(dom.isImg(t)){for(var i=t.src,n=atob(i.split(",")[1]),o=new Uint8Array(n.length),s=0;s<n.length;s++)o[s]=n.charCodeAt(s);var r=new Blob([o],{type:"image/png"});r.name="clipboard.png",e.invoke("editor.restoreRange"),e.invoke("editor.focus"),e.invoke("editor.insertImagesOrCallback",[r])}else{var a=$("<div />").html(this.$paste.html()).html();e.invoke("editor.restoreRange"),e.invoke("editor.focus"),a&&e.invoke("editor.pasteHTML",a)}this.$paste.empty()},this.pasteByEvent=function(t){var i=t.originalEvent.clipboardData;if(i&&i.items&&i.items.length){var n=list.head(i.items);"file"===n.kind&&-1!==n.type.indexOf("image/")&&e.invoke("editor.insertImagesOrCallback",[n.getAsFile()]),e.invoke("editor.afterCommand")}}},Dropzone=function(e){var t=$(document),i=e.layoutInfo.editor,n=e.layoutInfo.editable,o=e.options,s=o.langInfo,r={},a=$(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(i),l=function(){Object.keys(r).forEach(function(e){t.off(e.substr(2).toLowerCase(),r[e])}),r={}};this.initialize=function(){o.disableDragAndDrop?(r.onDrop=function(e){e.preventDefault()},t.on("drop",r.onDrop)):this.attachDragAndDropEvent()},this.attachDragAndDropEvent=function(){var o=$(),l=a.find(".note-dropzone-message");r.onDragenter=function(t){var n=e.invoke("codeview.isActivated"),r=i.width()>0&&i.height()>0;n||o.length||!r||(i.addClass("dragover"),a.width(i.width()),a.height(i.height()),l.text(s.image.dragImageHere)),o=o.add(t.target)},r.onDragleave=function(e){o=o.not(e.target),o.length||i.removeClass("dragover")},r.onDrop=function(){o=$(),i.removeClass("dragover")},t.on("dragenter",r.onDragenter).on("dragleave",r.onDragleave).on("drop",r.onDrop),a.on("dragenter",function(){a.addClass("hover"),l.text(s.image.dropImage)}).on("dragleave",function(){a.removeClass("hover"),l.text(s.image.dragImageHere)}),a.on("drop",function(t){var i=t.originalEvent.dataTransfer;i&&i.files&&i.files.length?(t.preventDefault(),n.focus(),e.invoke("editor.insertImagesOrCallback",i.files)):$.each(i.types,function(t,n){var o=i.getData(n);n.toLowerCase().indexOf("text")>-1?e.invoke("editor.pasteHTML",o):$(o).each(function(){e.invoke("editor.insertNode",this)})})}).on("dragover",!1)},this.destroy=function(){l()}},CodeMirror;agent.hasCodeMirror&&(agent.isSupportAmd?require(["codemirror"],function(e){CodeMirror=e}):CodeMirror=window.CodeMirror);var Codeview=function(e){var t=e.layoutInfo.editor,i=e.layoutInfo.editable,n=e.layoutInfo.codable,o=e.options;this.sync=function(){var e=this.isActivated();e&&agent.hasCodeMirror&&n.data("cmEditor").save()},this.isActivated=function(){return t.hasClass("codeview")},this.toggle=function(){this.isActivated()?this.deactivate():this.activate(),e.triggerEvent("codeview.toggled")},this.activate=function(){if(n.val(dom.html(i,o.prettifyHtml)),n.height(i.height()),e.invoke("toolbar.updateCodeview",!0),t.addClass("codeview"),n.focus(),agent.hasCodeMirror){var s=CodeMirror.fromTextArea(n[0],o.codemirror);if(o.codemirror.tern){var r=new CodeMirror.TernServer(o.codemirror.tern);s.ternServer=r,s.on("cursorActivity",function(e){r.updateArgHints(e)})}s.setSize(null,i.outerHeight()),n.data("cmEditor",s)}},this.deactivate=function(){if(agent.hasCodeMirror){var s=n.data("cmEditor");n.val(s.getValue()),s.toTextArea()}var r=dom.value(n,o.prettifyHtml)||dom.emptyPara,a=i.html()!==r;i.html(r),i.height(o.height?n.height():"auto"),t.removeClass("codeview"),a&&e.triggerEvent("change",i.html(),i),i.focus(),e.invoke("toolbar.updateCodeview",!1)},this.destroy=function(){this.isActivated()&&this.deactivate()}},EDITABLE_PADDING=24,Statusbar=function(e){var t=$(document),i=e.layoutInfo.statusbar,n=e.layoutInfo.editable,o=e.options;this.initialize=function(){o.airMode||o.disableResizeEditor||i.on("mousedown",function(e){e.preventDefault(),e.stopPropagation();var i=n.offset().top-t.scrollTop();t.on("mousemove",function(e){var t=e.clientY-(i+EDITABLE_PADDING);t=o.minheight>0?Math.max(t,o.minheight):t,t=o.maxHeight>0?Math.min(t,o.maxHeight):t,n.height(t)}).one("mouseup",function(){t.off("mousemove")})})},this.destroy=function(){i.off(),i.remove()}},Fullscreen=function(e){var t=e.layoutInfo.editor,i=e.layoutInfo.toolbar,n=e.layoutInfo.editable,o=e.layoutInfo.codable,s=$(window),r=$("html, body");this.toggle=function(){var a=function(e){n.css("height",e.h),o.css("height",e.h),o.data("cmeditor")&&o.data("cmeditor").setsize(null,e.h)};t.toggleClass("fullscreen"),this.isFullscreen()?(n.data("orgHeight",n.css("height")),s.on("resize",function(){a({h:s.height()-i.outerHeight()})}).trigger("resize"),r.css("overflow","hidden")):(s.off("resize"),a({h:n.data("orgHeight")}),r.css("overflow","visible")),e.invoke("toolbar.updateFullscreen",this.isFullscreen())},this.isFullscreen=function(){return t.hasClass("fullscreen")}},Handle=function(e){var t=this,i=$(document),n=e.layoutInfo.editingArea,o=e.options;this.events={"summernote.mousedown":function(e,i){t.update(i.target)&&i.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){t.update()}},this.initialize=function(){this.$handle=$(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',o.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',o.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(n),this.$handle.on("mousedown",function(n){if(dom.isControlSizing(n.target)){n.preventDefault(),n.stopPropagation();var o=t.$handle.find(".note-control-selection").data("target"),s=o.offset(),r=i.scrollTop();i.on("mousemove",function(i){e.invoke("editor.resizeTo",{x:i.clientX-s.left,y:i.clientY-(s.top-r)},o,!i.shiftKey),t.update(o[0])}).one("mouseup",function(t){t.preventDefault(),i.off("mousemove"),e.invoke("editor.afterCommand")}),o.data("ratio")||o.data("ratio",o.height()/o.width())}})},this.destroy=function(){this.$handle.remove()},this.update=function(t){var i=dom.isImg(t),n=this.$handle.find(".note-control-selection");if(e.invoke("imagePopover.update",t),i){var o=$(t),s=o.position(),r={w:o.outerWidth(!0),h:o.outerHeight(!0)};n.css({display:"block",left:s.left,top:s.top,width:r.w,height:r.h}).data("target",o);var a=r.w+"x"+r.h;n.find(".note-control-selection-info").text(a),e.invoke("editor.saveTarget",t)}else this.hide();return i},this.hide=function(){e.invoke("editor.clearTarget"),this.$handle.children().hide()}},AutoLink=function(e){var t=this,i="http://",n=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i;this.events={"summernote.keyup":function(e,i){i.isDefaultPrevented()||t.handleKeyup(i)},"summernote.keydown":function(e,i){t.handleKeydown(i)}},this.initialize=function(){this.lastWordRange=null},this.destroy=function(){this.lastWordRange=null},this.replace=function(){if(this.lastWordRange){var t=this.lastWordRange.toString(),o=t.match(n);if(o&&(o[1]||o[2])){var s=o[1]?t:i+t,r=$("<a />").html(t).attr("href",s)[0];this.lastWordRange.insertNode(r),this.lastWordRange=null,e.invoke("editor.focus")}}},this.handleKeydown=function(t){if(list.contains([key.code.ENTER,key.code.SPACE],t.keyCode)){var i=e.invoke("editor.createRange").getWordRange();this.lastWordRange=i}},this.handleKeyup=function(e){list.contains([key.code.ENTER,key.code.SPACE],e.keyCode)&&this.replace()}},AutoSync=function(e){var t=e.layoutInfo.note;this.events={"summernote.change":function(){t.val(e.invoke("code"))}},this.shouldInitialize=function(){return dom.isTextarea(t[0])}},Placeholder=function(e){var t=this,i=e.layoutInfo.editingArea,n=e.options;this.events={"summernote.init summernote.change":function(){t.update()},"summernote.codeview.toggled":function(){t.update()}},this.shouldInitialize=function(){return!!n.placeholder},this.initialize=function(){this.$placeholder=$('<div class="note-placeholder">'),this.$placeholder.on("click",function(){e.invoke("focus")}).text(n.placeholder).prependTo(i)},this.destroy=function(){this.$placeholder.remove()},this.update=function(){var t=!e.invoke("codeview.isActivated")&&e.invoke("editor.isEmpty");this.$placeholder.toggle(t)}},Buttons=function(e){var t=this,i=$.summernote.ui,n=e.layoutInfo.toolbar,o=e.options,s=o.langInfo,r=func.invertObject(o.keyMap[agent.isMac?"mac":"pc"]),a=this.representShortcut=function(e){var t=r[e];return o.shortcuts&&t?(agent.isMac&&(t=t.replace("CMD","⌘").replace("SHIFT","⇧")),t=t.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+t+")"):""};this.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.fontInstalledMap={}},this.destroy=function(){delete this.fontInstalledMap},this.isFontInstalled=function(e){return t.fontInstalledMap.hasOwnProperty(e)||(t.fontInstalledMap[e]=agent.isFontInstalled(e)||list.contains(o.fontNamesIgnoreCheck,e)),t.fontInstalledMap[e]},this.addToolbarButtons=function(){e.memo("button.style",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.icon(o.icons.magic)+" "+i.icon(o.icons.caret,"span"),tooltip:s.style.style,data:{toggle:"dropdown"}}),i.dropdown({className:"dropdown-style",items:e.options.styleTags,template:function(e){"string"==typeof e&&(e={tag:e,title:s.style.hasOwnProperty(e)?s.style[e]:e});var t=e.tag,i=e.title,n=e.style?' style="'+e.style+'" ':"",o=e.className?' class="'+e.className+'"':"";return"<"+t+n+o+">"+i+"</"+t+">"},click:e.createInvokeHandler("editor.formatBlock")})]).render()}),e.memo("button.bold",function(){return i.button({className:"note-btn-bold",contents:i.icon(o.icons.bold),tooltip:s.font.bold+a("bold"),click:e.createInvokeHandler("editor.bold")}).render()}),e.memo("button.italic",function(){return i.button({className:"note-btn-italic",contents:i.icon(o.icons.italic),tooltip:s.font.italic+a("italic"),click:e.createInvokeHandler("editor.italic")}).render()}),e.memo("button.underline",function(){return i.button({className:"note-btn-underline",contents:i.icon(o.icons.underline),tooltip:s.font.underline+a("underline"),click:e.createInvokeHandler("editor.underline")}).render()}),e.memo("button.clear",function(){return i.button({contents:i.icon(o.icons.eraser),tooltip:s.font.clear+a("removeFormat"),click:e.createInvokeHandler("editor.removeFormat")}).render()}),e.memo("button.strikethrough",function(){return i.button({className:"note-btn-strikethrough",contents:i.icon(o.icons.strikethrough),tooltip:s.font.strikethrough+a("strikethrough"),click:e.createInvokeHandler("editor.strikethrough")}).render()}),e.memo("button.superscript",function(){return i.button({className:"note-btn-superscript",contents:i.icon(o.icons.superscript),tooltip:s.font.superscript,click:e.createInvokeHandler("editor.superscript")}).render()}),e.memo("button.subscript",function(){return i.button({className:"note-btn-subscript",contents:i.icon(o.icons.subscript),tooltip:s.font.subscript,click:e.createInvokeHandler("editor.subscript")}).render()}),e.memo("button.fontname",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:'<span class="note-current-fontname"/> '+i.icon(o.icons.caret,"span"),tooltip:s.font.name,data:{toggle:"dropdown"}}),i.dropdownCheck({className:"dropdown-fontname",checkClassName:o.icons.menuCheck,items:o.fontNames.filter(t.isFontInstalled),template:function(e){return'<span style="font-family:'+e+'">'+e+"</span>"},click:e.createInvokeHandler("editor.fontName")})]).render()}),e.memo("button.fontsize",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:'<span class="note-current-fontsize"/>'+i.icon(o.icons.caret,"span"),tooltip:s.font.size,data:{toggle:"dropdown"}}),i.dropdownCheck({className:"dropdown-fontsize",checkClassName:o.icons.menuCheck,items:o.fontSizes,click:e.createInvokeHandler("editor.fontSize")})]).render()}),e.memo("button.color",function(){return i.buttonGroup({className:"note-color",children:[i.button({className:"note-current-color-button",contents:i.icon(o.icons.font+" note-recent-color"),tooltip:s.color.recent,click:function(t){var i=$(t.currentTarget);e.invoke("editor.color",{backColor:i.attr("data-backColor"),foreColor:i.attr("data-foreColor")})},callback:function(e){var t=e.find(".note-recent-color");t.css("background-color","#FFFF00"),e.attr("data-backColor","#FFFF00")}}),i.button({className:"dropdown-toggle",contents:i.icon(o.icons.caret,"span"),tooltip:s.color.more,data:{toggle:"dropdown"}}),i.dropdown({items:["<li>",'<div class="btn-group">','  <div class="note-palette-title">'+s.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="backColor" data-value="inherit">',s.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"</div>",'<div class="btn-group">','  <div class="note-palette-title">'+s.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-default" data-event="removeFormat" data-value="foreColor">',s.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"</div>","</li>"].join(""),callback:function(e){e.find(".note-holder").each(function(){var e=$(this);e.append(i.palette({colors:o.colors,eventName:e.data("event")}).render())})},click:function(t){var i=$(t.target),n=i.data("event"),o=i.data("value");if(n&&o){var s="backColor"===n?"background-color":"color",r=i.closest(".note-color").find(".note-recent-color"),a=i.closest(".note-color").find(".note-current-color-button");
r.css(s,o),a.attr("data-"+n,o),e.invoke("editor."+n,o)}}})]}).render()}),e.memo("button.ul",function(){return i.button({contents:i.icon(o.icons.unorderedlist),tooltip:s.lists.unordered+a("insertUnorderedList"),click:e.createInvokeHandler("editor.insertUnorderedList")}).render()}),e.memo("button.ol",function(){return i.button({contents:i.icon(o.icons.orderedlist),tooltip:s.lists.ordered+a("insertOrderedList"),click:e.createInvokeHandler("editor.insertOrderedList")}).render()});var n=i.button({contents:i.icon(o.icons.alignLeft),tooltip:s.paragraph.left+a("justifyLeft"),click:e.createInvokeHandler("editor.justifyLeft")}),r=i.button({contents:i.icon(o.icons.alignCenter),tooltip:s.paragraph.center+a("justifyCenter"),click:e.createInvokeHandler("editor.justifyCenter")}),l=i.button({contents:i.icon(o.icons.alignRight),tooltip:s.paragraph.right+a("justifyRight"),click:e.createInvokeHandler("editor.justifyRight")}),c=i.button({contents:i.icon(o.icons.alignJustify),tooltip:s.paragraph.justify+a("justifyFull"),click:e.createInvokeHandler("editor.justifyFull")}),u=i.button({contents:i.icon(o.icons.outdent),tooltip:s.paragraph.outdent+a("outdent"),click:e.createInvokeHandler("editor.outdent")}),h=i.button({contents:i.icon(o.icons.indent),tooltip:s.paragraph.indent+a("indent"),click:e.createInvokeHandler("editor.indent")});e.memo("button.justifyLeft",func.invoke(n,"render")),e.memo("button.justifyCenter",func.invoke(r,"render")),e.memo("button.justifyRight",func.invoke(l,"render")),e.memo("button.justifyFull",func.invoke(c,"render")),e.memo("button.outdent",func.invoke(u,"render")),e.memo("button.indent",func.invoke(h,"render")),e.memo("button.paragraph",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.icon(o.icons.alignLeft)+" "+i.icon(o.icons.caret,"span"),tooltip:s.paragraph.paragraph,data:{toggle:"dropdown"}}),i.dropdown([i.buttonGroup({className:"note-align",children:[n,r,l,c]}),i.buttonGroup({className:"note-list",children:[u,h]})])]).render()}),e.memo("button.height",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.icon(o.icons.textHeight)+" "+i.icon(o.icons.caret,"span"),tooltip:s.font.height,data:{toggle:"dropdown"}}),i.dropdownCheck({items:o.lineHeights,checkClassName:o.icons.menuCheck,className:"dropdown-line-height",click:e.createInvokeHandler("editor.lineHeight")})]).render()}),e.memo("button.table",function(){return i.buttonGroup([i.button({className:"dropdown-toggle",contents:i.icon(o.icons.table)+" "+i.icon(o.icons.caret,"span"),tooltip:s.table.table,data:{toggle:"dropdown"}}),i.dropdown({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(i){var n=i.find(".note-dimension-picker-mousecatcher");n.css({width:o.insertTableMaxSize.col+"em",height:o.insertTableMaxSize.row+"em"}).mousedown(e.createInvokeHandler("editor.insertTable")).on("mousemove",t.tableMoveHandler)}}).render()}),e.memo("button.link",function(){return i.button({contents:i.icon(o.icons.link),tooltip:s.link.link+a("linkDialog.show"),click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.picture",function(){return i.button({contents:i.icon(o.icons.picture),tooltip:s.image.image,click:e.createInvokeHandler("imageDialog.show")}).render()}),e.memo("button.video",function(){return i.button({contents:i.icon(o.icons.video),tooltip:s.video.video,click:e.createInvokeHandler("videoDialog.show")}).render()}),e.memo("button.hr",function(){return i.button({contents:i.icon(o.icons.minus),tooltip:s.hr.insert+a("insertHorizontalRule"),click:e.createInvokeHandler("editor.insertHorizontalRule")}).render()}),e.memo("button.fullscreen",function(){return i.button({className:"btn-fullscreen",contents:i.icon(o.icons.arrowsAlt),tooltip:s.options.fullscreen,click:e.createInvokeHandler("fullscreen.toggle")}).render()}),e.memo("button.codeview",function(){return i.button({className:"btn-codeview",contents:i.icon(o.icons.code),tooltip:s.options.codeview,click:e.createInvokeHandler("codeview.toggle")}).render()}),e.memo("button.redo",function(){return i.button({contents:i.icon(o.icons.redo),tooltip:s.history.redo+a("redo"),click:e.createInvokeHandler("editor.redo")}).render()}),e.memo("button.undo",function(){return i.button({contents:i.icon(o.icons.undo),tooltip:s.history.undo+a("undo"),click:e.createInvokeHandler("editor.undo")}).render()}),e.memo("button.help",function(){return i.button({contents:i.icon(o.icons.question),tooltip:s.options.help,click:e.createInvokeHandler("helpDialog.show")}).render()})},this.addImagePopoverButtons=function(){e.memo("button.imageSize100",function(){return i.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:s.image.resizeFull,click:e.createInvokeHandler("editor.resize","1")}).render()}),e.memo("button.imageSize50",function(){return i.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:s.image.resizeHalf,click:e.createInvokeHandler("editor.resize","0.5")}).render()}),e.memo("button.imageSize25",function(){return i.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:s.image.resizeQuarter,click:e.createInvokeHandler("editor.resize","0.25")}).render()}),e.memo("button.floatLeft",function(){return i.button({contents:i.icon(o.icons.alignLeft),tooltip:s.image.floatLeft,click:e.createInvokeHandler("editor.floatMe","left")}).render()}),e.memo("button.floatRight",function(){return i.button({contents:i.icon(o.icons.alignRight),tooltip:s.image.floatRight,click:e.createInvokeHandler("editor.floatMe","right")}).render()}),e.memo("button.floatNone",function(){return i.button({contents:i.icon(o.icons.alignJustify),tooltip:s.image.floatNone,click:e.createInvokeHandler("editor.floatMe","none")}).render()}),e.memo("button.removeMedia",function(){return i.button({contents:i.icon(o.icons.trash),tooltip:s.image.remove,click:e.createInvokeHandler("editor.removeMedia")}).render()})},this.addLinkPopoverButtons=function(){e.memo("button.linkDialogShow",function(){return i.button({contents:i.icon(o.icons.link),tooltip:s.link.edit,click:e.createInvokeHandler("linkDialog.show")}).render()}),e.memo("button.unlink",function(){return i.button({contents:i.icon(o.icons.unlink),tooltip:s.link.unlink,click:e.createInvokeHandler("editor.unlink")}).render()})},this.build=function(t,n){for(var o=0,s=n.length;s>o;o++){for(var r=n[o],a=r[0],l=r[1],c=i.buttonGroup({className:"note-"+a}).render(),u=0,h=l.length;h>u;u++){var d=e.memo("button."+l[u]);d&&c.append("function"==typeof d?d(e):d)}c.appendTo(t)}},this.updateCurrentStyle=function(){var i=e.invoke("editor.currentStyle");if(this.updateBtnStates({".note-btn-bold":function(){return"bold"===i["font-bold"]},".note-btn-italic":function(){return"italic"===i["font-italic"]},".note-btn-underline":function(){return"underline"===i["font-underline"]},".note-btn-subscript":function(){return"subscript"===i["font-subscript"]},".note-btn-superscript":function(){return"superscript"===i["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===i["font-strikethrough"]}}),i["font-family"]){var o=i["font-family"].split(",").map(function(e){return e.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),s=list.find(o,t.isFontInstalled);n.find(".dropdown-fontname li a").each(function(){var e=$(this).data("value")+""==s+"";this.className=e?"checked":""}),n.find(".note-current-fontname").text(s)}if(i["font-size"]){var r=i["font-size"];n.find(".dropdown-fontsize li a").each(function(){var e=$(this).data("value")+""==r+"";this.className=e?"checked":""}),n.find(".note-current-fontsize").text(r)}if(i["line-height"]){var a=i["line-height"];n.find(".dropdown-line-height li a").each(function(){var e=$(this).data("value")+""==a+"";this.className=e?"checked":""})}},this.updateBtnStates=function(e){$.each(e,function(e,t){i.toggleBtnActive(n.find(e),t())})},this.tableMoveHandler=function(e){var t,i=18,n=$(e.target.parentNode),s=n.next(),r=n.find(".note-dimension-picker-mousecatcher"),a=n.find(".note-dimension-picker-highlighted"),l=n.find(".note-dimension-picker-unhighlighted");if(void 0===e.offsetX){var c=$(e.target).offset();t={x:e.pageX-c.left,y:e.pageY-c.top}}else t={x:e.offsetX,y:e.offsetY};var u={c:Math.ceil(t.x/i)||1,r:Math.ceil(t.y/i)||1};a.css({width:u.c+"em",height:u.r+"em"}),r.data("value",u.c+"x"+u.r),3<u.c&&u.c<o.insertTableMaxSize.col&&l.css({width:u.c+1+"em"}),3<u.r&&u.r<o.insertTableMaxSize.row&&l.css({height:u.r+1+"em"}),s.html(u.c+" x "+u.r)}},Toolbar=function(e){var t=$.summernote.ui,i=e.layoutInfo.note,n=e.layoutInfo.toolbar,o=e.options;this.shouldInitialize=function(){return!o.airMode},this.initialize=function(){o.toolbar=o.toolbar||[],o.toolbar.length?e.invoke("buttons.build",n,o.toolbar):n.hide(),o.toolbarContainer&&n.appendTo(o.toolbarContainer),i.on("summernote.keyup summernote.mouseup summernote.change",function(){e.invoke("buttons.updateCurrentStyle")}),e.invoke("buttons.updateCurrentStyle")},this.destroy=function(){n.children().remove()},this.updateFullscreen=function(e){t.toggleBtnActive(n.find(".btn-fullscreen"),e)},this.updateCodeview=function(e){t.toggleBtnActive(n.find(".btn-codeview"),e),e?this.deactivate():this.activate()},this.activate=function(e){var i=n.find("button");e||(i=i.not(".btn-codeview")),t.toggleBtn(i,!0)},this.deactivate=function(e){var i=n.find("button");e||(i=i.not(".btn-codeview")),t.toggleBtn(i,!1)}},LinkDialog=function(e){var t=this,i=$.summernote.ui,n=e.layoutInfo.editor,o=e.options,s=o.langInfo;this.initialize=function(){var e=o.dialogsInBody?$(document.body):n,t='<div class="form-group"><label>'+s.link.textToDisplay+'</label><input class="note-link-text form-control" type="text" /></div><div class="form-group"><label>'+s.link.url+'</label><input class="note-link-url form-control" type="text" value="http://" /></div>'+(o.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+s.link.openInNewWindow+"</label></div>"),r='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+s.link.insert+"</button>";this.$dialog=i.dialog({className:"link-dialog",title:s.link.insert,fade:o.dialogsFade,body:t,footer:r}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.toggleLinkBtn=function(e,t,n){i.toggleBtn(e,t.val()&&n.val())},this.showLinkDialog=function(n){return $.Deferred(function(o){var s=t.$dialog.find(".note-link-text"),r=t.$dialog.find(".note-link-url"),a=t.$dialog.find(".note-link-btn"),l=t.$dialog.find("input[type=checkbox]");i.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),n.url||(n.url=n.text),s.val(n.text);var i=function(){t.toggleLinkBtn(a,s,r),n.text=s.val()};s.on("input",i).on("paste",function(){setTimeout(i,0)});var c=function(){t.toggleLinkBtn(a,s,r),n.text||s.val(r.val())};r.on("input",c).on("paste",function(){setTimeout(c,0)}).val(n.url).trigger("focus"),t.toggleLinkBtn(a,s,r),t.bindEnterKey(r,a),t.bindEnterKey(s,a),l.prop("checked",n.isNewWindow),a.one("click",function(e){e.preventDefault(),o.resolve({range:n.range,url:r.val(),text:s.val(),isNewWindow:l.is(":checked")}),t.$dialog.modal("hide")})}),i.onDialogHidden(t.$dialog,function(){s.off("input paste keypress"),r.off("input paste keypress"),a.off("click"),"pending"===o.state()&&o.reject()}),i.showDialog(t.$dialog)}).promise()},this.show=function(){var t=e.invoke("editor.getLinkInfo");e.invoke("editor.saveRange"),this.showLinkDialog(t).then(function(t){e.invoke("editor.restoreRange"),e.invoke("editor.createLink",t)}).fail(function(){e.invoke("editor.restoreRange")})},e.memo("help.linkDialog.show",o.langInfo.help["linkDialog.show"])},LinkPopover=function(e){var t=this,i=$.summernote.ui,n=e.options;this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){t.update()},"summernote.dialog.shown":function(){t.hide()}},this.shouldInitialize=function(){return!list.isEmpty(n.popover.link)},this.initialize=function(){this.$popover=i.popover({className:"note-link-popover",callback:function(e){var t=e.find(".popover-content");t.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,n.popover.link)},this.destroy=function(){this.$popover.remove()},this.update=function(){if(!e.invoke("editor.hasFocus"))return void this.hide();var t=e.invoke("editor.createRange");if(t.isCollapsed()&&t.isOnAnchor()){var i=dom.ancestor(t.sc,dom.isAnchor),n=$(i).attr("href");this.$popover.find("a").attr("href",n).html(n);var o=dom.posFromPlaceholder(i);this.$popover.css({display:"block",left:o.left,top:o.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},ImageDialog=function(e){var t=this,i=$.summernote.ui,n=e.layoutInfo.editor,o=e.options,s=o.langInfo;this.initialize=function(){var e=o.dialogsInBody?$(document.body):n,t="";if(o.maximumImageFileSize){var r=Math.floor(Math.log(o.maximumImageFileSize)/Math.log(1024)),a=1*(o.maximumImageFileSize/Math.pow(1024,r)).toFixed(2)+" "+" KMGTP"[r]+"B";t="<small>"+s.image.maximumFileSize+" : "+a+"</small>"}var l='<div class="form-group note-group-select-from-files"><label>'+s.image.selectFromFiles+'</label><input class="note-image-input form-control" type="file" name="files" accept="image/*" multiple="multiple" />'+t+'</div><div class="form-group note-group-image-url" style="overflow:auto;"><label>'+s.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',c='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+s.image.insert+"</button>";this.$dialog=i.dialog({title:s.image.insert,fade:o.dialogsFade,body:l,footer:c}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.show=function(){e.invoke("editor.saveRange"),this.showImageDialog().then(function(n){i.hideDialog(t.$dialog),e.invoke("editor.restoreRange"),"string"==typeof n?e.invoke("editor.insertImage",n):e.invoke("editor.insertImagesOrCallback",n)}).fail(function(){e.invoke("editor.restoreRange")})},this.showImageDialog=function(){return $.Deferred(function(n){var o=t.$dialog.find(".note-image-input"),s=t.$dialog.find(".note-image-url"),r=t.$dialog.find(".note-image-btn");i.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),o.replaceWith(o.clone().on("change",function(){n.resolve(this.files||this.value)}).val("")),r.click(function(e){e.preventDefault(),n.resolve(s.val())}),s.on("keyup paste",function(){var e=s.val();i.toggleBtn(r,e)}).val("").trigger("focus"),t.bindEnterKey(s,r)}),i.onDialogHidden(t.$dialog,function(){o.off("change"),s.off("keyup paste keypress"),r.off("click"),"pending"===n.state()&&n.reject()}),i.showDialog(t.$dialog)})}},ImagePopover=function(e){var t=$.summernote.ui,i=e.options;this.shouldInitialize=function(){return!list.isEmpty(i.popover.image)},this.initialize=function(){this.$popover=t.popover({className:"note-image-popover"}).render().appendTo("body");var n=this.$popover.find(".popover-content");e.invoke("buttons.build",n,i.popover.image)},this.destroy=function(){this.$popover.remove()},this.update=function(e){if(dom.isImg(e)){var t=dom.posFromPlaceholder(e);this.$popover.css({display:"block",left:t.left,top:t.top})}else this.hide()},this.hide=function(){this.$popover.hide()}},VideoDialog=function(e){var t=this,i=$.summernote.ui,n=e.layoutInfo.editor,o=e.options,s=o.langInfo;this.initialize=function(){var e=o.dialogsInBody?$(document.body):n,t='<div class="form-group row-fluid"><label>'+s.video.url+' <small class="text-muted">'+s.video.providers+'</small></label><input class="note-video-url form-control span12" type="text" /></div>',r='<button href="#" class="btn btn-primary note-video-btn disabled" disabled>'+s.video.insert+"</button>";this.$dialog=i.dialog({title:s.video.insert,fade:o.dialogsFade,body:t,footer:r}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.bindEnterKey=function(e,t){e.on("keypress",function(e){e.keyCode===key.code.ENTER&&t.trigger("click")})},this.createVideoNode=function(e){var t,i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/,n=e.match(i),o=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,s=e.match(o),r=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,a=e.match(r),l=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*([0-9]{6,11})[?]?.*/,c=e.match(l),u=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,h=e.match(u),d=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,f=e.match(d),p=/^.+.(mp4|m4v)$/,m=e.match(p),g=/^.+.(ogg|ogv)$/,v=e.match(g),b=/^.+.(webm)$/,_=e.match(b);if(n&&11===n[1].length){var y=n[1];t=$("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+y).attr("width","640").attr("height","360")}else if(s&&s[0].length)t=$("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+s[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(a&&a[0].length)t=$("<iframe>").attr("frameborder",0).attr("src",a[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(c&&c[3].length)t=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+c[3]).attr("width","640").attr("height","360");else if(h&&h[2].length)t=$("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+h[2]).attr("width","640").attr("height","360");else if(f&&f[1].length)t=$("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+f[1]);else{if(!(m||v||_))return!1;t=$("<video controls>").attr("src",e).attr("width","640").attr("height","360")}return t.addClass("note-video-clip"),t[0]},this.show=function(){var n=e.invoke("editor.getSelectedText");e.invoke("editor.saveRange"),this.showVideoDialog(n).then(function(n){i.hideDialog(t.$dialog),e.invoke("editor.restoreRange");var o=t.createVideoNode(n);o&&e.invoke("editor.insertNode",o)}).fail(function(){e.invoke("editor.restoreRange")})},this.showVideoDialog=function(n){return $.Deferred(function(o){var s=t.$dialog.find(".note-video-url"),r=t.$dialog.find(".note-video-btn");i.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),s.val(n).on("input",function(){i.toggleBtn(r,s.val())}).trigger("focus"),r.click(function(e){e.preventDefault(),o.resolve(s.val())}),t.bindEnterKey(s,r)}),i.onDialogHidden(t.$dialog,function(){s.off("input"),r.off("click"),"pending"===o.state()&&o.reject()}),i.showDialog(t.$dialog)})}},HelpDialog=function(e){var t=this,i=$.summernote.ui,n=e.layoutInfo.editor,o=e.options,s=o.langInfo;this.createShortCutList=function(){var t=o.keyMap[agent.isMac?"mac":"pc"];return Object.keys(t).map(function(i){var n=t[i],o=$('<div><div class="help-list-item"/></div>');return o.append($("<label><kbd>"+i+"</kdb></label>").css({width:180,"margin-right":10})).append($("<span/>").html(e.memo("help."+n)||n)),o.html()}).join("")},this.initialize=function(){var e=o.dialogsInBody?$(document.body):n,t=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.2</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=i.dialog({title:s.options.help,fade:o.dialogsFade,body:this.createShortCutList(),footer:t,callback:function(e){e.find(".modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(e)},this.destroy=function(){i.hideDialog(this.$dialog),this.$dialog.remove()},this.showHelpDialog=function(){return $.Deferred(function(n){i.onDialogShown(t.$dialog,function(){e.triggerEvent("dialog.shown"),n.resolve()}),i.showDialog(t.$dialog)}).promise()},this.show=function(){e.invoke("editor.saveRange"),this.showHelpDialog().then(function(){e.invoke("editor.restoreRange")})}},AirPopover=function(e){var t=this,i=$.summernote.ui,n=e.options,o=20;this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){t.update()},"summernote.change summernote.dialog.shown":function(){t.hide()},"summernote.focusout":function(e,i){agent.isFF||i.relatedTarget&&dom.ancestor(i.relatedTarget,func.eq(t.$popover[0]))||t.hide()}},this.shouldInitialize=function(){return n.airMode&&!list.isEmpty(n.popover.air)},this.initialize=function(){this.$popover=i.popover({className:"note-air-popover"}).render().appendTo("body");var t=this.$popover.find(".popover-content");e.invoke("buttons.build",t,n.popover.air)},this.destroy=function(){this.$popover.remove()},this.update=function(){var t=e.invoke("editor.currentStyle");if(t.range&&!t.range.isCollapsed()){var i=list.last(t.range.getClientRects());if(i){var n=func.rect2bnd(i);this.$popover.css({display:"block",left:Math.max(n.left+n.width/2,0)-o,top:n.top+n.height})}}else this.hide()},this.hide=function(){this.$popover.hide()}},HintPopover=function(e){var t=this,i=$.summernote.ui,n=5,o=e.options.hint||[],s=e.options.hintDirection||"bottom",r=$.isArray(o)?o:[o];this.events={"summernote.keyup":function(e,i){i.isDefaultPrevented()||t.handleKeyup(i)},"summernote.keydown":function(e,i){t.handleKeydown(i)},"summernote.dialog.shown":function(){t.hide()}},this.shouldInitialize=function(){return r.length>0},this.initialize=function(){this.lastWordRange=null,this.$popover=i.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo("body"),this.$popover.hide(),this.$content=this.$popover.find(".popover-content"),this.$content.on("click",".note-hint-item",function(){t.$content.find(".active").removeClass("active"),$(this).addClass("active"),t.replace()})},this.destroy=function(){this.$popover.remove()},this.selectItem=function(e){this.$content.find(".active").removeClass("active"),e.addClass("active"),this.$content[0].scrollTop=e[0].offsetTop-this.$content.innerHeight()/2},this.moveDown=function(){var e=this.$content.find(".note-hint-item.active"),t=e.next();if(t.length)this.selectItem(t);else{var i=e.parent().next();i.length||(i=this.$content.find(".note-hint-group").first()),this.selectItem(i.find(".note-hint-item").first())}},this.moveUp=function(){var e=this.$content.find(".note-hint-item.active"),t=e.prev();if(t.length)this.selectItem(t);else{var i=e.parent().prev();i.length||(i=this.$content.find(".note-hint-group").last()),this.selectItem(i.find(".note-hint-item").last())}},this.replace=function(){var t=this.$content.find(".note-hint-item.active");if(t.length){var i=this.nodeFromItem(t);this.lastWordRange.insertNode(i),range.createFromNode(i).collapse().select(),this.lastWordRange=null,this.hide(),e.invoke("editor.focus")}},this.nodeFromItem=function(e){var t=r[e.data("index")],i=e.data("item"),n=t.content?t.content(i):i;return"string"==typeof n&&(n=dom.createText(n)),n},this.createItemTemplates=function(e,t){var i=r[e];return t.map(function(t,n){var o=$('<div class="note-hint-item"/>');return o.append(i.template?i.template(t):t+""),o.data({index:e,item:t}),0===e&&0===n&&o.addClass("active"),o})},this.handleKeydown=function(e){this.$popover.is(":visible")&&(e.keyCode===key.code.ENTER?(e.preventDefault(),this.replace()):e.keyCode===key.code.UP?(e.preventDefault(),this.moveUp()):e.keyCode===key.code.DOWN&&(e.preventDefault(),this.moveDown()))},this.searchKeyword=function(e,t,i){var n=r[e];if(n&&n.match.test(t)&&n.search){var o=n.match.exec(t);n.search(o[1],i)}else i()},this.createGroup=function(e,i){var n=$('<div class="note-hint-group note-hint-group-'+e+'"/>');return this.searchKeyword(e,i,function(i){i=i||[],i.length&&(n.html(t.createItemTemplates(e,i)),t.show())}),n},this.handleKeyup=function(i){if(list.contains([key.code.ENTER,key.code.UP,key.code.DOWN],i.keyCode)){if(i.keyCode===key.code.ENTER&&this.$popover.is(":visible"))return}else{var o=e.invoke("editor.createRange").getWordRange(),a=o.toString();if(r.length&&a){this.$content.empty();var l=func.rect2bnd(list.last(o.getClientRects()));l&&(this.$popover.hide(),this.lastWordRange=o,r.forEach(function(e,i){e.match.test(a)&&t.createGroup(i,a).appendTo(t.$content)}),this.$popover.css("top"===s?{left:l.left,top:l.top-this.$popover.outerHeight()-n}:{left:l.left,top:l.top+l.height+n}))}else this.hide()}},this.show=function(){this.$popover.show()},this.hide=function(){this.$popover.hide()}};$.summernote=$.extend($.summernote,{version:"0.8.2",ui:ui,dom:dom,plugins:{},options:{modules:{editor:Editor,clipboard:Clipboard,dropzone:Dropzone,codeview:Codeview,statusbar:Statusbar,fullscreen:Fullscreen,handle:Handle,hintPopover:HintPopover,autoLink:AutoLink,autoSync:AutoSync,placeholder:Placeholder,buttons:Buttons,toolbar:Toolbar,linkDialog:LinkDialog,linkPopover:LinkPopover,imageDialog:ImageDialog,imagePopover:ImagePopover,videoDialog:VideoDialog,helpDialog:HelpDialog,airPopover:AirPopover},buttons:{},lang:"en-US",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popover:{image:[["imagesize",["imageSize100","imageSize50","imageSize25"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,direction:null,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onInit:null,onFocus:null,onBlur:null,onEnter:null,onKeyup:null,onKeydown:null,onImageUpload:null,onImageUploadError:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}})}),function(e){e.extend(e.summernote.lang,{"pt-BR":{font:{bold:"Negrito",italic:"Itálico",underline:"Sublinhado",clear:"Remover estilo da fonte",height:"Altura da linha",name:"Fonte",strikethrough:"Riscado",size:"Tamanho da fonte"},image:{image:"Imagem",insert:"Inserir imagem",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",dragImageHere:"Arraste uma imagem para cá",selectFromFiles:"Selecione a partir dos arquivos",url:"URL da imagem"},video:{video:"Vídeo",videoLink:"Link para vídeo",insert:"Inserir vídeo",url:"URL do vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ou Youku)"},link:{link:"Link",insert:"Inserir link",unlink:"Remover link",edit:"Editar",textToDisplay:"Texto para exibir",url:"Para qual URL esse link leva?",openInNewWindow:"Abrir em uma nova janela"},table:{table:"Tabela"},hr:{insert:"Inserir linha horizontal"},style:{style:"Estilo",normal:"Normal",blockquote:"Citação",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista com marcadores",ordered:"Lista numerada"},options:{help:"Ajuda",fullscreen:"Tela cheia",codeview:"Ver código-fonte"},paragraph:{paragraph:"Parágrafo",outdent:"Menor tabulação",indent:"Maior tabulação",left:"Alinhar à esquerda",center:"Alinhar ao centro",right:"Alinha à direita",justify:"Justificado"},color:{recent:"Cor recente",more:"Mais cores",background:"Fundo",foreground:"Fonte",transparent:"Transparente",setTransparent:"Fundo transparente",reset:"Restaurar",resetToDefault:"Restaurar padrão"},shortcut:{shortcuts:"Atalhos do teclado",close:"Fechar",textFormatting:"Formatação de texto",action:"Ação",paragraphFormatting:"Formatação de parágrafo",documentStyle:"Estilo de documento"},history:{undo:"Desfazer",redo:"Refazer"},help:{insertParagraph:"Inserir Parágrafo",undo:"Desfazer o último comando",redo:"Refazer o último comando",tab:"Tab",untab:"Desfazer tab",bold:"Colocar em negrito",italic:"Colocar em itálico",underline:"Sublinhado",strikethrough:"Tachado",removeFormat:"Remover estilo",justifyLeft:"Alinhar à esquerda",justifyCenter:"Centralizar",justifyRight:"Alinhar à esquerda",justifyFull:"Justificar",insertUnorderedList:"Lista não ordenada",insertOrderedList:"Lista ordenada",outdent:"Recuar parágrafo atual",indent:"Avançar parágrafo atual",formatPara:"Alterar formato do bloco para parágrafo(tag P)",formatH1:"Alterar formato do bloco para H1",formatH2:"Alterar formato do bloco para H2",formatH3:"Alterar formato do bloco para H3",formatH4:"Alterar formato do bloco para H4",formatH5:"Alterar formato do bloco para H5",formatH6:"Alterar formato do bloco para H6",insertHorizontalRule:"Inserir régua horizontal","linkDialog.show":"Inserir um Hiperlink"}}})
}(jQuery),function(e){e.fn.priceFormat=function(t){var i={prefix:"US$ ",suffix:"",centsSeparator:".",thousandsSeparator:",",limit:!1,centsLimit:2,clearPrefix:!1,clearSufix:!1,allowNegative:!1,insertPlusSign:!1,clearOnEmpty:!1},t=e.extend(i,t);return this.each(function(){function i(e){f.is("input")?f.val(e):f.html(e)}function n(){return p=f.is("input")?f.val():f.html()}function o(e){for(var t="",i=0;i<e.length;i++)char_=e.charAt(i),0==t.length&&0==char_&&(char_=!1),char_&&char_.match(m)&&(y?t.length<y&&(t+=char_):t+=char_);return t}function s(e){for(;e.length<w+1;)e="0"+e;return e}function r(t,i){if(!i&&(""===t||t==r("0",!0))&&D)return"";var n=s(o(t)),a="",l=0;0==w&&(b="",c="");var c=n.substr(n.length-w,w),u=n.substr(0,n.length-w);if(n=0==w?u:u+b+c,_||""!=e.trim(_)){for(var h=u.length;h>0;h--)char_=u.substr(h-1,1),l++,l%3==0&&(char_=_+char_),a=char_+a;a.substr(0,1)==_&&(a=a.substring(1,a.length)),n=0==w?a:a+b+c}return!C||0==u&&0==c||(n=-1!=t.indexOf("-")&&t.indexOf("+")<t.indexOf("-")?"-"+n:S?"+"+n:""+n),g&&(n=g+n),v&&(n+=v),n}function a(e){var t=e.keyCode?e.keyCode:e.which,n=String.fromCharCode(t),o=!1,s=p,a=r(s+n);(t>=48&&57>=t||t>=96&&105>=t)&&(o=!0),8==t&&(o=!0),9==t&&(o=!0),13==t&&(o=!0),46==t&&(o=!0),37==t&&(o=!0),39==t&&(o=!0),!C||189!=t&&109!=t&&173!=t||(o=!0),!S||187!=t&&107!=t&&61!=t||(o=!0),o||(e.preventDefault(),e.stopPropagation(),s!=a&&i(a))}function l(){var e=n(),t=r(e);e!=t&&i(t),0==parseFloat(e)&&D&&i("")}function c(){f.val(g+n())}function u(){f.val(n()+v)}function h(){if(""!=e.trim(g)&&x){var t=n().split(g);i(t[1])}}function d(){if(""!=e.trim(v)&&k){var t=n().split(v);i(t[0])}}var f=e(this),p="",m=/[0-9]/;p=f.is("input")?f.val():f.html();var g=t.prefix,v=t.suffix,b=t.centsSeparator,_=t.thousandsSeparator,y=t.limit,w=t.centsLimit,x=t.clearPrefix,k=t.clearSuffix,C=t.allowNegative,S=t.insertPlusSign,D=t.clearOnEmpty;S&&(C=!0),f.bind("keydown.price_format",a),f.bind("keyup.price_format",l),f.bind("focusout.price_format",l),x&&(f.bind("focusout.price_format",function(){h()}),f.bind("focusin.price_format",function(){c()})),k&&(f.bind("focusout.price_format",function(){d()}),f.bind("focusin.price_format",function(){u()})),n().length>0&&(l(),h(),d())})},e.fn.unpriceFormat=function(){return e(this).unbind(".price_format")},e.fn.unmask=function(){var t,i="";t=e(this).is("input")?e(this).val():e(this).html();for(var n in t)isNaN(t[n])&&"-"!=t[n]||(i+=t[n]);return i}}(jQuery),function(){var e,t,i,n,o,s={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};n=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,n,o,s,r;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),title:e.title?e.title:void 0,children:0,disabled:e.disabled,classes:e.className}),s=e.childNodes,r=[],n=0,o=s.length;o>n;n++)i=s[n],r.push(this.add_option(i,t,e.disabled));return r},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,title:e.title?e.title:void 0,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,group_label:null!=t?this.parsed[t].label:null,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,i;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(i,function(e){return t[e]||"&amp;"})):e},e}(),n.select_to_array=function(e){var t,i,o,s,r;for(i=new n,r=e.childNodes,o=0,s=r.length;s>o;o++)t=r[o],i.add_node(t);return i.parsed},t=function(){function e(t,i){this.form_field=t,this.options=null!=i?i:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.on_ready())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0,this.include_group_label_in_selected=this.options.include_group_label_in_selected||!1,this.max_shown_results=this.options.max_shown_results||Number.POSITIVE_INFINITY,this.case_sensitive_search=this.options.case_sensitive_search||!1},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.choice_label=function(e){return this.include_group_label_in_selected&&null!=e.group_label?"<b class='group-name'>"+e.group_label+"</b>"+e.html:e.html},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(e){var t,i,n,o,s,r,a;for(t="",o=0,a=this.results_data,s=0,r=a.length;r>s&&(i=a[s],n="",n=i.group?this.result_add_group(i):this.result_add_option(i),""!==n&&(o++,t+=n),(null!=e?e.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(this.choice_label(i))),!(o>=this.max_shown_results));s++);return t},e.prototype.result_add_option=function(e){var t,i;return e.search_match&&this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.style.cssText=e.style,i.setAttribute("data-option-array-index",e.array_index),i.innerHTML=e.search_text,e.title&&(i.title=e.title),this.outerHTML(i)):""},e.prototype.result_add_group=function(e){var t,i;return(e.search_match||e.group_match)&&e.active_options>0?(t=[],t.push("group-result"),e.classes&&t.push(e.classes),i=document.createElement("li"),i.className=t.join(" "),i.innerHTML=e.search_text,e.title&&(i.title=e.title),this.outerHTML(i)):""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,i,n,o;for(n=this.results_data,o=[],t=0,i=n.length;i>t;t++)e=n[t],o.push(e.selected?e.selected=!1:void 0);return o},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,i,n,o,s,r,a,l,c,u,h;for(this.no_results_clear(),n=0,s=this.get_search_text(),e=s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),l=new RegExp(e,"i"),i=this.get_search_regex(e),h=this.results_data,c=0,u=h.length;u>c;c++)t=h[c],t.search_match=!1,o=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(o=this.results_data[t.group_array_index],0===o.active_options&&o.search_match&&(n+=1),o.active_options+=1),t.search_text=t.group?t.label:t.html,(!t.group||this.group_search)&&(t.search_match=this.search_string_match(t.search_text,i),t.search_match&&!t.group&&(n+=1),t.search_match?(s.length&&(r=t.search_text.search(l),a=t.search_text.substr(0,r+s.length)+"</em>"+t.search_text.substr(r+s.length),t.search_text=a.substr(0,r)+"<em>"+a.substr(r)),null!=o&&(o.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>n&&s.length?(this.update_results_content(""),this.no_results(s)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.get_search_regex=function(e){var t,i;return t=this.search_contains?"":"^",i=this.case_sensitive_search?"":"i",new RegExp(t+e,i)},e.prototype.search_string_match=function(e,t){var i,n,o,s;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(n=e.replace(/\[|\]/g,"").split(" "),n.length))for(o=0,s=n.length;s>o;o++)if(i=n[o],t.test(i))return!0},e.prototype.choices_count=function(){var e,t,i,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,n=this.form_field.options,t=0,i=n.length;i>t;t++)e=n[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:case 18:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(){var e=this;return setTimeout(function(){return e.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)||/IEMobile/i.test(window.navigator.userAgent)||/Windows Phone/i.test(window.navigator.userAgent)||/BlackBerry/i.test(window.navigator.userAgent)||/BB10/i.test(window.navigator.userAgent)||/Android.*Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(n){return t.browser_is_supported()?this.each(function(){var t,o;return t=e(this),o=t.data("chosen"),"destroy"===n?void(o instanceof i&&o.destroy()):void(o instanceof i||t.data("chosen",new i(this,n)))}):this}}),i=function(t){function i(){return o=i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var t,i;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),i={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",i),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior()},i.prototype.on_ready=function(){return this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var e=this;return this.container.bind("touchstart.chosen",function(t){return e.container_mousedown(t),t.preventDefault()}),this.container.bind("touchend.chosen",function(t){return e.container_mouseup(t),t.preventDefault()}),this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},i.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},i.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=e.originalEvent.deltaY||-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(t){var i;return i=e(t.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(e){var t,i,n,o,s;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),o=n+s,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=o)return this.search_results.scrollTop(t-n>0?t-n:0);if(s>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(e){return this.search_results.html(e)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},i.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(t){var i,n,o=this;return i=e("<li />",{"class":"search-choice"}).html("<span>"+this.choice_label(t)+"</span>"),t.disabled?i.addClass("search-choice-disabled"):(n=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),n.bind("click.chosen",function(e){return o.choice_destroy_link_click(e)}),i.append(n)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},i.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(e){var t,i;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),t.addClass("result-selected"),i=this.results_data[t[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(this.choice_label(i)),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.show_search_field_default(),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,e.preventDefault(),this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").html(e)},i.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return e("<div/>").text(e.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},i.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:this.results_showing&&e.preventDefault();break;case 32:this.disable_search&&e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var t,i,n,o,s,r,a,l,c;if(this.is_multiple){for(n=0,a=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=r.length;c>l;l++)o=r[l],s+=o+":"+this.search_field.css(o)+";";return t=e("<div />",{style:s}),t.text(this.search_field.val()),e("body").append(t),a=t.width()+25,t.remove(),i=this.container.outerWidth(),a>i-10&&(a=i-10),this.search_field.css({width:a+"px"})}},i}(t)}.call(this),function(e){e.fn.tablecloth=function(t){var i={theme:"default",customClass:"",bordered:!1,condensed:!1,striped:!1,sortable:!1,clean:!1,cleanElements:"*"},n=e.extend(i,t);this.find("*").each(function(){"right"==e(this).attr("align")&&e(this).addClass("right"),"center"==e(this).attr("align")&&e(this).addClass("center"),e(this).attr("nowrap")&&e(this).css("white-space","nowrap")}),n.clean&&(this.removeAttr("class").removeAttr("style").removeAttr("cellpadding").removeAttr("cellspacing").removeAttr("bgcolor").removeAttr("align").removeAttr("width").removeAttr("nowrap"),this.find(n.cleanElements).each(function(){e(this).removeAttr("style").removeAttr("cellpadding").removeAttr("cellspacing").removeAttr("bgcolor").removeAttr("align").removeAttr("width").removeAttr("nowrap")})),"default"==n.theme?this.addClass("table"):"dark"==n.theme?this.addClass("table table-dark"):"stats"==n.theme?this.addClass("table table-stats"):"paper"==n.theme&&this.addClass("table table-paper"),""!=n.customClass&&this.addClass(n.customClass),n.condensed&&this.addClass("table-condensed"),n.bordered&&this.addClass("table-bordered"),n.striped&&this.addClass("table-striped"),n.sortable&&(this.addClass("table-sortable"),jQuery().tablesorter?this.tablesorter({cssHeader:"headerSortable"}):console.log("Tablesorter is not loaded"))}}(jQuery),function($){$.extend({tablesorter:new function(){function benchmark(e,t){log(e+","+((new Date).getTime()-t.getTime())+"ms")}function log(e){"undefined"!=typeof console&&"undefined"!=typeof console.debug?console.log(e):alert(e)}function buildParserCache(e,t){if(e.config.debug)var i="";if(0!=e.tBodies.length){var n=e.tBodies[0].rows;if(n[0])for(var o=[],s=n[0].cells,r=s.length,a=0;r>a;a++){var l=!1;$.metadata&&$(t[a]).metadata()&&$(t[a]).metadata().sorter?l=getParserById($(t[a]).metadata().sorter):e.config.headers[a]&&e.config.headers[a].sorter&&(l=getParserById(e.config.headers[a].sorter)),l||(l=detectParserForColumn(e,n,-1,a)),e.config.debug&&(i+="column:"+a+" parser:"+l.id+"\n"),o.push(l)}return e.config.debug&&log(i),o}}function detectParserForColumn(e,t,i,n){for(var o=parsers.length,s=!1,r=!1,a=!0;""==r&&a;)i++,t[i]?(s=getNodeFromRowAndCellIndex(t,i,n),r=trimAndGetNodeText(e.config,s),e.config.debug&&log("Checking if value was empty on row:"+i)):a=!1;
for(var l=1;o>l;l++)if(parsers[l].is(r,e,s))return parsers[l];return parsers[0]}function getNodeFromRowAndCellIndex(e,t,i){return e[t].cells[i]}function trimAndGetNodeText(e,t){return $.trim(getElementText(e,t))}function getParserById(e){for(var t=parsers.length,i=0;t>i;i++)if(parsers[i].id.toLowerCase()==e.toLowerCase())return parsers[i];return!1}function buildCache(e){if(e.config.debug)var t=new Date;for(var i=e.tBodies[0]&&e.tBodies[0].rows.length||0,n=e.tBodies[0].rows[0]&&e.tBodies[0].rows[0].cells.length||0,o=e.config.parsers,s={row:[],normalized:[]},r=0;i>r;++r){var a=$(e.tBodies[0].rows[r]),l=[];if(a.hasClass(e.config.cssChildRow))s.row[s.row.length-1]=s.row[s.row.length-1].add(a);else{s.row.push(a);for(var c=0;n>c;++c)l.push(o[c].format(getElementText(e.config,a[0].cells[c]),e,a[0].cells[c]));l.push(s.normalized.length),s.normalized.push(l),l=null}}return e.config.debug&&benchmark("Building cache for "+i+" rows:",t),s}function getElementText(e,t){var i="";return t?(e.supportsTextContent||(e.supportsTextContent=t.textContent||!1),i="simple"==e.textExtraction?e.supportsTextContent?t.textContent:t.childNodes[0]&&t.childNodes[0].hasChildNodes()?t.childNodes[0].innerHTML:t.innerHTML:"function"==typeof e.textExtraction?e.textExtraction(t):$(t).text()):""}function appendToTable(e,t){if(e.config.debug)var i=new Date;for(var n=t,o=n.row,s=n.normalized,r=s.length,a=s[0].length-1,l=$(e.tBodies[0]),c=[],u=0;r>u;u++){var h=s[u][a];if(c.push(o[h]),!e.config.appender)for(var d=o[h].length,f=0;d>f;f++)l[0].appendChild(o[h][f])}e.config.appender&&e.config.appender(e,c),c=null,e.config.debug&&benchmark("Rebuilt table:",i),applyWidget(e),setTimeout(function(){$(e).trigger("sortEnd")},0)}function buildHeaders(e){if(e.config.debug)var t=new Date;var i=($.metadata?!0:!1,computeTableHeaderCellIndexes(e));return $tableHeaders=$(e.config.selectorHeaders,e).each(function(t){if(this.column=i[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(e.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(e,t))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(e,t)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(e,t)),!this.sortDisabled){var n=$(this).addClass(e.config.cssHeader);e.config.onRenderHeader&&e.config.onRenderHeader.apply(n)}e.config.headerList[t]=this}),e.config.debug&&(benchmark("Built headers:",t),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(e){for(var t=[],i={},n=e.getElementsByTagName("THEAD")[0],o=n.getElementsByTagName("TR"),s=0;s<o.length;s++)for(var r=o[s].cells,a=0;a<r.length;a++){var l,c=r[a],u=c.parentNode.rowIndex,h=u+"-"+c.cellIndex,d=c.rowSpan||1,f=c.colSpan||1;"undefined"==typeof t[u]&&(t[u]=[]);for(var p=0;p<t[u].length+1;p++)if("undefined"==typeof t[u][p]){l=p;break}i[h]=l;for(var p=u;u+d>p;p++){"undefined"==typeof t[p]&&(t[p]=[]);for(var m=t[p],g=l;l+f>g;g++)m[g]="x"}}return i}function checkCellColSpan(e,t,i){for(var n=[],o=e.tHead.rows,s=o[i].cells,r=0;r<s.length;r++){var a=s[r];a.colSpan>1?n=n.concat(checkCellColSpan(e,headerArr,i++)):(1==e.tHead.length||a.rowSpan>1||!o[i+1])&&n.push(a)}return n}function checkHeaderMetadata(e){return $.metadata&&$(e).metadata().sorter===!1?!0:!1}function checkHeaderOptions(e,t){return e.config.headers[t]&&e.config.headers[t].sorter===!1?!0:!1}function checkHeaderOptionsSortingLocked(e,t){return e.config.headers[t]&&e.config.headers[t].lockedOrder?e.config.headers[t].lockedOrder:!1}function applyWidget(e){for(var t=e.config.widgets,i=t.length,n=0;i>n;n++)getWidgetById(t[n]).format(e)}function getWidgetById(e){for(var t=widgets.length,i=0;t>i;i++)if(widgets[i].id.toLowerCase()==e.toLowerCase())return widgets[i]}function formatSortingOrder(e){return"Number"!=typeof e?"desc"==e.toLowerCase()?1:0:1==e?1:0}function isValueInArray(e,t){for(var i=t.length,n=0;i>n;n++)if(t[n][0]==e)return!0;return!1}function setHeadersCss(e,t,i,n){t.removeClass(n[0]).removeClass(n[1]);var o=[];t.each(function(){this.sortDisabled||(o[this.column]=$(this))});for(var s=i.length,r=0;s>r;r++)o[i[r][0]].addClass(n[i[r][1]])}function fixColumnWidth(e){var t=e.config;if(t.widthFixed){var i=$("<colgroup>");$("tr:first td",e.tBodies[0]).each(function(){i.append($("<col>").css("width",$(this).width()))}),$(e).prepend(i)}}function updateHeaderSortCount(e,t){for(var i=e.config,n=t.length,o=0;n>o;o++){var s=t[o],r=i.headerList[s[0]];r.count=s[1],r.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;for(var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length,i=0;l>i;i++){var c=sortList[i][0],order=sortList[i][1],s="text"==table.config.parsers[c].type?0==order?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):0==order?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c),e="e"+i;dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;l>i;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(e,t,i){var n="a["+i+"]",o="b["+i+"]";return"text"==e&&"asc"==t?"("+n+" == "+o+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : ("+n+" < "+o+") ? -1 : 1 )));":"text"==e&&"desc"==t?"("+n+" == "+o+" ? 0 : ("+n+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : ("+o+" < "+n+") ? -1 : 1 )));":"numeric"==e&&"asc"==t?"("+n+" === null && "+o+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : "+n+" - "+o+"));":"numeric"==e&&"desc"==t?"("+n+" === null && "+o+" === null) ? 0 :("+n+" === null ? Number.POSITIVE_INFINITY : ("+o+" === null ? Number.NEGATIVE_INFINITY : "+o+" - "+n+"));":void 0}function makeSortText(e){return"((a["+e+"] < b["+e+"]) ? -1 : ((a["+e+"] > b["+e+"]) ? 1 : 0));"}function makeSortTextDesc(e){return"((b["+e+"] < a["+e+"]) ? -1 : ((b["+e+"] > a["+e+"]) ? 1 : 0));"}function makeSortNumeric(e){return"a["+e+"]-b["+e+"];"}function makeSortNumericDesc(e){return"b["+e+"]-a["+e+"];"}function sortText(e,t){return table.config.sortLocaleCompare?e.localeCompare(t):t>e?-1:e>t?1:0}function sortTextDesc(e,t){return table.config.sortLocaleCompare?t.localeCompare(e):e>t?-1:t>e?1:0}function sortNumeric(e,t){return e-t}function sortNumericDesc(e,t){return t-e}function getCachedSortType(e,t){return e[t].type}var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark,this.construct=function(e){return this.each(function(){if(this.tHead&&this.tBodies){var t,i,n,o;this.config={},o=$.extend(this.config,$.tablesorter.defaults,e),t=$(this),$.data(this,"tablesorter",o),i=buildHeaders(this),this.config.parsers=buildParserCache(this,i),n=buildCache(this);var s=[o.cssDesc,o.cssAsc];fixColumnWidth(this),i.click(function(e){var r=t[0].tBodies[0]&&t[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&r>0){t.trigger("sortStart");var a=($(this),this.column);if(this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder),e[o.sortMultiSortKey])if(isValueInArray(a,o.sortList))for(var l=0;l<o.sortList.length;l++){var c=o.sortList[l],u=o.headerList[c[0]];c[0]==a&&(u.count=c[1],u.count++,c[1]=u.count%2)}else o.sortList.push([a,this.order]);else{if(o.sortList=[],null!=o.sortForce)for(var h=o.sortForce,l=0;l<h.length;l++)h[l][0]!=a&&o.sortList.push(h[l]);o.sortList.push([a,this.order])}return setTimeout(function(){setHeadersCss(t[0],i,o.sortList,s),appendToTable(t[0],multisort(t[0],o.sortList,n))},1),!1}}).mousedown(function(){return o.cancelSelection?(this.onselectstart=function(){return!1},!1):void 0}),t.bind("update",function(){var e=this;setTimeout(function(){e.config.parsers=buildParserCache(e,i),n=buildCache(e)},1)}).bind("updateCell",function(e,t){var i=this.config,o=[t.parentNode.rowIndex-1,t.cellIndex];n.normalized[o[0]][o[1]]=i.parsers[o[1]].format(getElementText(i,t),t)}).bind("sorton",function(e,t){$(this).trigger("sortStart"),o.sortList=t;var r=o.sortList;updateHeaderSortCount(this,r),setHeadersCss(this,i,r,s),appendToTable(this,multisort(this,r,n))}).bind("appendCache",function(){appendToTable(this,n)}).bind("applyWidgetId",function(e,t){getWidgetById(t).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(o.sortList=$(this).metadata().sortlist),o.sortList.length>0&&t.trigger("sorton",[o.sortList]),applyWidget(this)}})},this.addParser=function(e){for(var t=parsers.length,i=!0,n=0;t>n;n++)parsers[n].id.toLowerCase()==e.id.toLowerCase()&&(i=!1);i&&parsers.push(e)},this.addWidget=function(e){widgets.push(e)},this.formatFloat=function(e){var t=parseFloat(e);return isNaN(t)?0:t},this.formatInt=function(e){var t=parseInt(e);return isNaN(t)?0:t},this.isDigit=function(e){return/^[-+]?\d*$/.test($.trim(e.replace(/[,.']/g,"")))},this.clearTableBody=function(e){function t(){for(;this.firstChild;)this.removeChild(this.firstChild)}$.browser.msie?t.apply(e.tBodies[0]):e.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(){return!0},format:function(e){return $.trim(e.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(e,t){var i=t.config;return $.tablesorter.isDigit(e,i)},format:function(e){return $.tablesorter.formatFloat(e)},type:"numeric"}),ts.addParser({id:"currency",is:function(e){return/^[£$€?.]/.test(e)},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/[£$€]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(e){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(e)},format:function(e){for(var t=e.split("."),i="",n=t.length,o=0;n>o;o++){var s=t[o];i+=2==s.length?"0"+s:s}return $.tablesorter.formatFloat(i)},type:"numeric"}),ts.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\/$/.test(e)},format:function(e){return jQuery.trim(e.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(e)},format:function(e){return $.tablesorter.formatFloat(""!=e?new Date(e.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(e){return/\%$/.test($.trim(e))},format:function(e){return $.tablesorter.formatFloat(e.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(e){return e.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(e){return $.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(e){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(e)},format:function(e,t){var i=t.config;return e=e.replace(/\-/g,"/"),"us"==i.dateFormat?e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2"):"uk"==i.dateFormat?e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):("dd/mm/yy"==i.dateFormat||"dd-mm-yy"==i.dateFormat)&&(e=e.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(new Date(e).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(e){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(e)},format:function(e){return $.tablesorter.formatFloat(new Date("2000/01/01 "+e).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(){return!1},format:function(e,t,i){var n=t.config,o=n.parserMetadataName?n.parserMetadataName:"sortValue";return $(i).metadata()[o]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(e){if(e.config.debug)var t=new Date;var i,n,o=-1;$("tr:visible",e.tBodies[0]).each(function(){i=$(this),i.hasClass(e.config.cssChildRow)||o++,n=o%2==0,i.removeClass(e.config.widgetZebra.css[n?0:1]).addClass(e.config.widgetZebra.css[n?1:0])}),e.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",t)}})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(i,t,t.document)}:e(jQuery,window,document)}(function(e,t,i,n){function o(t){var i,n,s={};e.each(t,function(e){(i=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(n=e.replace(i[0],i[2].toLowerCase()),s[n]=e,"o"===i[1]&&o(t[e]))}),t._hungarianMap=s}function s(t,i,r){t._hungarianMap||o(t);var a;e.each(i,function(o){a=t._hungarianMap[o],a===n||!r&&i[a]!==n||("o"===a.charAt(0)?(i[a]||(i[a]={}),e.extend(!0,i[a],i[o]),s(t[a],i[a],r)):i[a]=i[o])})}function r(e){var t=qt.defaults.oLanguage,i=e.sZeroRecords;!e.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&Mt(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&Mt(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&Bt(e)}function a(e){if(ui(e,"ordering","bSort"),ui(e,"orderMulti","bSortMulti"),ui(e,"orderClasses","bSortClasses"),ui(e,"orderCellsTop","bSortCellsTop"),ui(e,"order","aaSorting"),ui(e,"orderFixed","aaSortingFixed"),ui(e,"paging","bPaginate"),ui(e,"pagingType","sPaginationType"),ui(e,"pageLength","iDisplayLength"),ui(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":""),e=e.aoSearchCols)for(var t=0,i=e.length;i>t;t++)e[t]&&s(qt.models.oSearch,e[t])}function l(t){ui(t,"orderable","bSortable"),ui(t,"orderData","aDataSort"),ui(t,"orderSequence","asSorting"),ui(t,"orderDataType","sortDataType");var i=t.aDataSort;i&&!e.isArray(i)&&(t.aDataSort=[i])}function c(t){if(!qt.__browser){var i={};qt.__browser=i;var n=e("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=n.children(),s=o.children();i.barWidth=o[0].offsetWidth-o[0].clientWidth,i.bScrollOversize=100===s[0].offsetWidth&&100!==o[0].clientWidth,i.bScrollbarLeft=1!==Math.round(s.offset().left),i.bBounding=n[0].getBoundingClientRect().width?!0:!1,n.remove()}e.extend(t.oBrowser,qt.__browser),t.oScroll.iBarWidth=qt.__browser.barWidth}function u(e,t,i,o,s,r){var a,l=!1;for(i!==n&&(a=i,l=!0);o!==s;)e.hasOwnProperty(o)&&(a=l?t(a,e[o],o,e):e[o],l=!0,o+=r);return a}function h(t,n){var o=qt.defaults.column,s=t.aoColumns.length,o=e.extend({},qt.models.oColumn,o,{nTh:n?n:i.createElement("th"),sTitle:o.sTitle?o.sTitle:n?n.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[s],mData:o.mData?o.mData:s,idx:s});t.aoColumns.push(o),o=t.aoPreSearchCols,o[s]=e.extend({},qt.models.oSearch,o[s]),d(t,s,e(n).data())}function d(t,i,o){var i=t.aoColumns[i],r=t.oClasses,a=e(i.nTh);if(!i.sWidthOrig){i.sWidthOrig=a.attr("width")||null;var c=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(i.sWidthOrig=c[1])}o!==n&&null!==o&&(l(o),s(qt.defaults.column,o),o.mDataProp!==n&&!o.mData&&(o.mData=o.mDataProp),o.sType&&(i._sManualType=o.sType),o.className&&!o.sClass&&(o.sClass=o.className),e.extend(i,o),Mt(i,o,"sWidth","sWidthOrig"),o.iDataSort!==n&&(i.aDataSort=[o.iDataSort]),Mt(i,o,"aDataSort"));var u=i.mData,h=S(u),d=i.mRender?S(i.mRender):null,o=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};i._bAttrSrc=e.isPlainObject(u)&&(o(u.sort)||o(u.type)||o(u.filter)),i._setter=null,i.fnGetData=function(e,t,i){var o=h(e,t,n,i);return d&&t?d(o,t,e,i):o},i.fnSetData=function(e,t,i){return D(u)(e,t,i)},"number"!=typeof u&&(t._rowReadObject=!0),t.oFeatures.bSort||(i.bSortable=!1,a.addClass(r.sSortableNone)),t=-1!==e.inArray("asc",i.asSorting),o=-1!==e.inArray("desc",i.asSorting),i.bSortable&&(t||o)?t&&!o?(i.sSortingClass=r.sSortableAsc,i.sSortingClassJUI=r.sSortJUIAscAllowed):!t&&o?(i.sSortingClass=r.sSortableDesc,i.sSortingClassJUI=r.sSortJUIDescAllowed):(i.sSortingClass=r.sSortable,i.sSortingClassJUI=r.sSortJUI):(i.sSortingClass=r.sSortableNone,i.sSortingClassJUI="")}function f(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;mt(e);for(var i=0,n=t.length;n>i;i++)t[i].nTh.style.width=t[i].sWidth}t=e.oScroll,(""!==t.sY||""!==t.sX)&&ft(e),Ot(e,null,"column-sizing",[e])}function p(e,t){var i=v(e,"bVisible");return"number"==typeof i[t]?i[t]:null}function m(t,i){var n=v(t,"bVisible"),n=e.inArray(i,n);return-1!==n?n:null}function g(t){var i=0;return e.each(t.aoColumns,function(t,n){n.bVisible&&"none"!==e(n.nTh).css("display")&&i++}),i}function v(t,i){var n=[];return e.map(t.aoColumns,function(e,t){e[i]&&n.push(t)}),n}function b(e){var t,i,o,s,r,a,l,c,u,h=e.aoColumns,d=e.aoData,f=qt.ext.type.detect;for(t=0,i=h.length;i>t;t++)if(l=h[t],u=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(o=0,s=f.length;s>o;o++){for(r=0,a=d.length;a>r&&(u[r]===n&&(u[r]=x(e,r,t,"type")),c=f[o](u[r],e),c||o===f.length-1)&&"html"!==c;r++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function _(t,i,o,s){var r,a,l,c,u,d,f=t.aoColumns;if(i)for(r=i.length-1;r>=0;r--){d=i[r];var p=d.targets!==n?d.targets:d.aTargets;for(e.isArray(p)||(p=[p]),a=0,l=p.length;l>a;a++)if("number"==typeof p[a]&&0<=p[a]){for(;f.length<=p[a];)h(t);s(p[a],d)}else if("number"==typeof p[a]&&0>p[a])s(f.length+p[a],d);else if("string"==typeof p[a])for(c=0,u=f.length;u>c;c++)("_all"==p[a]||e(f[c].nTh).hasClass(p[a]))&&s(c,d)}if(o)for(r=0,t=o.length;t>r;r++)s(r,o[r])}function y(t,i,o,s){var r=t.aoData.length,a=e.extend(!0,{},qt.models.oRow,{src:o?"dom":"data",idx:r});a._aData=i,t.aoData.push(a);for(var l=t.aoColumns,c=0,u=l.length;u>c;c++)l[c].sType=null;return t.aiDisplayMaster.push(r),i=t.rowIdFn(i),i!==n&&(t.aIds[i]=a),(o||!t.oFeatures.bDeferRender)&&E(t,r,o,s),r}function w(t,i){var n;return i instanceof e||(i=e(i)),i.map(function(e,i){return n=M(t,i),y(t,n.data,i,n.cells)})}function x(e,t,i,o){var s=e.iDraw,r=e.aoColumns[i],a=e.aoData[t]._aData,l=r.sDefaultContent,c=r.fnGetData(a,o,{settings:e,row:t,col:i});if(c===n)return e.iDrawError!=s&&null===l&&(At(e,0,"Requested unknown parameter "+("function"==typeof r.mData?"{function}":"'"+r.mData+"'")+" for row "+t+", column "+i,4),e.iDrawError=s),l;if(c!==a&&null!==c||null===l||o===n){if("function"==typeof c)return c.call(a)}else c=l;return null===c&&"display"==o?"":c}function k(e,t,i,n){e.aoColumns[i].fnSetData(e.aoData[t]._aData,n,{settings:e,row:t,col:i})}function C(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\./g,".")})}function S(t){if(e.isPlainObject(t)){var i={};return e.each(t,function(e,t){t&&(i[e]=S(t))}),function(e,t,o,s){var r=i[t]||i._;return r!==n?r(e,t,o,s):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,i,n,o){return t(e,i,n,o)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var o=function(t,i,s){var r,a;if(""!==s){a=C(s);for(var l=0,c=a.length;c>l;l++){if(s=a[l].match(hi),r=a[l].match(di),s){if(a[l]=a[l].replace(hi,""),""!==a[l]&&(t=t[a[l]]),r=[],a.splice(0,l+1),a=a.join("."),e.isArray(t))for(l=0,c=t.length;c>l;l++)r.push(o(t[l],i,a));t=s[0].substring(1,s[0].length-1),t=""===t?r:r.join(t);break}if(r)a[l]=a[l].replace(di,""),t=t[a[l]]();else{if(null===t||t[a[l]]===n)return n;t=t[a[l]]}}}return t};return function(e,i){return o(e,i,t)}}return function(e){return e[t]}}function D(t){if(e.isPlainObject(t))return D(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,i,n){t(e,"set",i,n)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var i=function(t,o,s){var r,s=C(s);r=s[s.length-1];for(var a,l,c=0,u=s.length-1;u>c;c++){if(a=s[c].match(hi),l=s[c].match(di),a){if(s[c]=s[c].replace(hi,""),t[s[c]]=[],r=s.slice(),r.splice(0,c+1),a=r.join("."),e.isArray(o))for(l=0,u=o.length;u>l;l++)r={},i(r,o[l],a),t[s[c]].push(r);else t[s[c]]=o;return}l&&(s[c]=s[c].replace(di,""),t=t[s[c]](o)),(null===t[s[c]]||t[s[c]]===n)&&(t[s[c]]={}),t=t[s[c]]}r.match(di)?t[r.replace(di,"")](o):t[r.replace(hi,"")]=o};return function(e,n){return i(e,n,t)}}return function(e,i){e[t]=i}}function T(e){return si(e.aoData,"_aData")}function I(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function P(e,t,i){for(var o=-1,s=0,r=e.length;r>s;s++)e[s]==t?o=s:e[s]>t&&e[s]--;-1!=o&&i===n&&e.splice(o,1)}function A(e,t,i,o){var s,r=e.aoData[t],a=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=x(e,t,n,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==r.src)){var l=r.anCells;if(l)if(o!==n)a(l[o],o);else for(i=0,s=l.length;s>i;i++)a(l[i],i)}else r._aData=M(e,r,o,o===n?n:r._aData).data;if(r._aSortData=null,r._aFilterData=null,a=e.aoColumns,o!==n)a[o].sType=null;else{for(i=0,s=a.length;s>i;i++)a[i].sType=null;F(e,r)}}function M(t,i,o,s){var r,a,l,c=[],u=i.firstChild,h=0,d=t.aoColumns,f=t._rowReadObject,s=s!==n?s:f?{}:[],p=function(e,t){if("string"==typeof e){var i=e.indexOf("@");-1!==i&&(i=e.substring(i+1),D(e)(s,t.getAttribute(i)))}},m=function(t){(o===n||o===h)&&(a=d[h],l=e.trim(t.innerHTML),a&&a._bAttrSrc?(D(a.mData._)(s,l),p(a.mData.sort,t),p(a.mData.type,t),p(a.mData.filter,t)):f?(a._setter||(a._setter=D(a.mData)),a._setter(s,l)):s[h]=l),h++};if(u)for(;u;)r=u.nodeName.toUpperCase(),("TD"==r||"TH"==r)&&(m(u),c.push(u)),u=u.nextSibling;else for(c=i.anCells,u=0,r=c.length;r>u;u++)m(c[u]);return(i=i.firstChild?i:i.nTr)&&(i=i.getAttribute("id"))&&D(t.rowId)(s,i),{data:s,cells:c}}function E(t,n,o,s){var r,a,l,c,u,h=t.aoData[n],d=h._aData,f=[];if(null===h.nTr){for(r=o||i.createElement("tr"),h.nTr=r,h.anCells=f,r._DT_RowIndex=n,F(t,h),c=0,u=t.aoColumns.length;u>c;c++)l=t.aoColumns[c],a=o?s[c]:i.createElement(l.sCellType),a._DT_CellIndex={row:n,column:c},f.push(a),o&&!l.mRender&&l.mData===c||e.isPlainObject(l.mData)&&l.mData._===c+".display"||(a.innerHTML=x(t,n,c,"display")),l.sClass&&(a.className+=" "+l.sClass),l.bVisible&&!o?r.appendChild(a):!l.bVisible&&o&&a.parentNode.removeChild(a),l.fnCreatedCell&&l.fnCreatedCell.call(t.oInstance,a,x(t,n,c),d,n,c);Ot(t,"aoRowCreatedCallback",null,[r,d,n])}h.nTr.setAttribute("role","row")}function F(t,i){var n=i.nTr,o=i._aData;if(n){var s=t.rowIdFn(o);s&&(n.id=s),o.DT_RowClass&&(s=o.DT_RowClass.split(" "),i.__rowc=i.__rowc?ci(i.__rowc.concat(s)):s,e(n).removeClass(i.__rowc.join(" ")).addClass(o.DT_RowClass)),o.DT_RowAttr&&e(n).attr(o.DT_RowAttr),o.DT_RowData&&e(n).data(o.DT_RowData)}}function R(t){var i,n,o,s,r,a=t.nTHead,l=t.nTFoot,c=0===e("th, td",a).length,u=t.oClasses,h=t.aoColumns;for(c&&(s=e("<tr/>").appendTo(a)),i=0,n=h.length;n>i;i++)r=h[i],o=e(r.nTh).addClass(r.sClass),c&&o.appendTo(s),t.oFeatures.bSort&&(o.addClass(r.sSortingClass),!1!==r.bSortable&&(o.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Ct(t,r.nTh,i))),r.sTitle!=o[0].innerHTML&&o.html(r.sTitle),Lt(t,"header")(t,o,r,u);if(c&&N(t.aoHeader,a),e(a).find(">tr").attr("role","row"),e(a).find(">tr>th, >tr>td").addClass(u.sHeaderTH),e(l).find(">tr>th, >tr>td").addClass(u.sFooterTH),null!==l)for(t=t.aoFooter[0],i=0,n=t.length;n>i;i++)r=h[i],r.nTf=t[i].cell,r.sClass&&e(r.nTf).addClass(r.sClass)}function O(t,i,o){var s,r,a,l,c=[],u=[],h=t.aoColumns.length;if(i){for(o===n&&(o=!1),s=0,r=i.length;r>s;s++){for(c[s]=i[s].slice(),c[s].nTr=i[s].nTr,a=h-1;a>=0;a--)!t.aoColumns[a].bVisible&&!o&&c[s].splice(a,1);u.push([])}for(s=0,r=c.length;r>s;s++){if(t=c[s].nTr)for(;a=t.firstChild;)t.removeChild(a);for(a=0,i=c[s].length;i>a;a++)if(l=h=1,u[s][a]===n){for(t.appendChild(c[s][a].cell),u[s][a]=1;c[s+h]!==n&&c[s][a].cell==c[s+h][a].cell;)u[s+h][a]=1,h++;for(;c[s][a+l]!==n&&c[s][a].cell==c[s][a+l].cell;){for(o=0;h>o;o++)u[s+o][a+l]=1;l++}e(c[s][a].cell).attr("rowspan",h).attr("colspan",l)}}}}function H(t){var i=Ot(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==e.inArray(!1,i))ht(t,!1);else{var i=[],o=0,s=t.asStripeClasses,r=s.length,a=t.oLanguage,l=t.iInitDisplayStart,c="ssp"==zt(t),u=t.aiDisplay;t.bDrawing=!0,l!==n&&-1!==l&&(t._iDisplayStart=c?l:l>=t.fnRecordsDisplay()?0:l,t.iInitDisplayStart=-1);var l=t._iDisplayStart,h=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,ht(t,!1);else if(c){if(!t.bDestroying&&!W(t))return}else t.iDraw++;if(0!==u.length)for(a=c?t.aoData.length:h,c=c?0:l;a>c;c++){var d=u[c],f=t.aoData[d];if(null===f.nTr&&E(t,d),d=f.nTr,0!==r){var p=s[o%r];f._sRowStripe!=p&&(e(d).removeClass(f._sRowStripe).addClass(p),f._sRowStripe=p)}Ot(t,"aoRowCallback",null,[d,f._aData,o,c]),i.push(d),o++}else o=a.sZeroRecords,1==t.iDraw&&"ajax"==zt(t)?o=a.sLoadingRecords:a.sEmptyTable&&0===t.fnRecordsTotal()&&(o=a.sEmptyTable),i[0]=e("<tr/>",{"class":r?s[0]:""}).append(e("<td />",{valign:"top",colSpan:g(t),"class":t.oClasses.sRowEmpty}).html(o))[0];Ot(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],T(t),l,h,u]),Ot(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],T(t),l,h,u]),s=e(t.nTBody),s.children().detach(),s.append(e(i)),Ot(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function L(e,t){var i=e.oFeatures,n=i.bFilter;i.bSort&&wt(e),n?V(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,H(e),e._drawHold=!1}function z(t){var i=t.oClasses,n=e(t.nTable),n=e("<div/>").insertBefore(n),o=t.oFeatures,s=e("<div/>",{id:t.sTableId+"_wrapper","class":i.sWrapper+(t.nTFoot?"":" "+i.sNoFooter)});t.nHolding=n[0],t.nTableWrapper=s[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var r,a,l,c,u,h,d=t.sDom.split(""),f=0;f<d.length;f++){if(r=null,a=d[f],"<"==a){if(l=e("<div/>")[0],c=d[f+1],"'"==c||'"'==c){for(u="",h=2;d[f+h]!=c;)u+=d[f+h],h++;"H"==u?u=i.sJUIHeader:"F"==u&&(u=i.sJUIFooter),-1!=u.indexOf(".")?(c=u.split("."),l.id=c[0].substr(1,c[0].length-1),l.className=c[1]):"#"==u.charAt(0)?l.id=u.substr(1,u.length-1):l.className=u,f+=h}s.append(l),s=e(l)}else if(">"==a)s=s.parent();else if("l"==a&&o.bPaginate&&o.bLengthChange)r=at(t);else if("f"==a&&o.bFilter)r=q(t);else if("r"==a&&o.bProcessing)r=ut(t);else if("t"==a)r=dt(t);else if("i"==a&&o.bInfo)r=tt(t);else if("p"==a&&o.bPaginate)r=lt(t);else if(0!==qt.ext.feature.length)for(l=qt.ext.feature,h=0,c=l.length;c>h;h++)if(a==l[h].cFeature){r=l[h].fnInit(t);break}r&&(l=t.aanFeatures,l[a]||(l[a]=[]),l[a].push(r),s.append(r))}n.replaceWith(s),t.nHolding=null}function N(t,i){var n,o,s,r,a,l,c,u,h,d,f=e(i).children("tr");for(t.splice(0,t.length),s=0,l=f.length;l>s;s++)t.push([]);for(s=0,l=f.length;l>s;s++)for(n=f[s],o=n.firstChild;o;){if("TD"==o.nodeName.toUpperCase()||"TH"==o.nodeName.toUpperCase()){for(u=1*o.getAttribute("colspan"),h=1*o.getAttribute("rowspan"),u=u&&0!==u&&1!==u?u:1,h=h&&0!==h&&1!==h?h:1,r=0,a=t[s];a[r];)r++;for(c=r,d=1===u?!0:!1,a=0;u>a;a++)for(r=0;h>r;r++)t[s+r][c+a]={cell:o,unique:d},t[s+r].nTr=n}o=o.nextSibling}}function B(e,t,i){var n=[];i||(i=e.aoHeader,t&&(i=[],N(i,t)));for(var t=0,o=i.length;o>t;t++)for(var s=0,r=i[t].length;r>s;s++)!i[t][s].unique||n[s]&&e.bSortCellsTop||(n[s]=i[t][s].cell);return n}function j(t,i,n){if(Ot(t,"aoServerParams","serverParams",[i]),i&&e.isArray(i)){var o={},s=/(.*?)\[\]$/;e.each(i,function(e,t){var i=t.name.match(s);i?(i=i[0],o[i]||(o[i]=[]),o[i].push(t.value)):o[t.name]=t.value}),i=o}var r,a=t.ajax,l=t.oInstance,c=function(e){Ot(t,null,"xhr",[t,e,t.jqXHR]),n(e)};if(e.isPlainObject(a)&&a.data){r=a.data;var u=e.isFunction(r)?r(i,t):r,i=e.isFunction(r)&&u?u:e.extend(!0,i,u);delete a.data}u={data:i,success:function(e){var i=e.error||e.sError;i&&At(t,0,i),t.json=e,c(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(i,n){var o=Ot(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,o)&&("parsererror"==n?At(t,0,"Invalid JSON response",1):4===i.readyState&&At(t,0,"Ajax error",7)),ht(t,!1)}},t.oAjaxData=i,Ot(t,null,"preXhr",[t,i]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(i,function(e,t){return{name:t,value:e}}),c,t):t.sAjaxSource||"string"==typeof a?t.jqXHR=e.ajax(e.extend(u,{url:a||t.sAjaxSource})):e.isFunction(a)?t.jqXHR=a.call(l,i,c,t):(t.jqXHR=e.ajax(e.extend(u,a)),a.data=r)}function W(e){return e.bAjaxDataGet?(e.iDraw++,ht(e,!0),j(e,$(e),function(t){U(e,t)}),!1):!0}function $(t){var i,n,o,s,r=t.aoColumns,a=r.length,l=t.oFeatures,c=t.oPreviousSearch,u=t.aoPreSearchCols,h=[],d=yt(t);i=t._iDisplayStart,n=!1!==l.bPaginate?t._iDisplayLength:-1;var f=function(e,t){h.push({name:e,value:t})};f("sEcho",t.iDraw),f("iColumns",a),f("sColumns",si(r,"sName").join(",")),f("iDisplayStart",i),f("iDisplayLength",n);var p={draw:t.iDraw,columns:[],order:[],start:i,length:n,search:{value:c.sSearch,regex:c.bRegex}};for(i=0;a>i;i++)o=r[i],s=u[i],n="function"==typeof o.mData?"function":o.mData,p.columns.push({data:n,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:s.sSearch,regex:s.bRegex}}),f("mDataProp_"+i,n),l.bFilter&&(f("sSearch_"+i,s.sSearch),f("bRegex_"+i,s.bRegex),f("bSearchable_"+i,o.bSearchable)),l.bSort&&f("bSortable_"+i,o.bSortable);return l.bFilter&&(f("sSearch",c.sSearch),f("bRegex",c.bRegex)),l.bSort&&(e.each(d,function(e,t){p.order.push({column:t.col,dir:t.dir}),f("iSortCol_"+e,t.col),f("sSortDir_"+e,t.dir)}),f("iSortingCols",d.length)),r=qt.ext.legacy.ajax,null===r?t.sAjaxSource?h:p:r?h:p}function U(e,t){var i=Y(e,t),o=t.sEcho!==n?t.sEcho:t.draw,s=t.iTotalRecords!==n?t.iTotalRecords:t.recordsTotal,r=t.iTotalDisplayRecords!==n?t.iTotalDisplayRecords:t.recordsFiltered;if(o){if(1*o<e.iDraw)return;e.iDraw=1*o}for(I(e),e._iRecordsTotal=parseInt(s,10),e._iRecordsDisplay=parseInt(r,10),o=0,s=i.length;s>o;o++)y(e,i[o]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,H(e),e._bInitComplete||st(e,t),e.bAjaxDataGet=!0,ht(e,!1)}function Y(t,i){var o=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==n?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===o?i.aaData||i[o]:""!==o?S(o)(i):i}function q(t){var n=t.oClasses,o=t.sTableId,s=t.oLanguage,r=t.oPreviousSearch,a=t.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',c=s.sSearch,c=c.match(/_INPUT_/)?c.replace("_INPUT_",l):c+l,n=e("<div/>",{id:a.f?null:o+"_filter","class":n.sFilter}).append(e("<label/>").append(c)),a=function(){var e=this.value?this.value:"";e!=r.sSearch&&(V(t,{sSearch:e,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),t._iDisplayStart=0,H(t))},l=null!==t.searchDelay?t.searchDelay:"ssp"===zt(t)?400:0,u=e("input",n).val(r.sSearch).attr("placeholder",s.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",l?vi(a,l):a).bind("keypress.DT",function(e){return 13==e.keyCode?!1:void 0}).attr("aria-controls",o);return e(t.nTable).on("search.dt.DT",function(e,n){if(t===n)try{u[0]!==i.activeElement&&u.val(r.sSearch)}catch(o){}}),n[0]}function V(e,t,i){var o=e.oPreviousSearch,s=e.aoPreSearchCols,r=function(e){o.sSearch=e.sSearch,o.bRegex=e.bRegex,o.bSmart=e.bSmart,o.bCaseInsensitive=e.bCaseInsensitive};if(b(e),"ssp"!=zt(e)){for(Z(e,t.sSearch,i,t.bEscapeRegex!==n?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),r(t),t=0;t<s.length;t++)K(e,s[t].sSearch,t,s[t].bEscapeRegex!==n?!s[t].bEscapeRegex:s[t].bRegex,s[t].bSmart,s[t].bCaseInsensitive);G(e)}else r(t);e.bFiltered=!0,Ot(e,null,"search",[e])
}function G(t){for(var i,n,o=qt.ext.search,s=t.aiDisplay,r=0,a=o.length;a>r;r++){for(var l=[],c=0,u=s.length;u>c;c++)n=s[c],i=t.aoData[n],o[r](t,i._aFilterData,n,i._aData,c)&&l.push(n);s.length=0,e.merge(s,l)}}function K(e,t,i,n,o,s){if(""!==t)for(var r=e.aiDisplay,n=X(t,n,o,s),o=r.length-1;o>=0;o--)t=e.aoData[r[o]]._aFilterData[i],n.test(t)||r.splice(o,1)}function Z(e,t,i,n,o,s){var r,n=X(t,n,o,s),o=e.oPreviousSearch.sSearch,s=e.aiDisplayMaster;if(0!==qt.ext.search.length&&(i=!0),r=J(e),0>=t.length)e.aiDisplay=s.slice();else for((r||i||o.length>t.length||0!==t.indexOf(o)||e.bSorted)&&(e.aiDisplay=s.slice()),t=e.aiDisplay,i=t.length-1;i>=0;i--)n.test(e.aoData[t[i]]._sFilterRow)||t.splice(i,1)}function X(t,i,n,o){return t=i?t:fi(t),n&&(t="^(?=.*?"+e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0))var t=e.match(/^"(.*)"$/),e=t?t[1]:e;return e.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,o?"i":"")}function J(e){var t,i,n,o,s,r,a,l,c=e.aoColumns,u=qt.ext.type.search;for(t=!1,i=0,o=e.aoData.length;o>i;i++)if(l=e.aoData[i],!l._aFilterData){for(r=[],n=0,s=c.length;s>n;n++)t=c[n],t.bSearchable?(a=x(e,i,n,"filter"),u[t.sType]&&(a=u[t.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(pi.innerHTML=a,a=mi?pi.textContent:pi.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),r.push(a);l._aFilterData=r,l._sFilterRow=r.join("  "),t=!0}return t}function Q(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function et(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function tt(t){var i=t.sTableId,n=t.aanFeatures.i,o=e("<div/>",{"class":t.oClasses.sInfo,id:n?null:i+"_info"});return n||(t.aoDrawCallback.push({fn:it,sName:"information"}),o.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",i+"_info")),o[0]}function it(t){var i=t.aanFeatures.i;if(0!==i.length){var n=t.oLanguage,o=t._iDisplayStart+1,s=t.fnDisplayEnd(),r=t.fnRecordsTotal(),a=t.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==r&&(l+=" "+n.sInfoFiltered),l+=n.sInfoPostFix,l=nt(t,l),n=n.fnInfoCallback,null!==n&&(l=n.call(t.oInstance,t,o,s,r,a,l)),e(i).html(l)}}function nt(e,t){var i=e.fnFormatNumber,n=e._iDisplayStart+1,o=e._iDisplayLength,s=e.fnRecordsDisplay(),r=-1===o;return t.replace(/_START_/g,i.call(e,n)).replace(/_END_/g,i.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,i.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(e,s)).replace(/_PAGE_/g,i.call(e,r?1:Math.ceil(n/o))).replace(/_PAGES_/g,i.call(e,r?1:Math.ceil(s/o)))}function ot(e){var t,i,n,o=e.iInitDisplayStart,s=e.aoColumns;i=e.oFeatures;var r=e.bDeferLoading;if(e.bInitialised){for(z(e),R(e),O(e,e.aoHeader),O(e,e.aoFooter),ht(e,!0),i.bAutoWidth&&mt(e),t=0,i=s.length;i>t;t++)n=s[t],n.sWidth&&(n.nTh.style.width=_t(n.sWidth));Ot(e,null,"preInit",[e]),L(e),s=zt(e),("ssp"!=s||r)&&("ajax"==s?j(e,[],function(i){var n=Y(e,i);for(t=0;t<n.length;t++)y(e,n[t]);e.iInitDisplayStart=o,L(e),ht(e,!1),st(e,i)},e):(ht(e,!1),st(e)))}else setTimeout(function(){ot(e)},200)}function st(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&f(e),Ot(e,null,"plugin-init",[e,t]),Ot(e,"aoInitComplete","init",[e,t])}function rt(e,t){var i=parseInt(t,10);e._iDisplayLength=i,Ht(e),Ot(e,null,"length",[e,i])}function at(t){for(var i=t.oClasses,n=t.sTableId,o=t.aLengthMenu,s=e.isArray(o[0]),r=s?o[0]:o,o=s?o[1]:o,s=e("<select/>",{name:n+"_length","aria-controls":n,"class":i.sLengthSelect}),a=0,l=r.length;l>a;a++)s[0][a]=new Option(o[a],r[a]);var c=e("<div><label/></div>").addClass(i.sLength);return t.aanFeatures.l||(c[0].id=n+"_length"),c.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",s[0].outerHTML)),e("select",c).val(t._iDisplayLength).bind("change.DT",function(){rt(t,e(this).val()),H(t)}),e(t.nTable).bind("length.dt.DT",function(i,n,o){t===n&&e("select",c).val(o)}),c[0]}function lt(t){var i=t.sPaginationType,n=qt.ext.pager[i],o="function"==typeof n,s=function(e){H(e)},i=e("<div/>").addClass(t.oClasses.sPaging+i)[0],r=t.aanFeatures;return o||n.fnInit(t,i,s),r.p||(i.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(o){var t,i=e._iDisplayStart,a=e._iDisplayLength,l=e.fnRecordsDisplay(),c=-1===a,i=c?0:Math.ceil(i/a),a=c?1:Math.ceil(l/a),l=n(i,a),c=0;for(t=r.p.length;t>c;c++)Lt(e,"pageButton")(e,r.p[c],c,l,i,a)}else n.fnUpdate(e,s)},sName:"pagination"})),i}function ct(e,t,i){var n=e._iDisplayStart,o=e._iDisplayLength,s=e.fnRecordsDisplay();return 0===s||-1===o?n=0:"number"==typeof t?(n=t*o,n>s&&(n=0)):"first"==t?n=0:"previous"==t?(n=o>=0?n-o:0,0>n&&(n=0)):"next"==t?s>n+o&&(n+=o):"last"==t?n=Math.floor((s-1)/o)*o:At(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==n,e._iDisplayStart=n,t&&(Ot(e,null,"page",[e]),i&&H(e)),t}function ut(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function ht(t,i){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",i?"block":"none"),Ot(t,null,"processing",[t,i])}function dt(t){var i=e(t.nTable);i.attr("role","grid");var n=t.oScroll;if(""===n.sX&&""===n.sY)return t.nTable;var o=n.sX,s=n.sY,r=t.oClasses,a=i.children("caption"),l=a.length?a[0]._captionSide:null,c=e(i[0].cloneNode(!1)),u=e(i[0].cloneNode(!1)),h=i.children("tfoot");h.length||(h=null),c=e("<div/>",{"class":r.sScrollWrapper}).append(e("<div/>",{"class":r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:o?o?_t(o):null:"100%"}).append(e("<div/>",{"class":r.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(c.removeAttr("id").css("margin-left",0).append("top"===l?a:null).append(i.children("thead"))))).append(e("<div/>",{"class":r.sScrollBody}).css({position:"relative",overflow:"auto",width:o?_t(o):null}).append(i)),h&&c.append(e("<div/>",{"class":r.sScrollFoot}).css({overflow:"hidden",border:0,width:o?o?_t(o):null:"100%"}).append(e("<div/>",{"class":r.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===l?a:null).append(i.children("tfoot")))));var i=c.children(),d=i[0],r=i[1],f=h?i[2]:null;return o&&e(r).on("scroll.DT",function(){var e=this.scrollLeft;d.scrollLeft=e,h&&(f.scrollLeft=e)}),e(r).css(s&&n.bCollapse?"max-height":"height",s),t.nScrollHead=d,t.nScrollBody=r,t.nScrollFoot=f,t.aoDrawCallback.push({fn:ft,sName:"scrolling"}),c[0]}function ft(t){var i,o,s,r,a,l=t.oScroll,c=l.sX,u=l.sXInner,h=l.sY,l=l.iBarWidth,d=e(t.nScrollHead),m=d[0].style,g=d.children("div"),v=g[0].style,b=g.children("table"),g=t.nScrollBody,_=e(g),y=g.style,w=e(t.nScrollFoot).children("div"),x=w.children("table"),k=e(t.nTHead),C=e(t.nTable),S=C[0],D=S.style,T=t.nTFoot?e(t.nTFoot):null,I=t.oBrowser,P=I.bScrollOversize,A=si(t.aoColumns,"nTh"),M=[],E=[],F=[],R=[],O=function(e){e=e.style,e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0};o=g.scrollHeight>g.clientHeight,t.scrollBarVis!==o&&t.scrollBarVis!==n?(t.scrollBarVis=o,f(t)):(t.scrollBarVis=o,C.children("thead, tfoot").remove(),T&&(s=T.clone().prependTo(C),i=T.find("tr"),s=s.find("tr")),r=k.clone().prependTo(C),k=k.find("tr"),o=r.find("tr"),r.find("th, td").removeAttr("tabindex"),c||(y.width="100%",d[0].style.width="100%"),e.each(B(t,r),function(e,i){a=p(t,e),i.style.width=t.aoColumns[a].sWidth}),T&&pt(function(e){e.style.width=""},s),d=C.outerWidth(),""===c?(D.width="100%",P&&(C.find("tbody").height()>g.offsetHeight||"scroll"==_.css("overflow-y"))&&(D.width=_t(C.outerWidth()-l)),d=C.outerWidth()):""!==u&&(D.width=_t(u),d=C.outerWidth()),pt(O,o),pt(function(t){F.push(t.innerHTML),M.push(_t(e(t).css("width")))},o),pt(function(t,i){-1!==e.inArray(t,A)&&(t.style.width=M[i])},k),e(o).height(0),T&&(pt(O,s),pt(function(t){R.push(t.innerHTML),E.push(_t(e(t).css("width")))},s),pt(function(e,t){e.style.width=E[t]},i),e(s).height(0)),pt(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+F[t]+"</div>",e.style.width=M[t]},o),T&&pt(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+R[t]+"</div>",e.style.width=E[t]},s),C.outerWidth()<d?(i=g.scrollHeight>g.offsetHeight||"scroll"==_.css("overflow-y")?d+l:d,P&&(g.scrollHeight>g.offsetHeight||"scroll"==_.css("overflow-y"))&&(D.width=_t(i-l)),(""===c||""!==u)&&At(t,1,"Possible column misalignment",6)):i="100%",y.width=_t(i),m.width=_t(i),T&&(t.nScrollFoot.style.width=_t(i)),!h&&P&&(y.height=_t(S.offsetHeight+l)),c=C.outerWidth(),b[0].style.width=_t(c),v.width=_t(c),u=C.height()>g.clientHeight||"scroll"==_.css("overflow-y"),h="padding"+(I.bScrollbarLeft?"Left":"Right"),v[h]=u?l+"px":"0px",T&&(x[0].style.width=_t(c),w[0].style.width=_t(c),w[0].style[h]=u?l+"px":"0px"),C.children("colgroup").insertBefore(C.children("thead")),_.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(g.scrollTop=0))}function pt(e,t,i){for(var n,o,s=0,r=0,a=t.length;a>r;){for(n=t[r].firstChild,o=i?i[r].firstChild:null;n;)1===n.nodeType&&(i?e(n,o,s):e(n,s),s++),n=n.nextSibling,o=i?o.nextSibling:null;r++}}function mt(i){var n,o,s=i.nTable,r=i.aoColumns,a=i.oScroll,l=a.sY,c=a.sX,u=a.sXInner,h=r.length,d=v(i,"bVisible"),m=e("th",i.nTHead),b=s.getAttribute("width"),_=s.parentNode,y=!1,w=i.oBrowser,a=w.bScrollOversize;for((n=s.style.width)&&-1!==n.indexOf("%")&&(b=n),n=0;n<d.length;n++)o=r[d[n]],null!==o.sWidth&&(o.sWidth=gt(o.sWidthOrig,_),y=!0);if(a||!y&&!c&&!l&&h==g(i)&&h==m.length)for(n=0;h>n;n++)d=p(i,n),null!==d&&(r[d].sWidth=_t(m.eq(n).width()));else{h=e(s).clone().css("visibility","hidden").removeAttr("id"),h.find("tbody tr").remove();var x=e("<tr/>").appendTo(h.find("tbody"));for(h.find("thead, tfoot").remove(),h.append(e(i.nTHead).clone()).append(e(i.nTFoot).clone()),h.find("tfoot th, tfoot td").css("width",""),m=B(i,h.find("thead")[0]),n=0;n<d.length;n++)o=r[d[n]],m[n].style.width=null!==o.sWidthOrig&&""!==o.sWidthOrig?_t(o.sWidthOrig):"",o.sWidthOrig&&c&&e(m[n]).append(e("<div/>").css({width:o.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(n=0;n<d.length;n++)y=d[n],o=r[y],e(vt(i,y)).clone(!1).append(o.sContentPadding).appendTo(x);for(e("[name]",h).removeAttr("name"),o=e("<div/>").css(c||l?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(h).appendTo(_),c&&u?h.width(u):c?(h.css("width","auto"),h.removeAttr("width"),h.width()<_.clientWidth&&b&&h.width(_.clientWidth)):l?h.width(_.clientWidth):b&&h.width(b),n=l=0;n<d.length;n++)_=e(m[n]),u=_.outerWidth()-_.width(),_=w.bBounding?Math.ceil(m[n].getBoundingClientRect().width):_.outerWidth(),l+=_,r[d[n]].sWidth=_t(_-u);s.style.width=_t(l),o.remove()}b&&(s.style.width=_t(b)),!b&&!c||i._reszEvt||(s=function(){e(t).bind("resize.DT-"+i.sInstance,vi(function(){f(i)}))},a?setTimeout(s,1e3):s(),i._reszEvt=!0)}function gt(t,n){if(!t)return 0;var o=e("<div/>").css("width",_t(t)).appendTo(n||i.body),s=o[0].offsetWidth;return o.remove(),s}function vt(t,i){var n=bt(t,i);if(0>n)return null;var o=t.aoData[n];return o.nTr?o.anCells[i]:e("<td/>").html(x(t,n,i,"display"))[0]}function bt(e,t){for(var i,n=-1,o=-1,s=0,r=e.aoData.length;r>s;s++)i=x(e,s,t,"display")+"",i=i.replace(gi,""),i=i.replace(/&nbsp;/g," "),i.length>n&&(n=i.length,o=s);return o}function _t(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function yt(t){var i,o,s,r,a,l,c=[],u=t.aoColumns;i=t.aaSortingFixed,o=e.isPlainObject(i);var h=[];for(s=function(t){t.length&&!e.isArray(t[0])?h.push(t):e.merge(h,t)},e.isArray(i)&&s(i),o&&i.pre&&s(i.pre),s(t.aaSorting),o&&i.post&&s(i.post),t=0;t<h.length;t++)for(l=h[t][0],s=u[l].aDataSort,i=0,o=s.length;o>i;i++)r=s[i],a=u[r].sType||"string",h[t]._idx===n&&(h[t]._idx=e.inArray(h[t][1],u[r].asSorting)),c.push({src:l,col:r,dir:h[t][1],index:h[t]._idx,type:a,formatter:qt.ext.type.order[a+"-pre"]});return c}function wt(e){var t,i,n,o,s=[],r=qt.ext.type.order,a=e.aoData,l=0,c=e.aiDisplayMaster;for(b(e),o=yt(e),t=0,i=o.length;i>t;t++)n=o[t],n.formatter&&l++,Dt(e,n.col);if("ssp"!=zt(e)&&0!==o.length){for(t=0,i=c.length;i>t;t++)s[c[t]]=t;c.sort(l===o.length?function(e,t){var i,n,r,l,c=o.length,u=a[e]._aSortData,h=a[t]._aSortData;for(r=0;c>r;r++)if(l=o[r],i=u[l.col],n=h[l.col],i=n>i?-1:i>n?1:0,0!==i)return"asc"===l.dir?i:-i;return i=s[e],n=s[t],n>i?-1:i>n?1:0}:function(e,t){var i,n,l,c,u=o.length,h=a[e]._aSortData,d=a[t]._aSortData;for(l=0;u>l;l++)if(c=o[l],i=h[c.col],n=d[c.col],c=r[c.type+"-"+c.dir]||r["string-"+c.dir],i=c(i,n),0!==i)return i;return i=s[e],n=s[t],n>i?-1:i>n?1:0})}e.bSorted=!0}function xt(e){for(var t,i,n=e.aoColumns,o=yt(e),e=e.oLanguage.oAria,s=0,r=n.length;r>s;s++){i=n[s];var a=i.asSorting;t=i.sTitle.replace(/<.*?>/g,"");var l=i.nTh;l.removeAttribute("aria-sort"),i.bSortable&&(0<o.length&&o[0].col==s?(l.setAttribute("aria-sort","asc"==o[0].dir?"ascending":"descending"),i=a[o[0].index+1]||a[0]):i=a[0],t+="asc"===i?e.sSortAscending:e.sSortDescending),l.setAttribute("aria-label",t)}}function kt(t,i,o,s){var r=t.aaSorting,a=t.aoColumns[i].asSorting,l=function(t,i){var o=t._idx;return o===n&&(o=e.inArray(t[1],a)),o+1<a.length?o+1:i?null:0};"number"==typeof r[0]&&(r=t.aaSorting=[r]),o&&t.oFeatures.bSortMulti?(o=e.inArray(i,si(r,"0")),-1!==o?(i=l(r[o],!0),null===i&&1===r.length&&(i=0),null===i?r.splice(o,1):(r[o][1]=a[i],r[o]._idx=i)):(r.push([i,a[0],0]),r[r.length-1]._idx=0)):r.length&&r[0][0]==i?(i=l(r[0]),r.length=1,r[0][1]=a[i],r[0]._idx=i):(r.length=0,r.push([i,a[0]]),r[0]._idx=0),L(t),"function"==typeof s&&s(t)}function Ct(e,t,i,n){var o=e.aoColumns[i];Ft(t,{},function(t){!1!==o.bSortable&&(e.oFeatures.bProcessing?(ht(e,!0),setTimeout(function(){kt(e,i,t.shiftKey,n),"ssp"!==zt(e)&&ht(e,!1)},0)):kt(e,i,t.shiftKey,n))})}function St(t){var i,n,o=t.aLastSort,s=t.oClasses.sSortColumn,r=yt(t),a=t.oFeatures;if(a.bSort&&a.bSortClasses){for(a=0,i=o.length;i>a;a++)n=o[a].src,e(si(t.aoData,"anCells",n)).removeClass(s+(2>a?a+1:3));for(a=0,i=r.length;i>a;a++)n=r[a].src,e(si(t.aoData,"anCells",n)).addClass(s+(2>a?a+1:3))}t.aLastSort=r}function Dt(e,t){var i,n=e.aoColumns[t],o=qt.ext.order[n.sSortDataType];o&&(i=o.call(e.oInstance,e,t,m(e,t)));for(var s,r=qt.ext.type.order[n.sType+"-pre"],a=0,l=e.aoData.length;l>a;a++)n=e.aoData[a],n._aSortData||(n._aSortData=[]),(!n._aSortData[t]||o)&&(s=o?i[a]:x(e,a,t,"sort"),n._aSortData[t]=r?r(s):s)}function Tt(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var i={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:Q(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,i){return{visible:e.bVisible,search:Q(t.aoPreSearchCols[i])}})};Ot(t,"aoStateSaveParams","stateSaveParams",[t,i]),t.oSavedState=i,t.fnStateSaveCallback.call(t.oInstance,t,i)}}function It(t){var i,o,s=t.aoColumns;if(t.oFeatures.bStateSave){var r=t.fnStateLoadCallback.call(t.oInstance,t);if(r&&r.time&&(i=Ot(t,"aoStateLoadParams","stateLoadParams",[t,r]),-1===e.inArray(!1,i)&&(i=t.iStateDuration,!(i>0&&r.time<+new Date-1e3*i)&&s.length===r.columns.length))){for(t.oLoadedState=e.extend(!0,{},r),r.start!==n&&(t._iDisplayStart=r.start,t.iInitDisplayStart=r.start),r.length!==n&&(t._iDisplayLength=r.length),r.order!==n&&(t.aaSorting=[],e.each(r.order,function(e,i){t.aaSorting.push(i[0]>=s.length?[0,i[1]]:i)})),r.search!==n&&e.extend(t.oPreviousSearch,et(r.search)),i=0,o=r.columns.length;o>i;i++){var a=r.columns[i];a.visible!==n&&(s[i].bVisible=a.visible),a.search!==n&&e.extend(t.aoPreSearchCols[i],et(a.search))}Ot(t,"aoStateLoaded","stateLoaded",[t,r])}}}function Pt(t){var i=qt.settings,t=e.inArray(t,si(i,"nTable"));return-1!==t?i[t]:null}function At(e,i,n,o){if(n="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+n,o&&(n+=". For more information about this error, please see http://datatables.net/tn/"+o),i)t.console&&console.log&&console.log(n);else if(i=qt.ext,i=i.sErrMode||i.errMode,e&&Ot(e,null,"error",[e,o,n]),"alert"==i)alert(n);else{if("throw"==i)throw Error(n);"function"==typeof i&&i(e,o,n)}}function Mt(t,i,o,s){e.isArray(o)?e.each(o,function(n,o){e.isArray(o)?Mt(t,i,o[0],o[1]):Mt(t,i,o)}):(s===n&&(s=o),i[o]!==n&&(t[s]=i[o]))}function Et(t,i,n){var o,s;for(s in i)i.hasOwnProperty(s)&&(o=i[s],e.isPlainObject(o)?(e.isPlainObject(t[s])||(t[s]={}),e.extend(!0,t[s],o)):t[s]=n&&"data"!==s&&"aaData"!==s&&e.isArray(o)?o.slice():o);return t}function Ft(t,i,n){e(t).bind("click.DT",i,function(e){t.blur(),n(e)}).bind("keypress.DT",i,function(e){13===e.which&&(e.preventDefault(),n(e))}).bind("selectstart.DT",function(){return!1})}function Rt(e,t,i,n){i&&e[t].push({fn:i,sName:n})}function Ot(t,i,n,o){var s=[];return i&&(s=e.map(t[i].slice().reverse(),function(e){return e.fn.apply(t.oInstance,o)})),null!==n&&(i=e.Event(n+".dt"),e(t.nTable).trigger(i,o),s.push(i.result)),s}function Ht(e){var t=e._iDisplayStart,i=e.fnDisplayEnd(),n=e._iDisplayLength;t>=i&&(t=i-n),t-=t%n,(-1===n||0>t)&&(t=0),e._iDisplayStart=t}function Lt(t,i){var n=t.renderer,o=qt.ext.renderer[i];return e.isPlainObject(n)&&n[i]?o[n[i]]||o._:"string"==typeof n?o[n]||o._:o._}function zt(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Nt(e,t){var i=[],i=Ri.numbers_length,n=Math.floor(i/2);return i>=t?i=ai(0,t):n>=e?(i=ai(0,i-2),i.push("ellipsis"),i.push(t-1)):(e>=t-1-n?i=ai(t-(i-2),t):(i=ai(e-n+2,e+n-1),i.push("ellipsis"),i.push(t-1)),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Bt(t){e.each({num:function(e){return Oi(e,t)},"num-fmt":function(e){return Oi(e,t,Qt)},"html-num":function(e){return Oi(e,t,Kt)},"html-num-fmt":function(e){return Oi(e,t,Kt,Qt)}},function(e,i){Wt.type.order[e+t+"-pre"]=i,e.match(/^html\-/)&&(Wt.type.search[e+t]=Wt.type.search.html)})}function jt(e){return function(){var t=[Pt(this[qt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return qt.ext.internal[e].apply(this,t)}}var Wt,$t,Ut,Yt,qt=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new $t(e?Pt(this[Wt.iApiIndex]):this)},this.fnAddData=function(t,i){var o=this.api(!0),s=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?o.rows.add(t):o.row.add(t);return(i===n||i)&&o.draw(),s.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),i=t.settings()[0],o=i.oScroll;e===n||e?t.draw(!1):(""!==o.sX||""!==o.sY)&&ft(i)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===n||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,i){var o=this.api(!0),e=o.rows(e),s=e.settings()[0],r=s.aoData[e[0][0]];return e.remove(),t&&t.call(this,s,r),(i===n||i)&&o.draw(),r},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,i,o,s,r){s=this.api(!0),null===t||t===n?s.search(e,i,o,r):s.column(t).search(e,i,o,r),s.draw()},this.fnGetData=function(e,t){var i=this.api(!0);if(e!==n){var o=e.nodeName?e.nodeName.toLowerCase():"";return t!==n||"td"==o||"th"==o?i.cell(e,t).data():i.row(e).data()||null}return i.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==n?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),i=e.nodeName.toUpperCase();return"TR"==i?t.row(e).index():"TD"==i||"TH"==i?(e=t.cell(e).index(),[e.row,e.columnVisible,e.column]):null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,i){return this.api(!0).row(e).child(t,i).show().child()[0]},this.fnPageChange=function(e,t){var i=this.api(!0).page(e);(t===n||t)&&i.draw(!1)},this.fnSetColumnVis=function(e,t,i){e=this.api(!0).column(e).visible(t),(i===n||i)&&e.columns.adjust().draw()},this.fnSettings=function(){return Pt(this[Wt.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,i){this.api(!0).order.listener(e,t,i)},this.fnUpdate=function(e,t,i,o,s){var r=this.api(!0);return i===n||null===i?r.row(t).data(e):r.cell(t,i).data(e),(s===n||s)&&r.columns.adjust(),(o===n||o)&&r.draw(),0},this.fnVersionCheck=Wt.fnVersionCheck;var i=this,o=t===n,u=this.length;o&&(t={}),this.oApi=this.internal=Wt.internal;for(var f in qt.ext.internal)f&&(this[f]=jt(f));return this.each(function(){var f,p={},p=u>1?Et(p,t,!0):t,m=0,g=this.getAttribute("id"),v=!1,b=qt.defaults,x=e(this);if("table"!=this.nodeName.toLowerCase())At(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{a(b),l(b.column),s(b,b,!0),s(b.column,b.column,!0),s(b,e.extend(p,x.data()));var k=qt.settings,m=0;for(f=k.length;f>m;m++){var C=k[m];if(C.nTable==this||C.nTHead.parentNode==this||C.nTFoot&&C.nTFoot.parentNode==this){if(m=p.bRetrieve!==n?p.bRetrieve:b.bRetrieve,o||m)return C.oInstance;if(p.bDestroy!==n?p.bDestroy:b.bDestroy){C.oInstance.fnDestroy();break}return void At(C,0,"Cannot reinitialise DataTable",3)}if(C.sTableId==this.id){k.splice(m,1);break}}(null===g||""===g)&&(this.id=g="DataTables_Table_"+qt.ext._unique++);var D=e.extend(!0,{},qt.models.oSettings,{sDestroyWidth:x[0].style.width,sInstance:g,sTableId:g});D.nTable=this,D.oApi=i.internal,D.oInit=p,k.push(D),D.oInstance=1===i.length?i:x.dataTable(),a(p),p.oLanguage&&r(p.oLanguage),p.aLengthMenu&&!p.iDisplayLength&&(p.iDisplayLength=e.isArray(p.aLengthMenu[0])?p.aLengthMenu[0][0]:p.aLengthMenu[0]),p=Et(e.extend(!0,{},b),p),Mt(D.oFeatures,p,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Mt(D,p,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Mt(D.oScroll,p,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Mt(D.oLanguage,p,"fnInfoCallback"),Rt(D,"aoDrawCallback",p.fnDrawCallback,"user"),Rt(D,"aoServerParams",p.fnServerParams,"user"),Rt(D,"aoStateSaveParams",p.fnStateSaveParams,"user"),Rt(D,"aoStateLoadParams",p.fnStateLoadParams,"user"),Rt(D,"aoStateLoaded",p.fnStateLoaded,"user"),Rt(D,"aoRowCallback",p.fnRowCallback,"user"),Rt(D,"aoRowCreatedCallback",p.fnCreatedRow,"user"),Rt(D,"aoHeaderCallback",p.fnHeaderCallback,"user"),Rt(D,"aoFooterCallback",p.fnFooterCallback,"user"),Rt(D,"aoInitComplete",p.fnInitComplete,"user"),Rt(D,"aoPreDrawCallback",p.fnPreDrawCallback,"user"),D.rowIdFn=S(p.rowId),c(D),g=D.oClasses,p.bJQueryUI?(e.extend(g,qt.ext.oJUIClasses,p.oClasses),p.sDom===b.sDom&&"lfrtip"===b.sDom&&(D.sDom='<"H"lfr>t<"F"ip>'),D.renderer?e.isPlainObject(D.renderer)&&!D.renderer.header&&(D.renderer.header="jqueryui"):D.renderer="jqueryui"):e.extend(g,qt.ext.classes,p.oClasses),x.addClass(g.sTable),D.iInitDisplayStart===n&&(D.iInitDisplayStart=p.iDisplayStart,D._iDisplayStart=p.iDisplayStart),null!==p.iDeferLoading&&(D.bDeferLoading=!0,m=e.isArray(p.iDeferLoading),D._iRecordsDisplay=m?p.iDeferLoading[0]:p.iDeferLoading,D._iRecordsTotal=m?p.iDeferLoading[1]:p.iDeferLoading);var T=D.oLanguage;e.extend(!0,T,p.oLanguage),""!==T.sUrl&&(e.ajax({dataType:"json",url:T.sUrl,success:function(t){r(t),s(b.oLanguage,t),e.extend(!0,T,t),ot(D)},error:function(){ot(D)}}),v=!0),null===p.asStripeClasses&&(D.asStripeClasses=[g.sStripeOdd,g.sStripeEven]);var m=D.asStripeClasses,I=x.children("tbody").find("tr").eq(0);if(-1!==e.inArray(!0,e.map(m,function(e){return I.hasClass(e)}))&&(e("tbody tr",this).removeClass(m.join(" ")),D.asDestroyStripes=m.slice()),k=[],m=this.getElementsByTagName("thead"),0!==m.length&&(N(D.aoHeader,m[0]),k=B(D)),null===p.aoColumns)for(C=[],m=0,f=k.length;f>m;m++)C.push(null);else C=p.aoColumns;for(m=0,f=C.length;f>m;m++)h(D,k?k[m]:null);if(_(D,p.aoColumnDefs,C,function(e,t){d(D,e,t)}),I.length){var P=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(I[0]).children("th, td").each(function(e,t){var i=D.aoColumns[e];if(i.mData===e){var o=P(t,"sort")||P(t,"order"),s=P(t,"filter")||P(t,"search");(null!==o||null!==s)&&(i.mData={_:e+".display",sort:null!==o?e+".@data-"+o:n,type:null!==o?e+".@data-"+o:n,filter:null!==s?e+".@data-"+s:n},d(D,e))}})}var A=D.oFeatures;if(p.bStateSave&&(A.bStateSave=!0,It(D,p),Rt(D,"aoDrawCallback",Tt,"state_save")),p.aaSorting===n)for(k=D.aaSorting,m=0,f=k.length;f>m;m++)k[m][1]=D.aoColumns[m].asSorting[0];if(St(D),A.bSort&&Rt(D,"aoDrawCallback",function(){if(D.bSorted){var t=yt(D),i={};e.each(t,function(e,t){i[t.src]=t.dir}),Ot(D,null,"order",[D,t,i]),xt(D)}}),Rt(D,"aoDrawCallback",function(){(D.bSorted||"ssp"===zt(D)||A.bDeferRender)&&St(D)},"sc"),m=x.children("caption").each(function(){this._captionSide=x.css("caption-side")}),f=x.children("thead"),0===f.length&&(f=e("<thead/>").appendTo(this)),D.nTHead=f[0],f=x.children("tbody"),0===f.length&&(f=e("<tbody/>").appendTo(this)),D.nTBody=f[0],f=x.children("tfoot"),0===f.length&&0<m.length&&(""!==D.oScroll.sX||""!==D.oScroll.sY)&&(f=e("<tfoot/>").appendTo(this)),0===f.length||0===f.children().length?x.addClass(g.sNoFooter):0<f.length&&(D.nTFoot=f[0],N(D.aoFooter,D.nTFoot)),p.aaData)for(m=0;m<p.aaData.length;m++)y(D,p.aaData[m]);else(D.bDeferLoading||"dom"==zt(D))&&w(D,e(D.nTBody).children("tr"));D.aiDisplay=D.aiDisplayMaster.slice(),D.bInitialised=!0,!1===v&&ot(D)}}),i=null,this},Vt={},Gt=/[\r\n]/g,Kt=/<.*?>/g,Zt=/^[\w\+\-]/,Xt=/[\w\+\-]$/,Jt=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Qt=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,ei=function(e){return e&&!0!==e&&"-"!==e?!1:!0},ti=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},ii=function(e,t){return Vt[t]||(Vt[t]=RegExp(fi(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Vt[t],"."):e},ni=function(e,t,i){var n="string"==typeof e;return ei(e)?!0:(t&&n&&(e=ii(e,t)),i&&n&&(e=e.replace(Qt,"")),!isNaN(parseFloat(e))&&isFinite(e))},oi=function(e,t,i){return ei(e)?!0:(ei(e)||"string"==typeof e)&&ni(e.replace(Kt,""),t,i)?!0:null},si=function(e,t,i){var o=[],s=0,r=e.length;if(i!==n)for(;r>s;s++)e[s]&&e[s][t]&&o.push(e[s][t][i]);else for(;r>s;s++)e[s]&&o.push(e[s][t]);return o},ri=function(e,t,i,o){var s=[],r=0,a=t.length;if(o!==n)for(;a>r;r++)e[t[r]][i]&&s.push(e[t[r]][i][o]);else for(;a>r;r++)s.push(e[t[r]][i]);return s},ai=function(e,t){var i,o=[];t===n?(t=0,i=e):(i=t,t=e);for(var s=t;i>s;s++)o.push(s);return o},li=function(e){for(var t=[],i=0,n=e.length;n>i;i++)e[i]&&t.push(e[i]);return t},ci=function(e){var t,i,n,o=[],s=e.length,r=0;i=0;e:for(;s>i;i++){for(t=e[i],n=0;r>n;n++)if(o[n]===t)continue e;o.push(t),r++}return o};qt.util={throttle:function(e,t){var i,o,s=t!==n?t:200;return function(){var t=this,r=+new Date,a=arguments;i&&i+s>r?(clearTimeout(o),o=setTimeout(function(){i=n,e.apply(t,a)},s)):(i=r,e.apply(t,a))}},escapeRegex:function(e){return e.replace(Jt,"\\$1")}};var ui=function(e,t,i){e[t]!==n&&(e[i]=e[t])},hi=/\[.*?\]$/,di=/\(\)$/,fi=qt.util.escapeRegex,pi=e("<div>")[0],mi=pi.textContent!==n,gi=/<.*?>/g,vi=qt.util.throttle,bi=[],_i=Array.prototype,yi=function(t){var i,n,o=qt.settings,s=e.map(o,function(e){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(i=e.inArray(t,s),-1!==i?[o[i]]:null):t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?n=e(t):t instanceof e&&(n=t),n?n.map(function(){return i=e.inArray(this,s),-1!==i?o[i]:null}).toArray():void 0):[]};$t=function(t,i){if(!(this instanceof $t))return new $t(t,i);var n=[],o=function(e){(e=yi(e))&&(n=n.concat(e))};if(e.isArray(t))for(var s=0,r=t.length;r>s;s++)o(t[s]);else o(t);this.context=ci(n),i&&e.merge(this,i),this.selector={rows:null,cols:null,opts:null},$t.extend(this,this,bi)},qt.Api=$t,e.extend($t.prototype,{any:function(){return 0!==this.count()},concat:_i.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,i=this.length;i>t;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new $t(t[e],this[e]):null},filter:function(e){var t=[];if(_i.filter)t=_i.filter.call(this,e,this);else for(var i=0,n=this.length;n>i;i++)e.call(this,this[i],i,this)&&t.push(this[i]);return new $t(this.context,t)},flatten:function(){var e=[];return new $t(this.context,e.concat.apply(e,this.toArray()))},join:_i.join,indexOf:_i.indexOf||function(e,t){for(var i=t||0,n=this.length;n>i;i++)if(this[i]===e)return i;return-1},iterator:function(e,t,i,o){var s,r,a,l,c,u,h,d=[],f=this.context,p=this.selector;for("string"==typeof e&&(o=i,i=t,t=e,e=!1),r=0,a=f.length;a>r;r++){var m=new $t(f[r]);if("table"===t)s=i.call(m,f[r],r),s!==n&&d.push(s);else if("columns"===t||"rows"===t)s=i.call(m,f[r],this[r],r),s!==n&&d.push(s);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(h=this[r],"column-rows"===t&&(u=Si(f[r],p.opts)),l=0,c=h.length;c>l;l++)s=h[l],s="cell"===t?i.call(m,f[r],s.row,s.column,r,l):i.call(m,f[r],s,r,l,u),s!==n&&d.push(s)}return d.length||o?(e=new $t(f,e?d.concat.apply([],d):d),t=e.selector,t.rows=p.rows,t.cols=p.cols,t.opts=p.opts,e):this},lastIndexOf:_i.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(_i.map)t=_i.map.call(this,e,this);else for(var i=0,n=this.length;n>i;i++)t.push(e.call(this,this[i],i));return new $t(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:_i.pop,push:_i.push,reduce:_i.reduce||function(e,t){return u(this,e,t,0,this.length,1)},reduceRight:_i.reduceRight||function(e,t){return u(this,e,t,this.length-1,-1,-1)},reverse:_i.reverse,selector:null,shift:_i.shift,sort:_i.sort,splice:_i.splice,toArray:function(){return _i.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new $t(this.context,ci(this))},unshift:_i.unshift}),$t.extend=function(t,i,n){if(n.length&&i&&(i instanceof $t||i.__dt_wrapper)){var o,s,r,a=function(e,t,i){return function(){var n=t.apply(e,arguments);return $t.extend(n,n,i.methodExt),n}};for(o=0,s=n.length;s>o;o++)r=n[o],i[r.name]="function"==typeof r.val?a(t,r.val,r):e.isPlainObject(r.val)?{}:r.val,i[r.name].__dt_wrapper=!0,$t.extend(t,i[r.name],r.propExt)}},$t.register=Ut=function(t,i){if(e.isArray(t))for(var n=0,o=t.length;o>n;n++)$t.register(t[n],i);else for(var s,r,a=t.split("."),l=bi,n=0,o=a.length;o>n;n++){s=(r=-1!==a[n].indexOf("()"))?a[n].replace("()",""):a[n];var c;e:{c=0;for(var u=l.length;u>c;c++)if(l[c].name===s){c=l[c];break e}c=null}c||(c={name:s,val:{},methodExt:[],propExt:[]},l.push(c)),n===o-1?c.val=i:l=r?c.methodExt:c.propExt}},$t.registerPlural=Yt=function(t,i,o){$t.register(t,o),$t.register(i,function(){var t=o.apply(this,arguments);return t===this?this:t instanceof $t?t.length?e.isArray(t[0])?new $t(t.context,t[0]):t[0]:n:t})},Ut("tables()",function(t){var i;if(t){i=$t;var n=this.context;if("number"==typeof t)t=[n[t]];else var o=e.map(n,function(e){return e.nTable}),t=e(o).filter(t).map(function(){var t=e.inArray(this,o);return n[t]}).toArray();i=new i(t)}else i=this;return i}),Ut("table()",function(e){var e=this.tables(e),t=e.context;return t.length?new $t(t[0]):e}),Yt("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Yt("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),Yt("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Yt("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Yt("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper
},1)}),Ut("draw()",function(e){return this.iterator("table",function(t){"page"===e?H(t):("string"==typeof e&&(e="full-hold"===e?!1:!0),L(t,!1===e))})}),Ut("page()",function(e){return e===n?this.page.info().page:this.iterator("table",function(t){ct(t,e)})}),Ut("page.info()",function(){if(0===this.context.length)return n;var e=this.context[0],t=e._iDisplayStart,i=e.oFeatures.bPaginate?e._iDisplayLength:-1,o=e.fnRecordsDisplay(),s=-1===i;return{page:s?0:Math.floor(t/i),pages:s?1:Math.ceil(o/i),start:t,end:e.fnDisplayEnd(),length:i,recordsTotal:e.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===zt(e)}}),Ut("page.len()",function(e){return e===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(t){rt(t,e)})});var wi=function(e,t,i){if(i){var n=new $t(e);n.one("draw",function(){i(n.ajax.json())})}if("ssp"==zt(e))L(e,t);else{ht(e,!0);var o=e.jqXHR;o&&4!==o.readyState&&o.abort(),j(e,[],function(i){I(e);for(var i=Y(e,i),n=0,o=i.length;o>n;n++)y(e,i[n]);L(e,t),ht(e,!1)})}};Ut("ajax.json()",function(){var e=this.context;return 0<e.length?e[0].json:void 0}),Ut("ajax.params()",function(){var e=this.context;return 0<e.length?e[0].oAjaxData:void 0}),Ut("ajax.reload()",function(e,t){return this.iterator("table",function(i){wi(i,!1===t,e)})}),Ut("ajax.url()",function(t){var i=this.context;return t===n?0===i.length?n:(i=i[0],i.ajax?e.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource):this.iterator("table",function(i){e.isPlainObject(i.ajax)?i.ajax.url=t:i.ajax=t})}),Ut("ajax.url().load()",function(e,t){return this.iterator("table",function(i){wi(i,!1===t,e)})});var xi=function(t,i,o,s,r){var a,l,c,u,h,d,f=[];for(c=typeof i,i&&"string"!==c&&"function"!==c&&i.length!==n||(i=[i]),c=0,u=i.length;u>c;c++)for(l=i[c]&&i[c].split?i[c].split(","):[i[c]],h=0,d=l.length;d>h;h++)(a=o("string"==typeof l[h]?e.trim(l[h]):l[h]))&&a.length&&(f=f.concat(a));if(t=Wt.selector[t],t.length)for(c=0,u=t.length;u>c;c++)f=t[c](s,r,f);return ci(f)},ki=function(t){return t||(t={}),t.filter&&t.search===n&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},Ci=function(e){for(var t=0,i=e.length;i>t;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},Si=function(t,i){var n,o,s,r=[],a=t.aiDisplay;n=t.aiDisplayMaster;var l=i.search;if(o=i.order,s=i.page,"ssp"==zt(t))return"removed"===l?[]:ai(0,n.length);if("current"==s)for(n=t._iDisplayStart,o=t.fnDisplayEnd();o>n;n++)r.push(a[n]);else if("current"==o||"applied"==o)r="none"==l?n.slice():"applied"==l?a.slice():e.map(n,function(t){return-1===e.inArray(t,a)?t:null});else if("index"==o||"original"==o)for(n=0,o=t.aoData.length;o>n;n++)"none"==l?r.push(n):(s=e.inArray(n,a),(-1===s&&"removed"==l||s>=0&&"applied"==l)&&r.push(n));return r};Ut("rows()",function(t,i){t===n?t="":e.isPlainObject(t)&&(i=t,t="");var i=ki(i),o=this.iterator("table",function(o){var s=i;return xi("row",t,function(t){var i=ti(t);if(null!==i&&!s)return[i];var r=Si(o,s);return null!==i&&-1!==e.inArray(i,r)?[i]:t?"function"==typeof t?e.map(r,function(e){var i=o.aoData[e];return t(e,i._aData,i.nTr)?e:null}):(i=li(ri(o.aoData,r,"nTr")),t.nodeName?t._DT_RowIndex!==n?[t._DT_RowIndex]:t._DT_CellIndex?[t._DT_CellIndex.row]:(i=e(t).closest("*[data-dt-row]"),i.length?[i.data("dt-row")]:[]):"string"==typeof t&&"#"===t.charAt(0)&&(r=o.aIds[t.replace(/^#/,"")],r!==n)?[r.idx]:e(i).filter(t).map(function(){return this._DT_RowIndex}).toArray()):r},o,s)},1);return o.selector.rows=t,o.selector.opts=i,o}),Ut("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||n},1)}),Ut("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return ri(e.aoData,t,"_aData")},1)}),Yt("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,i){var n=t.aoData[i];return"search"===e?n._aFilterData:n._aSortData},1)}),Yt("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,i){A(t,i,e)})}),Yt("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),Yt("rows().ids()","row().id()",function(e){for(var t=[],i=this.context,n=0,o=i.length;o>n;n++)for(var s=0,r=this[n].length;r>s;s++){var a=i[n].rowIdFn(i[n].aoData[this[n][s]]._aData);t.push((!0===e?"#":"")+a)}return new $t(i,t)}),Yt("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,i,o){var s,r,a,l,c,u=t.aoData,h=u[i];for(u.splice(i,1),s=0,r=u.length;r>s;s++)if(a=u[s],c=a.anCells,null!==a.nTr&&(a.nTr._DT_RowIndex=s),null!==c)for(a=0,l=c.length;l>a;a++)c[a]._DT_CellIndex.row=s;P(t.aiDisplayMaster,i),P(t.aiDisplay,i),P(e[o],i,!1),Ht(t),i=t.rowIdFn(h._aData),i!==n&&delete t.aIds[i]}),this.iterator("table",function(e){for(var t=0,i=e.aoData.length;i>t;t++)e.aoData[t].idx=t}),this}),Ut("rows.add()",function(t){var i=this.iterator("table",function(e){var i,n,o,s=[];for(n=0,o=t.length;o>n;n++)i=t[n],s.push(i.nodeName&&"TR"===i.nodeName.toUpperCase()?w(e,i)[0]:y(e,i));return s},1),n=this.rows(-1);return n.pop(),e.merge(n,i),n}),Ut("row()",function(e,t){return Ci(this.rows(e,t))}),Ut("row().data()",function(e){var t=this.context;return e===n?t.length&&this.length?t[0].aoData[this[0]]._aData:n:(t[0].aoData[this[0]]._aData=e,A(t[0],this[0],"data"),this)}),Ut("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),Ut("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var i=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?w(e,t)[0]:y(e,t)});return this.row(i[0])});var Di=function(e,t){var i=e.context;i.length&&(i=i[0].aoData[t!==n?t:e[0]])&&i._details&&(i._details.remove(),i._detailsShow=n,i._details=n)},Ti=function(e,t){var i=e.context;if(i.length&&e.length){var n=i[0].aoData[e[0]];if(n._details){(n._detailsShow=t)?n._details.insertAfter(n.nTr):n._details.detach();var o=i[0],s=new $t(o),r=o.aoData;s.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<si(r,"_details").length&&(s.on("draw.dt.DT_details",function(e,t){o===t&&s.rows({page:"current"}).eq(0).each(function(e){e=r[e],e._detailsShow&&e._details.insertAfter(e.nTr)})}),s.on("column-visibility.dt.DT_details",function(e,t){if(o===t)for(var i,n=g(t),s=0,a=r.length;a>s;s++)i=r[s],i._details&&i._details.children("td[colspan]").attr("colspan",n)}),s.on("destroy.dt.DT_details",function(e,t){if(o===t)for(var i=0,n=r.length;n>i;i++)r[i]._details&&Di(s,i)}))}}};Ut("row().child()",function(t,i){var o=this.context;if(t===n)return o.length&&this.length?o[0].aoData[this[0]]._details:n;if(!0===t)this.child.show();else if(!1===t)Di(this);else if(o.length&&this.length){var s=o[0],o=o[0].aoData[this[0]],r=[],a=function(t,i){if(e.isArray(t)||t instanceof e)for(var n=0,o=t.length;o>n;n++)a(t[n],i);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?r.push(t):(n=e("<tr><td/></tr>").addClass(i),e("td",n).addClass(i).html(t)[0].colSpan=g(s),r.push(n[0]))};a(t,i),o._details&&o._details.remove(),o._details=e(r),o._detailsShow&&o._details.insertAfter(o.nTr)}return this}),Ut(["row().child.show()","row().child().show()"],function(){return Ti(this,!0),this}),Ut(["row().child.hide()","row().child().hide()"],function(){return Ti(this,!1),this}),Ut(["row().child.remove()","row().child().remove()"],function(){return Di(this),this}),Ut("row().child.isShown()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]]._detailsShow||!1:!1});var Ii=/^(.+):(name|visIdx|visible)$/,Pi=function(e,t,i,n,o){for(var i=[],n=0,s=o.length;s>n;n++)i.push(x(e,o[n],t));return i};Ut("columns()",function(t,i){t===n?t="":e.isPlainObject(t)&&(i=t,t="");var i=ki(i),o=this.iterator("table",function(n){var o=t,s=i,r=n.aoColumns,a=si(r,"sName"),l=si(r,"nTh");return xi("column",o,function(t){var i=ti(t);if(""===t)return ai(r.length);if(null!==i)return[i>=0?i:r.length+i];if("function"==typeof t){var o=Si(n,s);return e.map(r,function(e,i){return t(i,Pi(n,i,0,0,o),l[i])?i:null})}var c="string"==typeof t?t.match(Ii):"";if(c)switch(c[2]){case"visIdx":case"visible":if(i=parseInt(c[1],10),0>i){var u=e.map(r,function(e,t){return e.bVisible?t:null});return[u[u.length+i]]}return[p(n,i)];case"name":return e.map(a,function(e,t){return e===c[1]?t:null});default:return[]}return t.nodeName&&t._DT_CellIndex?[t._DT_CellIndex.column]:(i=e(l).filter(t).map(function(){return e.inArray(this,l)}).toArray(),i.length||!t.nodeName?i:(i=e(t).closest("*[data-dt-column]"),i.length?[i.data("dt-column")]:[]))},n,s)},1);return o.selector.cols=t,o.selector.opts=i,o}),Yt("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),Yt("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),Yt("columns().data()","column().data()",function(){return this.iterator("column-rows",Pi,1)}),Yt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),Yt("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,i,n,o,s){return ri(t.aoData,s,"search"===e?"_aFilterData":"_aSortData",i)},1)}),Yt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,i,n,o){return ri(e.aoData,o,"anCells",t)},1)}),Yt("columns().visible()","column().visible()",function(t,i){var o=this.iterator("column",function(i,o){if(t===n)return i.aoColumns[o].bVisible;var s,r,a,l=i.aoColumns,c=l[o],u=i.aoData;if(t!==n&&c.bVisible!==t){if(t){var h=e.inArray(!0,si(l,"bVisible"),o+1);for(s=0,r=u.length;r>s;s++)a=u[s].nTr,l=u[s].anCells,a&&a.insertBefore(l[o],l[h]||null)}else e(si(i.aoData,"anCells",o)).detach();c.bVisible=t,O(i,i.aoHeader),O(i,i.aoFooter),Tt(i)}});return t!==n&&(this.iterator("column",function(e,n){Ot(e,null,"column-visibility",[e,n,t,i])}),(i===n||i)&&this.columns.adjust()),o}),Yt("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,i){return"visible"===e?m(t,i):i},1)}),Ut("columns.adjust()",function(){return this.iterator("table",function(e){f(e)},1)}),Ut("column.index()",function(e,t){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===e||"toData"===e)return p(i,t);if("fromData"===e||"toVisible"===e)return m(i,t)}}),Ut("column()",function(e,t){return Ci(this.columns(e,t))}),Ut("cells()",function(t,i,o){if(e.isPlainObject(t)&&(t.row===n?(o=t,t=null):(o=i,i=null)),e.isPlainObject(i)&&(o=i,i=null),null===i||i===n)return this.iterator("table",function(i){var s,r,a,l,c,u,h,d=t,f=ki(o),p=i.aoData,m=Si(i,f),g=li(ri(p,m,"anCells")),v=e([].concat.apply([],g)),b=i.aoColumns.length;return xi("cell",d,function(t){var o="function"==typeof t;if(null===t||t===n||o){for(r=[],a=0,l=m.length;l>a;a++)for(s=m[a],c=0;b>c;c++)u={row:s,column:c},o?(h=p[s],t(u,x(i,s,c),h.anCells?h.anCells[c]:null)&&r.push(u)):r.push(u);return r}return e.isPlainObject(t)?[t]:(o=v.filter(t).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray(),o.length||!t.nodeName?o:(h=e(t).closest("*[data-dt-row]"),h.length?[{row:h.data("dt-row"),column:h.data("dt-column")}]:[]))},i,f)});var s,r,a,l,c,u=this.columns(i,o),h=this.rows(t,o),d=this.iterator("table",function(e,t){for(s=[],r=0,a=h[t].length;a>r;r++)for(l=0,c=u[t].length;c>l;l++)s.push({row:h[t][r],column:u[t][l]});return s},1);return e.extend(d.selector,{cols:i,rows:t,opts:o}),d}),Yt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,i){return(e=e.aoData[t])&&e.anCells?e.anCells[i]:n},1)}),Ut("cells().data()",function(){return this.iterator("cell",function(e,t,i){return x(e,t,i)},1)}),Yt("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,n){return t.aoData[i][e][n]},1)}),Yt("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,i,n){return x(t,i,n,e)},1)}),Yt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,i){return{row:t,column:i,columnVisible:m(e,i)}},1)}),Yt("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,i,n){A(t,i,e,n)})}),Ut("cell()",function(e,t,i){return Ci(this.cells(e,t,i))}),Ut("cell().data()",function(e){var t=this.context,i=this[0];return e===n?t.length&&i.length?x(t[0],i[0].row,i[0].column):n:(k(t[0],i[0].row,i[0].column,e),A(t[0],i[0].row,"data",i[0].column),this)}),Ut("order()",function(t,i){var o=this.context;return t===n?0!==o.length?o[0].aaSorting:n:("number"==typeof t?t=[[t,i]]:t.length&&!e.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),Ut("order.listener()",function(e,t,i){return this.iterator("table",function(n){Ct(n,e,t,i)})}),Ut("order.fixed()",function(t){if(!t){var i=this.context,i=i.length?i[0].aaSortingFixed:n;return e.isArray(i)?{pre:i}:i}return this.iterator("table",function(i){i.aaSortingFixed=e.extend(!0,{},t)})}),Ut(["columns().order()","column().order()"],function(t){var i=this;return this.iterator("table",function(n,o){var s=[];e.each(i[o],function(e,i){s.push([i,t])}),n.aaSorting=s})}),Ut("search()",function(t,i,o,s){var r=this.context;return t===n?0!==r.length?r[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&V(n,e.extend({},n.oPreviousSearch,{sSearch:t+"",bRegex:null===i?!1:i,bSmart:null===o?!0:o,bCaseInsensitive:null===s?!0:s}),1)})}),Yt("columns().search()","column().search()",function(t,i,o,s){return this.iterator("column",function(r,a){var l=r.aoPreSearchCols;return t===n?l[a].sSearch:void(r.oFeatures.bFilter&&(e.extend(l[a],{sSearch:t+"",bRegex:null===i?!1:i,bSmart:null===o?!0:o,bCaseInsensitive:null===s?!0:s}),V(r,r.oPreviousSearch,1)))})}),Ut("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Ut("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Ut("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Ut("state.save()",function(){return this.iterator("table",function(e){Tt(e)})}),qt.versionCheck=qt.fnVersionCheck=function(e){for(var t,i,n=qt.version.split("."),e=e.split("."),o=0,s=e.length;s>o;o++)if(t=parseInt(n[o],10)||0,i=parseInt(e[o],10)||0,t!==i)return t>i;return!0},qt.isDataTable=qt.fnIsDataTable=function(t){var i=e(t).get(0),n=!1;return e.each(qt.settings,function(t,o){var s=o.nScrollHead?e("table",o.nScrollHead)[0]:null,r=o.nScrollFoot?e("table",o.nScrollFoot)[0]:null;(o.nTable===i||s===i||r===i)&&(n=!0)}),n},qt.tables=qt.fnTables=function(t){var i=!1;e.isPlainObject(t)&&(i=t.api,t=t.visible);var n=e.map(qt.settings,function(i){return!t||t&&e(i.nTable).is(":visible")?i.nTable:void 0});return i?new $t(n):n},qt.camelToHungarian=s,Ut("$()",function(t,i){var n=this.rows(i).nodes(),n=e(n);return e([].concat(n.filter(t).toArray(),n.find(t).toArray()))}),e.each(["on","one","off"],function(t,i){Ut(i+"()",function(){var t=Array.prototype.slice.call(arguments);t[0].match(/\.dt\b/)||(t[0]+=".dt");var n=e(this.tables().nodes());return n[i].apply(n,t),this})}),Ut("clear()",function(){return this.iterator("table",function(e){I(e)})}),Ut("settings()",function(){return new $t(this.context,this.context)}),Ut("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),Ut("data()",function(){return this.iterator("table",function(e){return si(e.aoData,"_aData")}).flatten()}),Ut("destroy()",function(i){return i=i||!1,this.iterator("table",function(n){var o,s=n.nTableWrapper.parentNode,r=n.oClasses,a=n.nTable,l=n.nTBody,c=n.nTHead,u=n.nTFoot,h=e(a),l=e(l),d=e(n.nTableWrapper),f=e.map(n.aoData,function(e){return e.nTr});n.bDestroying=!0,Ot(n,"aoDestroyCallback","destroy",[n]),i||new $t(n).columns().visible(!0),d.unbind(".DT").find(":not(tbody *)").unbind(".DT"),e(t).unbind(".DT-"+n.sInstance),a!=c.parentNode&&(h.children("thead").detach(),h.append(c)),u&&a!=u.parentNode&&(h.children("tfoot").detach(),h.append(u)),n.aaSorting=[],n.aaSortingFixed=[],St(n),e(f).removeClass(n.asStripeClasses.join(" ")),e("th, td",c).removeClass(r.sSortable+" "+r.sSortableAsc+" "+r.sSortableDesc+" "+r.sSortableNone),n.bJUI&&(e("th span."+r.sSortIcon+", td span."+r.sSortIcon,c).detach(),e("th, td",c).each(function(){var t=e("div."+r.sSortJUIWrapper,this);e(this).append(t.contents()),t.detach()})),l.children().detach(),l.append(f),c=i?"remove":"detach",h[c](),d[c](),!i&&s&&(s.insertBefore(a,n.nTableReinsertBefore),h.css("width",n.sDestroyWidth).removeClass(r.sTable),(o=n.asDestroyStripes.length)&&l.children().each(function(t){e(this).addClass(n.asDestroyStripes[t%o])})),s=e.inArray(n,qt.settings),-1!==s&&qt.settings.splice(s,1)})}),e.each(["column","row","cell"],function(e,t){Ut(t+"s().every()",function(e){var i=this.selector.opts,o=this;return this.iterator(t,function(s,r,a,l,c){e.call(o[t](r,"cell"===t?a:i,"cell"===t?i:n),r,a,l,c)})})}),Ut("i18n()",function(t,i,o){var s=this.context[0],t=S(t)(s.oLanguage);return t===n&&(t=i),o!==n&&e.isPlainObject(t)&&(t=t[o]!==n?t[o]:t._),t.replace("%d",o)}),qt.version="1.10.12",qt.settings=[],qt.models={},qt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},qt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},qt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},qt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},qt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},o(qt.defaults),qt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},o(qt.defaults.column),qt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==zt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==zt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,i=t+e,n=this.aiDisplay.length,o=this.oFeatures,s=o.bPaginate;return o.bServerSide?!1===s||-1===e?t+n:Math.min(t+e,this._iRecordsDisplay):!s||i>n||-1===e?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},qt.ext=Wt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:qt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:qt.version},e.extend(Wt,{afnFiltering:Wt.search,aTypes:Wt.type.detect,ofnSearch:Wt.type.search,oSort:Wt.type.order,afnSortData:Wt.order,aoFeatures:Wt.feature,oApi:Wt.internal,oStdClasses:Wt.classes,oPagination:Wt.pager}),e.extend(qt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ai="",Ai="",Mi=Ai+"ui-state-default",Ei=Ai+"css_right ui-icon ui-icon-",Fi=Ai+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";e.extend(qt.ext.oJUIClasses,qt.ext.classes,{sPageButton:"fg-button ui-button "+Mi,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:Mi+" sorting_asc",sSortDesc:Mi+" sorting_desc",sSortable:Mi+" sorting",sSortableAsc:Mi+" sorting_asc_disabled",sSortableDesc:Mi+" sorting_desc_disabled",sSortableNone:Mi+" sorting_disabled",sSortJUIAsc:Ei+"triangle-1-n",sSortJUIDesc:Ei+"triangle-1-s",sSortJUI:Ei+"carat-2-n-s",sSortJUIAscAllowed:Ei+"carat-1-n",sSortJUIDescAllowed:Ei+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+Mi,sScrollFoot:"dataTables_scrollFoot "+Mi,sHeaderTH:Mi,sFooterTH:Mi,sJUIHeader:Fi+" ui-corner-tl ui-corner-tr",sJUIFooter:Fi+" ui-corner-bl ui-corner-br"});var Ri=qt.ext.pager;e.extend(Ri,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(e,t){return[Nt(e,t)]},simple_numbers:function(e,t){return["previous",Nt(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Nt(e,t),"next","last"]},_numbers:Nt,numbers_length:7}),e.extend(!0,qt.ext.renderer,{pageButton:{_:function(t,n,o,s,r,a){var l,c,u,h=t.oClasses,d=t.oLanguage.oPaginate,f=t.oLanguage.oAria.paginate||{},p=0,m=function(i,n){var s,u,g,v,b=function(e){ct(t,e.data.action,!0)};for(s=0,u=n.length;u>s;s++)if(v=n[s],e.isArray(v))g=e("<"+(v.DT_el||"div")+"/>").appendTo(i),m(g,v);else{switch(l=null,c="",v){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=d.sFirst,c=v+(r>0?"":" "+h.sPageButtonDisabled);break;case"previous":l=d.sPrevious,c=v+(r>0?"":" "+h.sPageButtonDisabled);break;case"next":l=d.sNext,c=v+(a-1>r?"":" "+h.sPageButtonDisabled);break;case"last":l=d.sLast,c=v+(a-1>r?"":" "+h.sPageButtonDisabled);break;default:l=v+1,c=r===v?h.sPageButtonActive:""}null!==l&&(g=e("<a>",{"class":h.sPageButton+" "+c,"aria-controls":t.sTableId,"aria-label":f[v],"data-dt-idx":p,tabindex:t.iTabIndex,id:0===o&&"string"==typeof v?t.sTableId+"_"+v:null}).html(l).appendTo(i),Ft(g,{action:v},b),p++)}};try{u=e(n).find(i.activeElement).data("dt-idx")}catch(g){}m(e(n).empty(),s),u&&e(n).find("[data-dt-idx="+u+"]").focus()}}}),e.extend(qt.ext.type.detect,[function(e,t){var i=t.oLanguage.sDecimal;return ni(e,i)?"num"+i:null},function(e){if(!(!e||e instanceof Date||Zt.test(e)&&Xt.test(e)))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||ei(e)?"date":null},function(e,t){var i=t.oLanguage.sDecimal;return ni(e,i,!0)?"num-fmt"+i:null},function(e,t){var i=t.oLanguage.sDecimal;return oi(e,i)?"html-num"+i:null},function(e,t){var i=t.oLanguage.sDecimal;return oi(e,i,!0)?"html-num-fmt"+i:null},function(e){return ei(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(qt.ext.type.search,{html:function(e){return ei(e)?e:"string"==typeof e?e.replace(Gt," ").replace(Kt,""):""},string:function(e){return ei(e)?e:"string"==typeof e?e.replace(Gt," "):e}});var Oi=function(e,t,i,n){return 0===e||e&&"-"!==e?(t&&(e=ii(e,t)),e.replace&&(i&&(e=e.replace(i,"")),n&&(e=e.replace(n,""))),1*e):-1/0};e.extend(Wt.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return ei(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return ei(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return t>e?-1:e>t?1:0},"string-desc":function(e,t){return t>e?1:e>t?-1:0}}),Bt(""),e.extend(!0,qt.ext.renderer,{header:{_:function(t,i,n,o){e(t.nTable).on("order.dt.DT",function(e,s,r,a){t===s&&(e=n.idx,i.removeClass(n.sSortingClass+" "+o.sSortAsc+" "+o.sSortDesc).addClass("asc"==a[e]?o.sSortAsc:"desc"==a[e]?o.sSortDesc:n.sSortingClass))})},jqueryui:function(t,i,n,o){e("<div/>").addClass(o.sSortJUIWrapper).append(i.contents()).append(e("<span/>").addClass(o.sSortIcon+" "+n.sSortingClassJUI)).appendTo(i),e(t.nTable).on("order.dt.DT",function(e,s,r,a){t===s&&(e=n.idx,i.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==a[e]?o.sSortAsc:"desc"==a[e]?o.sSortDesc:n.sSortingClass),i.find("span."+o.sSortIcon).removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed).addClass("asc"==a[e]?o.sSortJUIAsc:"desc"==a[e]?o.sSortJUIDesc:n.sSortingClassJUI))})}}});var Hi=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};return qt.render={number:function(e,t,i,n,o){return{display:function(s){if("number"!=typeof s&&"string"!=typeof s)return s;var r=0>s?"-":"",a=parseFloat(s);return isNaN(a)?Hi(s):(s=Math.abs(a),a=parseInt(s,10),s=i?t+(s-a).toFixed(i).substring(2):"",r+(n||"")+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+s+(o||""))}}},text:function(){return{display:Hi}}},e.extend(qt.ext.internal,{_fnExternApiFunc:jt,_fnBuildAjax:j,_fnAjaxUpdate:W,_fnAjaxParameters:$,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:Y,_fnAddColumn:h,_fnColumnOptions:d,_fnAdjustColumnSizing:f,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:_,_fnHungarianMap:o,_fnCamelToHungarian:s,_fnLanguageCompat:r,_fnBrowserDetect:c,_fnAddData:y,_fnAddTr:w,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==n?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,i,n){return e.inArray(n,t.aoData[i].anCells)},_fnGetCellData:x,_fnSetCellData:k,_fnSplitObjNotation:C,_fnGetObjectDataFn:S,_fnSetObjectDataFn:D,_fnGetDataMaster:T,_fnClearTable:I,_fnDeleteIndex:P,_fnInvalidate:A,_fnGetRowElements:M,_fnCreateTr:E,_fnBuildHead:R,_fnDrawHead:O,_fnDraw:H,_fnReDraw:L,_fnAddOptionsHtml:z,_fnDetectHeader:N,_fnGetUniqueThs:B,_fnFeatureHtmlFilter:q,_fnFilterComplete:V,_fnFilterCustom:G,_fnFilterColumn:K,_fnFilter:Z,_fnFilterCreateSearch:X,_fnEscapeRegex:fi,_fnFilterData:J,_fnFeatureHtmlInfo:tt,_fnUpdateInfo:it,_fnInfoMacros:nt,_fnInitialise:ot,_fnInitComplete:st,_fnLengthChange:rt,_fnFeatureHtmlLength:at,_fnFeatureHtmlPaginate:lt,_fnPageChange:ct,_fnFeatureHtmlProcessing:ut,_fnProcessingDisplay:ht,_fnFeatureHtmlTable:dt,_fnScrollDraw:ft,_fnApplyToChildren:pt,_fnCalculateColumnWidths:mt,_fnThrottle:vi,_fnConvertToWidth:gt,_fnGetWidestNode:vt,_fnGetMaxLenString:bt,_fnStringToCss:_t,_fnSortFlatten:yt,_fnSort:wt,_fnSortAria:xt,_fnSortListener:kt,_fnSortAttachListener:Ct,_fnSortingClasses:St,_fnSortData:Dt,_fnSaveState:Tt,_fnLoadState:It,_fnSettingsFromNode:Pt,_fnLog:At,_fnMap:Mt,_fnBindAction:Ft,_fnCallbackReg:Rt,_fnCallbackFire:Ot,_fnLengthOverflow:Ht,_fnRenderer:Lt,_fnDataSource:zt,_fnRowAttributes:F,_fnCalculateEnd:function(){}}),e.fn.dataTable=qt,qt.$=e,e.fn.dataTableSettings=qt.settings,e.fn.dataTableExt=qt.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(qt,function(t,i){e.fn.DataTable[t]=i}),e.fn.dataTable}),!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(window.jQuery)}(function(e){"use strict";e.fn.fileinputLocales={},e.fn.fileinputThemes={};var t,i,n,o,s,r,a,l,c,u,h,d,f,p,m,g,v,b,_,y,w,x,k,C,S,D,T,I,P,A,M,E,F,R,O,H,L,z,N,B,j,W,$,U,Y,q,V,G,K,Z,X,J,Q,et,tt,it,nt,ot,st,rt,at,lt,ct,ut,ht,dt,ft,pt;t=".fileinput",i="kvFileinputModal",n='style="width:{width};height:{height};"',o='<param name="controller" value="true" />\n<param name="allowFullScreen" value="true" />\n<param name="allowScriptAccess" value="always" />\n<param name="autoPlay" value="false" />\n<param name="autoStart" value="false" />\n<param name="quality" value="high" />\n',s='<div class="file-preview-other">\n<span class="{previewFileIconClass}">{previewFileIcon}</span>\n</div>',r=window.URL||window.webkitURL,a=function(e,t,i){return void 0!==e&&(i?e===t:e.match(t))},l=function(e){if("Microsoft Internet Explorer"!==navigator.appName)return!1;
if(10===e)return new RegExp("msie\\s"+e,"i").test(navigator.userAgent);var t,i=document.createElement("div");return i.innerHTML="<!--[if IE "+e+"]> <i></i> <![endif]-->",t=i.getElementsByTagName("i").length,document.body.appendChild(i),i.parentNode.removeChild(i),t},c=function(e,i,n,o){var s=o?i:i.split(" ").join(t+" ")+t;e.off(s).on(s,n)},u={data:{},init:function(e){var t=e.initialPreview,i=e.id;t.length>0&&!ot(t)&&(t=t.split(e.initialPreviewDelimiter)),u.data[i]={content:t,config:e.initialPreviewConfig,tags:e.initialPreviewThumbTags,delimiter:e.initialPreviewDelimiter,previewFileType:e.initialPreviewFileType,previewAsData:e.initialPreviewAsData,template:e.previewGenericTemplate,showZoom:e.fileActionSettings.showZoom,showDrag:e.fileActionSettings.showDrag,getSize:function(t){return e._getSize(t)},parseTemplate:function(t,i,n,o,s,r,a){var l=" file-preview-initial";return e._generatePreviewTemplate(t,i,n,o,s,!1,null,l,r,a)},msg:function(t){return e._getMsgSelected(t)},initId:e.previewInitId,footer:e._getLayoutTemplate("footer").replace(/\{progress}/g,e._renderThumbProgress()),isDelete:e.initialPreviewShowDelete,caption:e.initialCaption,actions:function(t,i,n,o,s,r,a){return e._renderFileActions(t,i,n,o,s,r,a,!0)}}},fetch:function(e){return u.data[e].content.filter(function(e){return null!==e})},count:function(e,t){return u.data[e]&&u.data[e].content?t?u.data[e].content.length:u.fetch(e).length:0},get:function(t,i,n){var o,s,r,a,l,c,h="init_"+i,d=u.data[t],f=d.config[i],p=d.content[i],m=d.initId+"-"+h,g=" file-preview-initial",v=st("previewAsData",f,d.previewAsData);return n=void 0===n||n,p?(f&&f.frameClass&&(g+=" "+f.frameClass),v?(r=d.previewAsData?st("type",f,d.previewFileType||"generic"):"generic",a=st("caption",f),l=u.footer(t,i,n,f&&f.size||null),c=st("filetype",f,r),o=d.parseTemplate(r,p,a,c,m,l,h,null)):o=d.template.replace(/\{previewId}/g,m).replace(/\{frameClass}/g,g).replace(/\{fileindex}/g,h).replace(/\{content}/g,d.content[i]).replace(/\{template}/g,st("type",f,d.previewFileType)).replace(/\{footer}/g,u.footer(t,i,n,f&&f.size||null)),d.tags.length&&d.tags[i]&&(o=lt(o,d.tags[i])),nt(f)||nt(f.frameAttr)||(s=e(document.createElement("div")).html(o),s.find(".file-preview-initial").attr(f.frameAttr),o=s.html(),s.remove()),o):""},add:function(t,i,n,o,s){var r,a=e.extend(!0,{},u.data[t]);return ot(i)||(i=i.split(a.delimiter)),s?(r=a.content.push(i)-1,a.config[r]=n,a.tags[r]=o):(r=i.length-1,a.content=i,a.config=n,a.tags=o),u.data[t]=a,r},set:function(t,i,n,o,s){var r,a,l=e.extend(!0,{},u.data[t]);if(i&&i.length&&(ot(i)||(i=i.split(l.delimiter)),a=i.filter(function(e){return null!==e}),a.length)){if(void 0===l.content&&(l.content=[]),void 0===l.config&&(l.config=[]),void 0===l.tags&&(l.tags=[]),s){for(r=0;r<i.length;r++)i[r]&&l.content.push(i[r]);for(r=0;r<n.length;r++)n[r]&&l.config.push(n[r]);for(r=0;r<o.length;r++)o[r]&&l.tags.push(o[r])}else l.content=i,l.config=n,l.tags=o;u.data[t]=l}},unset:function(e,t){var i=u.count(e);if(i){if(1===i)return u.data[e].content=[],u.data[e].config=[],void(u.data[e].tags=[]);u.data[e].content[t]=null,u.data[e].config[t]=null,u.data[e].tags[t]=null}},out:function(e){var t,i="",n=u.data[e],o=u.count(e,!0);if(0===o)return{content:"",caption:""};for(var s=0;o>s;s++)i+=u.get(e,s);return t=n.msg(u.count(e)),{content:'<div class="file-initial-thumbs">'+i+"</div>",caption:t}},footer:function(e,t,i,n){var o=u.data[e];if(i=void 0===i||i,0===o.config.length||nt(o.config[t]))return"";var s=o.config[t],r=st("caption",s),a=st("width",s,"auto"),l=st("url",s,!1),c=st("key",s,null),h=st("showDelete",s,!0),d=st("showZoom",s,o.showZoom),f=st("showDrag",s,o.showDrag),p=l===!1&&i,m=o.isDelete?o.actions(!1,h,d,f,p,l,c):"",g=o.footer.replace(/\{actions}/g,m);return g.replace(/\{caption}/g,r).replace(/\{size}/g,o.getSize(n)).replace(/\{width}/g,a).replace(/\{indicator}/g,"").replace(/\{indicatorTitle}/g,"")}},h=function(e,t){return t=t||0,"number"==typeof e?e:("string"==typeof e&&(e=parseFloat(e)),isNaN(e)?t:e)},d=function(){return!(!window.File||!window.FileReader)},f=function(){var e=document.createElement("div");return!l(9)&&(void 0!==e.draggable||void 0!==e.ondragstart&&void 0!==e.ondrop)},p=function(){return d()&&window.FormData},m=function(e,t){e.removeClass(t).addClass(t)},K={showRemove:!0,showUpload:!0,showZoom:!0,showDrag:!0,removeIcon:'<i class="glyphicon glyphicon-trash text-danger"></i>',removeClass:"btn btn-xs btn-default",removeTitle:"Remove file",uploadIcon:'<i class="glyphicon glyphicon-upload text-info"></i>',uploadClass:"btn btn-xs btn-default",uploadTitle:"Upload file",zoomIcon:'<i class="glyphicon glyphicon-zoom-in"></i>',zoomClass:"btn btn-xs btn-default",zoomTitle:"View Details",dragIcon:'<i class="glyphicon glyphicon-menu-hamburger"></i>',dragClass:"text-info",dragTitle:"Move / Rearrange",dragSettings:{},indicatorNew:'<i class="glyphicon glyphicon-hand-down text-warning"></i>',indicatorSuccess:'<i class="glyphicon glyphicon-ok-sign text-success"></i>',indicatorError:'<i class="glyphicon glyphicon-exclamation-sign text-danger"></i>',indicatorLoading:'<i class="glyphicon glyphicon-hand-up text-muted"></i>',indicatorNewTitle:"Not uploaded yet",indicatorSuccessTitle:"Uploaded",indicatorErrorTitle:"Upload Error",indicatorLoadingTitle:"Uploading ..."},g='{preview}\n<div class="kv-upload-progress hide"></div>\n<div class="input-group {class}">\n   {caption}\n   <div class="input-group-btn">\n       {remove}\n       {cancel}\n       {upload}\n       {browse}\n   </div>\n</div>',v='{preview}\n<div class="kv-upload-progress hide"></div>\n{remove}\n{cancel}\n{upload}\n{browse}\n',b='<div class="file-preview {class}">\n    {close}    <div class="{dropClass}">\n    <div class="file-preview-thumbnails">\n    </div>\n    <div class="clearfix"></div>    <div class="file-preview-status text-center text-success"></div>\n    <div class="kv-fileinput-error"></div>\n    </div>\n</div>',y='<div class="close fileinput-remove">&times;</div>\n',_='<i class="glyphicon glyphicon-file kv-caption-icon"></i>',w='<div tabindex="500" class="form-control file-caption {class}">\n   <div class="file-caption-name"></div>\n</div>\n',x='<button type="{type}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</button>',k='<a href="{href}" tabindex="500" title="{title}" class="{css}" {status}>{icon} {label}</a>',C='<div tabindex="500" class="{css}" {status}>{icon} {label}</div>',S='<div id="'+i+'" class="file-zoom-dialog modal fade" tabindex="-1" aria-labelledby="'+i+'Label"></div>',D='<div class="modal-dialog modal-lg" role="document">\n  <div class="modal-content">\n    <div class="modal-header">\n      <div class="kv-zoom-actions pull-right">{toggleheader}{fullscreen}{borderless}{close}</div>\n      <h3 class="modal-title">{heading} <small><span class="kv-zoom-title"></span></small></h3>\n    </div>\n    <div class="modal-body">\n      <div class="floating-buttons"></div>\n      <div class="kv-zoom-body file-zoom-content"></div>\n{prev} {next}\n    </div>\n  </div>\n</div>\n',T='<div class="progress">\n    <div class="{class}" role="progressbar" aria-valuenow="{percent}" aria-valuemin="0" aria-valuemax="100" style="width:{percent}%;">\n        {percent}%\n     </div>\n</div>',I=" <br><samp>({sizeText})</samp>",P='<div class="file-thumbnail-footer">\n    <div class="file-footer-caption" title="{caption}">{caption}{size}</div>\n    {progress} {actions}\n</div>',A='<div class="file-actions">\n    <div class="file-footer-buttons">\n        {upload} {delete} {zoom} {other}    </div>\n    {drag}\n    <div class="file-upload-indicator" title="{indicatorTitle}">{indicator}</div>\n    <div class="clearfix"></div>\n</div>',M='<button type="button" class="kv-file-remove {removeClass}" title="{removeTitle}" {dataUrl}{dataKey}>{removeIcon}</button>\n',E='<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>',F='<button type="button" class="kv-file-zoom {zoomClass}" title="{zoomTitle}">{zoomIcon}</button>',R='<span class="file-drag-handle {dragClass}" title="{dragTitle}">{dragIcon}</span>',O='<div class="file-preview-frame{frameClass}" id="{previewId}" data-fileindex="{fileindex}" data-template="{template}"',H=O+'><div class="kv-file-content">\n',L=O+' title="{caption}" '+n+'><div class="kv-file-content">\n',z="</div>{footer}\n</div>\n",N="{content}\n",B='<div class="kv-preview-data file-preview-html" title="{caption}" '+n+">{data}</div>\n",j='<img src="{data}" class="kv-preview-data file-preview-image" title="{caption}" alt="{caption}" '+n+">\n",W='<textarea class="kv-preview-data file-preview-text" title="{caption}" readonly '+n+">{data}</textarea>\n",$='<video class="kv-preview-data" width="{width}" height="{height}" controls>\n<source src="{data}" type="{type}">\n'+s+"\n</video>\n",U='<audio class="kv-preview-data" controls>\n<source src="{data}" type="{type}">\n'+s+"\n</audio>\n",Y='<object class="kv-preview-data file-object" type="application/x-shockwave-flash" width="{width}" height="{height}" data="{data}">\n'+o+" "+s+"\n</object>\n",q='<object class="kv-preview-data file-object" data="{data}" type="{type}" width="{width}" height="{height}">\n<param name="movie" value="{caption}" />\n'+o+" "+s+"\n</object>\n",V='<embed class="kv-preview-data" src="{data}" width="{width}" height="{height}" type="application/pdf">\n',G='<div class="kv-preview-data file-preview-other-frame">\n'+s+"\n</div>\n",Z={main1:g,main2:v,preview:b,close:y,fileIcon:_,caption:w,modalMain:S,modal:D,progress:T,size:I,footer:P,actions:A,actionDelete:M,actionUpload:E,actionZoom:F,actionDrag:R,btnDefault:x,btnLink:k,btnBrowse:C},X={generic:H+N+z,html:H+B+z,image:H+j+z,text:H+W+z,video:L+$+z,audio:L+U+z,flash:L+Y+z,object:L+q+z,pdf:L+V+z,other:L+G+z},Q=["image","html","text","video","audio","flash","pdf","object"],tt={image:{width:"auto",height:"160px"},html:{width:"213px",height:"160px"},text:{width:"213px",height:"160px"},video:{width:"213px",height:"160px"},audio:{width:"213px",height:"80px"},flash:{width:"213px",height:"160px"},object:{width:"160px",height:"160px"},pdf:{width:"160px",height:"160px"},other:{width:"160px",height:"160px"}},J={image:{width:"100%",height:"100%"},html:{width:"100%",height:"100%","min-height":"480px"},text:{width:"100%",height:"100%","min-height":"480px"},video:{width:"auto",height:"100%","max-width":"100%"},audio:{width:"100%",height:"30px"},flash:{width:"auto",height:"480px"},object:{width:"auto",height:"100%","min-height":"480px"},pdf:{width:"100%",height:"100%","min-height":"480px"},other:{width:"auto",height:"100%","min-height":"480px"}},it={image:function(e,t){return a(e,"image.*")||a(t,/\.(gif|png|jpe?g)$/i)},html:function(e,t){return a(e,"text/html")||a(t,/\.(htm|html)$/i)},text:function(e,t){return a(e,"text.*")||a(t,/\.(xml|javascript)$/i)||a(t,/\.(txt|md|csv|nfo|ini|json|php|js|css)$/i)},video:function(e,t){return a(e,"video.*")&&(a(e,/(ogg|mp4|mp?g|webm|3gp)$/i)||a(t,/\.(og?|mp4|webm|mp?g|3gp)$/i))},audio:function(e,t){return a(e,"audio.*")&&(a(t,/(ogg|mp3|mp?g|wav)$/i)||a(t,/\.(og?|mp3|mp?g|wav)$/i))},flash:function(e,t){return a(e,"application/x-shockwave-flash",!0)||a(t,/\.(swf)$/i)},pdf:function(e,t){return a(e,"application/pdf",!0)||a(t,/\.(pdf)$/i)},object:function(){return!0},other:function(){return!0}},nt=function(t,i){return void 0===t||null===t||0===t.length||i&&""===e.trim(t)},ot=function(e){return Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)},st=function(e,t,i){return i=i||"",t&&"object"==typeof t&&e in t?t[e]:i},et=function(t,i,n){return nt(t)||nt(t[i])?n:e(t[i])},rt=function(){return Math.round((new Date).getTime()+100*Math.random())},at=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},lt=function(t,i){var n=t;return i?(e.each(i,function(e,t){"function"==typeof t&&(t=t()),n=n.split(e).join(t)}),n):n},ct=function(e){var t=e.is("img")?e.attr("src"):e.find("source").attr("src");r.revokeObjectURL(t)},ut=function(e){var t=e.lastIndexOf("/");return-1===t&&(t=e.lastIndexOf("\\")),e.split(e.substring(t,t+1)).pop()},ht=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},dt=function(e){e&&!ht()?document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},ft=function(e,t,i){if(i>=e.length)for(var n=i-e.length;n--+1;)e.push(void 0);return e.splice(i,0,e.splice(t,1)[0]),e},pt=function(t,i){var n=this;n.$element=e(t),n._validate()&&(n.isPreviewable=d(),n.isIE9=l(9),n.isIE10=l(10),n.isPreviewable||n.isIE9?(n._init(i),n._listen()):n.$element.removeClass("file-loading"))},pt.prototype={constructor:pt,_init:function(t){var i,n=this,o=n.$element;e.each(t,function(e,t){switch(e){case"minFileCount":case"maxFileCount":case"maxFileSize":n[e]=h(t);break;default:n[e]=t}}),n.fileInputCleared=!1,n.fileBatchCompleted=!0,n.isPreviewable||(n.showPreview=!1),n.uploadFileAttr=nt(o.attr("name"))?"file_data":o.attr("name"),n.reader=null,n.formdata={},n.clearStack(),n.uploadCount=0,n.uploadStatus={},n.uploadLog=[],n.uploadAsyncCount=0,n.loadedImages=[],n.totalImagesCount=0,n.ajaxRequests=[],n.isError=!1,n.ajaxAborted=!1,n.cancelling=!1,i=n._getLayoutTemplate("progress"),n.progressTemplate=i.replace("{class}",n.progressClass),n.progressCompleteTemplate=i.replace("{class}",n.progressCompleteClass),n.progressErrorTemplate=i.replace("{class}",n.progressErrorClass),n.dropZoneEnabled=f()&&n.dropZoneEnabled,n.isDisabled=n.$element.attr("disabled")||n.$element.attr("readonly"),n.isUploadable=p()&&!nt(n.uploadUrl),n.isClickable=n.browseOnZoneClick&&n.showPreview&&(n.isUploadable&&n.dropZoneEnabled||!nt(n.defaultPreviewContent)),n.slug="function"==typeof t.slugCallback?t.slugCallback:n._slugDefault,n.mainTemplate=n._getLayoutTemplate(n.showCaption?"main1":"main2"),n.captionTemplate=n._getLayoutTemplate("caption"),n.previewGenericTemplate=n._getPreviewTemplate("generic"),n.resizeImage&&(n.maxImageWidth||n.maxImageHeight)&&(n.imageCanvas=document.createElement("canvas"),n.imageCanvasContext=n.imageCanvas.getContext("2d")),nt(n.$element.attr("id"))&&n.$element.attr("id",rt()),void 0===n.$container?n.$container=n._createContainer():n._refreshContainer(),n.$dropZone=n.$container.find(".file-drop-zone"),n.$progress=n.$container.find(".kv-upload-progress"),n.$btnUpload=n.$container.find(".fileinput-upload"),n.$captionContainer=et(t,"elCaptionContainer",n.$container.find(".file-caption")),n.$caption=et(t,"elCaptionText",n.$container.find(".file-caption-name")),n.$previewContainer=et(t,"elPreviewContainer",n.$container.find(".file-preview")),n.$preview=et(t,"elPreviewImage",n.$container.find(".file-preview-thumbnails")),n.$previewStatus=et(t,"elPreviewStatus",n.$container.find(".file-preview-status")),n.$errorContainer=et(t,"elErrorContainer",n.$previewContainer.find(".kv-fileinput-error")),nt(n.msgErrorClass)||m(n.$errorContainer,n.msgErrorClass),n.$errorContainer.hide(),n.fileActionSettings=e.extend(!0,K,t.fileActionSettings),n.previewInitId="preview-"+rt(),n.id=n.$element.attr("id"),u.init(n),n._initPreview(!0),n._initPreviewActions(),n.options=t,n._setFileDropZoneTitle(),n.$element.removeClass("file-loading"),n.$element.attr("disabled")&&n.disable(),n._initZoom()},_validate:function(){var e,t=this;return"file"===t.$element.attr("type")||(e='<div class="help-block alert alert-warning"><h4>Invalid Input Type</h4>You must set an input <code>type = file</code> for <b>bootstrap-fileinput</b> plugin to initialize.</div>',t.$element.after(e),!1)},_errorsExist:function(){var t,i=this;return!!i.$errorContainer.find("li").length||(t=e(document.createElement("div")).html(i.$errorContainer.html()),t.find("span.kv-error-close").remove(),t.find("ul").remove(),!!e.trim(t.text()).length)},_errorHandler:function(e,t){var i=this,n=e.target.error;i._showError(n.code===n.NOT_FOUND_ERR?i.msgFileNotFound.replace("{name}",t):n.code===n.SECURITY_ERR?i.msgFileSecured.replace("{name}",t):n.code===n.NOT_READABLE_ERR?i.msgFileNotReadable.replace("{name}",t):n.code===n.ABORT_ERR?i.msgFilePreviewAborted.replace("{name}",t):i.msgFilePreviewError.replace("{name}",t))},_addError:function(e){var t=this,i=t.$errorContainer;e&&i.length&&(i.html(t.errorCloseButton+e),c(i.find(".kv-error-close"),"click",function(){i.fadeOut("slow")}))},_resetErrors:function(e){var t=this,i=t.$errorContainer;t.isError=!1,t.$container.removeClass("has-error"),i.html(""),e?i.fadeOut("slow"):i.hide()},_showFolderError:function(e){var t,i=this,n=i.$errorContainer;e&&(t=i.msgFoldersNotAllowed.replace(/\{n}/g,e),i._addError(t),m(i.$container,"has-error"),n.fadeIn(800),i._raise("filefoldererror",[e,t]))},_showUploadError:function(e,t,i){var n=this,o=n.$errorContainer,s=i||"fileuploaderror",r=t&&t.id?'<li data-file-id="'+t.id+'">'+e+"</li>":"<li>"+e+"</li>";return 0===o.find("ul").length?n._addError("<ul>"+r+"</ul>"):o.find("ul").append(r),o.fadeIn(800),n._raise(s,[t,e]),n.$container.removeClass("file-input-new"),m(n.$container,"has-error"),!0},_showError:function(e,t,i){var n=this,o=n.$errorContainer,s=i||"fileerror";return t=t||{},t.reader=n.reader,n._addError(e),o.fadeIn(800),n._raise(s,[t,e]),n.isUploadable||n._clearFileInput(),n.$container.removeClass("file-input-new"),m(n.$container,"has-error"),n.$btnUpload.attr("disabled",!0),!0},_noFilesError:function(e){var t=this,i=t.minFileCount>1?t.filePlural:t.fileSingle,n=t.msgFilesTooLess.replace("{n}",t.minFileCount).replace("{files}",i),o=t.$errorContainer;t._addError(n),t.isError=!0,t._updateFileDetails(0),o.fadeIn(800),t._raise("fileerror",[e,n]),t._clearFileInput(),m(t.$container,"has-error")},_parseError:function(t,i,n){var o=this,s=e.trim(i+""),r="."===s.slice(-1)?"":".",a=void 0!==t.responseJSON&&void 0!==t.responseJSON.error?t.responseJSON.error:t.responseText;return o.cancelling&&o.msgUploadAborted&&(s=o.msgUploadAborted),o.showAjaxErrorDetails&&a?(a=e.trim(a.replace(/\n\s*\n/g,"\n")),a=a.length>0?"<pre>"+a+"</pre>":"",s+=r+a):s+=r,o.cancelling=!1,n?"<b>"+n+": </b>"+s:s},_parseFileType:function(e){var t,i,n,o,s=this;for(o=0;o<Q.length;o+=1)if(n=Q[o],t=st(n,s.fileTypeSettings,it[n]),i=t(e.type,e.name)?n:"",!nt(i))return i;return"other"},_parseFilePreviewIcon:function(t,i){var n,o,s=this,r=s.previewFileIcon;return i&&i.indexOf(".")>-1&&(o=i.split(".").pop(),s.previewFileIconSettings&&s.previewFileIconSettings[o]&&(r=s.previewFileIconSettings[o]),s.previewFileExtSettings&&e.each(s.previewFileExtSettings,function(e,t){return s.previewFileIconSettings[e]&&t(o)?void(r=s.previewFileIconSettings[e]):void(n=!0)})),t.indexOf("{previewFileIcon}")>-1?t.replace(/\{previewFileIconClass}/g,s.previewFileIconClass).replace(/\{previewFileIcon}/g,r):t},_raise:function(t,i){var n=this,o=e.Event(t);if(void 0!==i?n.$element.trigger(o,i):n.$element.trigger(o),o.isDefaultPrevented())return!1;if(!o.result)return o.result;switch(t){case"filebatchuploadcomplete":case"filebatchuploadsuccess":case"fileuploaded":case"fileclear":case"filecleared":case"filereset":case"fileerror":case"filefoldererror":case"fileuploaderror":case"filebatchuploaderror":case"filedeleteerror":case"filecustomerror":case"filesuccessremove":break;default:n.ajaxAborted=o.result}return!0},_listenFullScreen:function(e){var t,i,n=this,o=n.$modal;o&&o.length&&(t=o&&o.find(".btn-fullscreen"),i=o&&o.find(".btn-borderless"),t.length&&i.length&&(t.removeClass("active").attr("aria-pressed","false"),i.removeClass("active").attr("aria-pressed","false"),e?t.addClass("active").attr("aria-pressed","true"):i.addClass("active").attr("aria-pressed","true"),o.hasClass("file-zoom-fullscreen")?n._maximizeZoomDialog():e?n._maximizeZoomDialog():i.removeClass("active").attr("aria-pressed","false")))},_listen:function(){var t=this,i=t.$element,n=i.closest("form"),o=t.$container;c(i,"change",e.proxy(t._change,t)),t.showBrowse&&c(t.$btnFile,"click",e.proxy(t._browse,t)),c(n,"reset",e.proxy(t.reset,t)),c(o.find(".fileinput-remove:not([disabled])"),"click",e.proxy(t.clear,t)),c(o.find(".fileinput-cancel"),"click",e.proxy(t.cancel,t)),t._initDragDrop(),t.isUploadable||c(n,"submit",e.proxy(t._submitForm,t)),c(t.$container.find(".fileinput-upload"),"click",e.proxy(t._uploadClick,t)),c(e(window),"resize",function(){t._listenFullScreen(screen.width===window.innerWidth&&screen.height===window.innerHeight)}),c(e(document),"webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",function(){t._listenFullScreen(ht())}),t._initClickable()},_initClickable:function(){var t,i=this;i.isClickable&&(t=i.isUploadable?i.$dropZone:i.$preview.find(".file-default-preview"),m(t,"clickable"),t.attr("tabindex",-1),c(t,"click",function(n){var o=e(n.target);o.parents(".file-preview-thumbnails").length&&!o.parents(".file-default-preview").length||(i.$element.trigger("click"),t.blur())}))},_initDragDrop:function(){var t=this,i=t.$dropZone;t.isUploadable&&t.dropZoneEnabled&&t.showPreview&&(c(i,"dragenter dragover",e.proxy(t._zoneDragEnter,t)),c(i,"dragleave",e.proxy(t._zoneDragLeave,t)),c(i,"drop",e.proxy(t._zoneDrop,t)),c(e(document),"dragenter dragover drop",t._zoneDragDropInit))},_zoneDragDropInit:function(e){e.stopPropagation(),e.preventDefault()},_zoneDragEnter:function(t){var i=this,n=e.inArray("Files",t.originalEvent.dataTransfer.types)>-1;return i._zoneDragDropInit(t),i.isDisabled||!n?(t.originalEvent.dataTransfer.effectAllowed="none",void(t.originalEvent.dataTransfer.dropEffect="none")):void m(i.$dropZone,"file-highlighted")},_zoneDragLeave:function(e){var t=this;t._zoneDragDropInit(e),t.isDisabled||t.$dropZone.removeClass("file-highlighted")},_zoneDrop:function(e){var t=this;e.preventDefault(),t.isDisabled||nt(e.originalEvent.dataTransfer.files)||(t._change(e,"dragdrop"),t.$dropZone.removeClass("file-highlighted"))},_uploadClick:function(e){var t,i=this,n=i.$container.find(".fileinput-upload"),o=!n.hasClass("disabled")&&nt(n.attr("disabled"));if(!e||!e.isDefaultPrevented()){if(!i.isUploadable)return void(o&&"submit"!==n.attr("type")&&(t=n.closest("form"),t.length&&t.trigger("submit"),e.preventDefault()));e.preventDefault(),o&&i.upload()}},_submitForm:function(){var e=this,t=e.$element,i=t.get(0).files;return i&&e.minFileCount>0&&e._getFileCount(i.length)<e.minFileCount?(e._noFilesError({}),!1):!e._abort({})},_clearPreview:function(){var e=this,t=e.$preview.find(e.showUploadedThumbs?".file-preview-frame:not(.file-preview-success)":".file-preview-frame");t.remove(),e.$preview.find(".file-preview-frame").length&&e.showPreview||e._resetUpload(),e._validateDefaultPreview()},_initSortable:function(){var t,i,n=this,o=n.$preview;window.KvSortable&&(t=o.find(".file-initial-thumbs"),i={handle:".drag-handle-init",dataIdAttr:"data-preview-id",draggable:".file-preview-initial",onSort:function(t){var i=t.oldIndex,o=t.newIndex;n.initialPreview=ft(n.initialPreview,i,o),n.initialPreviewConfig=ft(n.initialPreviewConfig,i,o),u.init(n),n._raise("filesorted",{previewId:e(t.item).attr("id"),oldIndex:i,newIndex:o,stack:n.initialPreviewConfig})}},t.data("kvsortable")&&t.kvsortable("destroy"),e.extend(!0,i,n.fileActionSettings.dragSettings),t.kvsortable(i))},_initPreview:function(e){var t,i=this,n=i.initialCaption||"";return u.count(i.id)?(t=u.out(i.id),n=e&&i.initialCaption?i.initialCaption:t.caption,i.$preview.html(t.content),i._setCaption(n),i._initSortable(),void(nt(t.content)||i.$container.removeClass("file-input-new"))):(i._clearPreview(),void(e?i._setCaption(n):i._initCaption()))},_getZoomButton:function(e){var t=this,i=t.previewZoomButtonIcons[e],n=t.previewZoomButtonClasses[e],o=' title="'+(t.previewZoomButtonTitles[e]||"")+'" ',s=o+("close"===e?' data-dismiss="modal" aria-hidden="true"':"");return"fullscreen"!==e&&"borderless"!==e&&"toggleheader"!==e||(s+=' data-toggle="button" aria-pressed="false" autocomplete="off"'),'<button type="button" class="'+n+" btn-"+e+'"'+s+">"+i+"</button>"},_getModalContent:function(){var e=this;return e._getLayoutTemplate("modal").replace(/\{heading}/g,e.msgZoomModalHeading).replace(/\{prev}/g,e._getZoomButton("prev")).replace(/\{next}/g,e._getZoomButton("next")).replace(/\{toggleheader}/g,e._getZoomButton("toggleheader")).replace(/\{fullscreen}/g,e._getZoomButton("fullscreen")).replace(/\{borderless}/g,e._getZoomButton("borderless")).replace(/\{close}/g,e._getZoomButton("close"))},_listenModalEvent:function(e){var t=this,i=t.$modal,n=function(e){return{sourceEvent:e,previewId:i.data("previewId"),modal:i}};i.on(e+".bs.modal",function(o){var s=i.find(".btn-fullscreen"),r=i.find(".btn-borderless");t._raise("filezoom"+e,n(o)),"shown"===e&&(r.removeClass("active").attr("aria-pressed","false"),s.removeClass("active").attr("aria-pressed","false"),i.hasClass("file-zoom-fullscreen")&&(t._maximizeZoomDialog(),ht()?s.addClass("active").attr("aria-pressed","true"):r.addClass("active").attr("aria-pressed","true")))})},_initZoom:function(){var t,n=this,o=n._getLayoutTemplate("modalMain"),s="#"+i;n.$modal=e(s),n.$modal&&n.$modal.length||(t=e(document.createElement("div")).html(o).insertAfter(n.$container),n.$modal=e("#"+i).insertBefore(t),t.remove()),n.$modal.html(n._getModalContent()),n._listenModalEvent("show"),n._listenModalEvent("shown"),n._listenModalEvent("hide"),n._listenModalEvent("hidden"),n._listenModalEvent("loaded")},_initZoomButtons:function(){var t,i,n=this,o=n.$modal.data("previewId")||"",s=n.$preview.find(".file-preview-frame").toArray(),r=s.length,a=n.$modal.find(".btn-prev"),l=n.$modal.find(".btn-next");r&&(t=e(s[0]),i=e(s[r-1]),a.removeAttr("disabled"),l.removeAttr("disabled"),t.length&&t.attr("id")===o&&a.attr("disabled",!0),i.length&&i.attr("id")===o&&l.attr("disabled",!0))},_maximizeZoomDialog:function(){var t=this,i=t.$modal,n=i.find(".modal-header:visible"),o=i.find(".modal-footer:visible"),s=i.find(".modal-body"),r=e(window).height(),a=0;i.addClass("file-zoom-fullscreen"),n&&n.length&&(r-=n.outerHeight(!0)),o&&o.length&&(r-=o.outerHeight(!0)),s&&s.length&&(a=s.outerHeight(!0)-s.height(),r-=a),i.find(".kv-zoom-body").height(r)},_resizeZoomDialog:function(e){var t=this,i=t.$modal,n=i.find(".btn-fullscreen"),o=i.find(".btn-borderless");if(i.hasClass("file-zoom-fullscreen"))dt(!1),e?n.hasClass("active")||(i.removeClass("file-zoom-fullscreen"),t._resizeZoomDialog(!0),o.hasClass("active")&&o.removeClass("active").attr("aria-pressed","false")):n.hasClass("active")?n.removeClass("active").attr("aria-pressed","false"):(i.removeClass("file-zoom-fullscreen"),t.$modal.find(".kv-zoom-body").css("height",t.zoomModalHeight));else{if(!e)return void t._maximizeZoomDialog();dt(!0)}i.focus()},_setZoomContent:function(t,i){var n,o,s,r,a,l,u,h,d=this,f=t.attr("id"),p=d.$modal,g=p.find(".btn-prev"),v=p.find(".btn-next"),b=p.find(".btn-fullscreen"),_=p.find(".btn-borderless"),y=p.find(".btn-toggleheader");o=t.data("template")||"generic",n=t.find(".kv-file-content"),s=n.length?n.html():"",r=t.find(".file-footer-caption").text()||"",p.find(".kv-zoom-title").html(r),a=p.find(".kv-zoom-body"),i?(h=a.clone().insertAfter(a),a.html(s).hide(),h.fadeOut("fast",function(){a.fadeIn("fast"),h.remove()})):a.html(s),u=d.previewZoomSettings[o],u&&(l=a.find(".kv-preview-data"),m(l,"file-zoom-detail"),e.each(u,function(e,t){l.css(e,t),(l.attr("width")&&"width"===e||l.attr("height")&&"height"===e)&&l.removeAttr(e)})),p.data("previewId",f),c(g,"click",function(){d._zoomSlideShow("prev",f)}),c(v,"click",function(){d._zoomSlideShow("next",f)}),c(b,"click",function(){d._resizeZoomDialog(!0)}),c(_,"click",function(){d._resizeZoomDialog(!1)}),c(y,"click",function(){var e,t=p.find(".modal-header"),i=p.find(".modal-body .floating-buttons"),n=t.find(".kv-zoom-actions"),o=function(e){var i=d.$modal.find(".kv-zoom-body"),n=d.zoomModalHeight;p.hasClass("file-zoom-fullscreen")&&(n=i.outerHeight(!0),e||(n-=t.outerHeight(!0))),i.css("height",e?n+e:n)};t.is(":visible")?(e=t.outerHeight(!0),t.slideUp("slow",function(){n.find(".btn").appendTo(i),o(e)})):(i.find(".btn").appendTo(n),t.slideDown("slow",function(){o()})),p.focus()}),c(p,"keydown",function(e){var t=e.which||e.keyCode;37!==t||g.attr("disabled")||d._zoomSlideShow("prev",f),39!==t||v.attr("disabled")||d._zoomSlideShow("next",f)})},_zoomPreview:function(e){var t,i=this;if(!e.length)throw"Cannot zoom to detailed preview!";i.$modal.html(i._getModalContent()),t=e.closest(".file-preview-frame"),i._setZoomContent(t),i.$modal.modal("show"),i._initZoomButtons()},_zoomSlideShow:function(t,i){var n,o,s,r=this,a=r.$modal.find(".kv-zoom-actions .btn-"+t),l=r.$preview.find(".file-preview-frame").toArray(),c=l.length;if(!a.attr("disabled")){for(o=0;c>o;o++)if(e(l[o]).attr("id")===i){s="prev"===t?o-1:o+1;break}0>s||s>=c||!l[s]||(n=e(l[s]),n.length&&r._setZoomContent(n,!0),r._initZoomButtons(),r._raise("filezoom"+t,{previewId:i,modal:r.$modal}))}},_initZoomButton:function(){var t=this;t.$preview.find(".kv-file-zoom").each(function(){var i=e(this);c(i,"click",function(){t._zoomPreview(i)})})},_initPreviewActions:function(){var t=this,i=t.deleteExtraData||{},n=function(){var e=t.isUploadable?u.count(t.id):t.$element.get(0).files.length;0!==t.$preview.find(".kv-file-remove").length||e||(t.reset(),t.initialCaption="")};t._initZoomButton(),t.$preview.find(".kv-file-remove").each(function(){var o=e(this),s=o.data("url")||t.deleteUrl,r=o.data("key");if(!nt(s)&&void 0!==r){var a,l,h,d,f=o.closest(".file-preview-frame"),p=u.data[t.id],g=f.data("fileindex");g=parseInt(g.replace("init_","")),h=nt(p.config)&&nt(p.config[g])?null:p.config[g],d=nt(h)||nt(h.extra)?i:h.extra,"function"==typeof d&&(d=d()),l={id:o.attr("id"),key:r,extra:d},a=e.extend(!0,{},{url:s,type:"POST",dataType:"json",data:e.extend(!0,{},{key:r},d),beforeSend:function(e){t.ajaxAborted=!1,t._raise("filepredelete",[r,e,d]),t.ajaxAborted?e.abort():(m(f,"file-uploading"),m(o,"disabled"))},success:function(e,i,s){var a,c;return nt(e)||nt(e.error)?(u.unset(t.id,g),a=u.count(t.id),c=a>0?t._getMsgSelected(a):"",t._raise("filedeleted",[r,s,d]),t._setCaption(c),f.removeClass("file-uploading").addClass("file-deleted"),void f.fadeOut("slow",function(){t._clearObjects(f),f.remove(),n(),a||0!==t.getFileStack().length||(t._setCaption(""),t.reset())})):(l.jqXHR=s,l.response=e,t._showError(e.error,l,"filedeleteerror"),f.removeClass("file-uploading"),o.removeClass("disabled"),void n())},error:function(e,i,o){var s=t._parseError(e,o);l.jqXHR=e,l.response={},t._showError(s,l,"filedeleteerror"),f.removeClass("file-uploading"),n()}},t.ajaxDeleteSettings),c(o,"click",function(){return!!t._validateMinCount()&&void e.ajax(a)})}})},_clearObjects:function(t){t.find("video audio").each(function(){this.pause(),e(this).remove()}),t.find("img object div").each(function(){e(this).remove()})},_clearFileInput:function(){var t,i,n,o=this,s=o.$element;o.fileInputCleared=!0,nt(s.val())||(o.isIE9||o.isIE10?(t=s.closest("form"),i=e(document.createElement("form")),n=e(document.createElement("div")),s.before(n),t.length?t.after(i):n.after(i),i.append(s).trigger("reset"),n.before(s).remove(),i.remove()):s.val(""))},_resetUpload:function(){var e=this;e.uploadCache={content:[],config:[],tags:[],append:!0},e.uploadCount=0,e.uploadStatus={},e.uploadLog=[],e.uploadAsyncCount=0,e.loadedImages=[],e.totalImagesCount=0,e.$btnUpload.removeAttr("disabled"),e._setProgress(0),m(e.$progress,"hide"),e._resetErrors(!1),e.ajaxAborted=!1,e.ajaxRequests=[],e._resetCanvas()},_resetCanvas:function(){var e=this;e.canvas&&e.imageCanvasContext&&e.imageCanvasContext.clearRect(0,0,e.canvas.width,e.canvas.height)
},_hasInitialPreview:function(){var e=this;return!e.overwriteInitial&&u.count(e.id)},_resetPreview:function(){var e,t,i=this;u.count(i.id)?(e=u.out(i.id),i.$preview.html(e.content),t=i.initialCaption?i.initialCaption:e.caption,i._setCaption(t)):(i._clearPreview(),i._initCaption()),i.showPreview&&(i._initZoom(),i._initSortable())},_clearDefaultPreview:function(){var e=this;e.$preview.find(".file-default-preview").remove()},_validateDefaultPreview:function(){var e=this;e.showPreview&&!nt(e.defaultPreviewContent)&&(e.$preview.html('<div class="file-default-preview">'+e.defaultPreviewContent+"</div>"),e.$container.removeClass("file-input-new"),e._initClickable())},_resetPreviewThumbs:function(e){var t,i=this;return e?(i._clearPreview(),void i.clearStack()):void(i._hasInitialPreview()?(t=u.out(i.id),i.$preview.html(t.content),i._setCaption(t.caption),i._initPreviewActions()):i._clearPreview())},_getLayoutTemplate:function(e){var t=this,i=st(e,t.layoutTemplates,Z[e]);return nt(t.customLayoutTags)?i:lt(i,t.customLayoutTags)},_getPreviewTemplate:function(e){var t=this,i=st(e,t.previewTemplates,X[e]);return nt(t.customPreviewTags)?i:lt(i,t.customPreviewTags)},_getOutData:function(e,t,i){var n=this;return e=e||{},t=t||{},i=i||n.filestack.slice(0)||{},{form:n.formdata,files:i,filenames:n.filenames,filescount:n.getFilesCount(),extra:n._getExtraData(),response:t,reader:n.reader,jqXHR:e}},_getMsgSelected:function(e){var t=this,i=1===e?t.fileSingle:t.filePlural;return e>0?t.msgSelected.replace("{n}",e).replace("{files}",i):t.msgNoFilesSelected},_getThumbs:function(e){return e=e||"",this.$preview.find(".file-preview-frame:not(.file-preview-initial)"+e)},_getExtraData:function(e,t){var i=this,n=i.uploadExtraData;return"function"==typeof i.uploadExtraData&&(n=i.uploadExtraData(e,t)),n},_initXhr:function(e,t,i){var n=this;return e.upload&&e.upload.addEventListener("progress",function(e){var o=0,s=e.total,r=e.loaded||e.position;e.lengthComputable&&(o=Math.floor(r/s*100)),t?n._setAsyncUploadStatus(t,o,i):n._setProgress(o)},!1),e},_ajaxSubmit:function(t,i,n,o,s,r){var a,l=this;l._raise("filepreajax",[s,r]),l._uploadExtra(s,r),a=e.extend(!0,{},{xhr:function(){var t=e.ajaxSettings.xhr();return l._initXhr(t,s,l.getFileStack().length)},url:l.uploadUrl,type:"POST",dataType:"json",data:l.formdata,cache:!1,processData:!1,contentType:!1,beforeSend:t,success:i,complete:n,error:o},l.ajaxSettings),l.ajaxRequests.push(e.ajax(a))},_initUploadSuccess:function(t,i,n){var o,s,r,a,l,c,h,d,f=this,p=function(e,t){f[e]instanceof Array||(f[e]=[]),t&&t.length&&(f[e]=f[e].concat(t))};f.showPreview&&"object"==typeof t&&!e.isEmptyObject(t)&&void 0!==t.initialPreview&&t.initialPreview.length>0&&(f.hasInitData=!0,l=t.initialPreview||[],c=t.initialPreviewConfig||[],h=t.initialPreviewThumbTags||[],o=!(void 0!==t.append&&!t.append),l.length>0&&!ot(l)&&(l=l.split(f.initialPreviewDelimiter)),f.overwriteInitial=!1,p("initialPreview",l),p("initialPreviewConfig",c),p("initialPreviewThumbTags",h),void 0!==i?n?(d=i.attr("data-fileindex"),f.uploadCache.content[d]=l[0],f.uploadCache.config[d]=c[0]||[],f.uploadCache.tags[d]=h[0]||[],f.uploadCache.append=o):(r=u.add(f.id,l,c[0],h[0],o),s=u.get(f.id,r,!1),a=e(s).hide(),i.after(a).fadeOut("slow",function(){a.fadeIn("slow").css("display:inline-block"),f._initPreviewActions(),f._clearFileInput(),i.remove()})):(u.set(f.id,l,c,h,o),f._initPreview(),f._initPreviewActions()))},_initSuccessThumbs:function(){var t=this;t.showPreview&&t._getThumbs(".file-preview-success").each(function(){var i=e(this),n=i.find(".kv-file-remove");n.removeAttr("disabled"),c(n,"click",function(){var e=t._raise("filesuccessremove",[i.attr("id"),i.data("fileindex")]);ct(i),e!==!1&&i.fadeOut("slow",function(){i.remove(),t.$preview.find(".file-preview-frame").length||t.reset()})})})},_checkAsyncComplete:function(){var t,i,n=this;for(i=0;i<n.filestack.length;i++)if(n.filestack[i]&&(t=n.previewInitId+"-"+i,-1===e.inArray(t,n.uploadLog)))return!1;return n.uploadAsyncCount===n.uploadLog.length},_uploadExtra:function(t,i){var n=this,o=n._getExtraData(t,i);0!==o.length&&e.each(o,function(e,t){n.formdata.append(e,t)})},_uploadSingle:function(t,i,n){var o,s,r,a,l,c,h,d,f,p,g=this,v=g.getFileStack().length,b=new FormData,_=g.previewInitId+"-"+t,y=g.filestack.length>0||!e.isEmptyObject(g.uploadExtraData),w={id:_,index:t};g.formdata=b,g.showPreview&&(s=e("#"+_+":not(.file-preview-initial)"),a=s.find(".kv-file-upload"),l=s.find(".kv-file-remove"),e("#"+_).find(".file-thumb-progress").removeClass("hide")),0===v||!y||a&&a.hasClass("disabled")||g._abort(w)||(p=function(e,t){g.updateStack(e,void 0),g.uploadLog.push(t),g._checkAsyncComplete()&&(g.fileBatchCompleted=!0)},r=function(){var e=g.uploadCache;g.fileBatchCompleted&&setTimeout(function(){g.showPreview&&(u.set(g.id,e.content,e.config,e.tags,e.append),g.hasInitData&&(g._initPreview(),g._initPreviewActions())),g.unlock(),g._clearFileInput(),g._raise("filebatchuploadcomplete",[g.filestack,g._getExtraData()]),g.uploadCount=0,g.uploadStatus={},g.uploadLog=[],g._setProgress(101)},100)},c=function(i){o=g._getOutData(i),g.fileBatchCompleted=!1,g.showPreview&&(s.hasClass("file-preview-success")||(g._setThumbStatus(s,"Loading"),m(s,"file-uploading")),a.attr("disabled",!0),l.attr("disabled",!0)),n||g.lock(),g._raise("filepreupload",[o,_,t]),e.extend(!0,w,o),g._abort(w)&&(i.abort(),g._setProgressCancelled())},h=function(i,r,l){var c=g.showPreview&&s.attr("id")?s.attr("id"):_;o=g._getOutData(l,i),e.extend(!0,w,o),setTimeout(function(){nt(i)||nt(i.error)?(g.showPreview&&(g._setThumbStatus(s,"Success"),a.hide(),g._initUploadSuccess(i,s,n)),g._raise("fileuploaded",[o,c,t]),n?p(t,c):g.updateStack(t,void 0)):(g._showUploadError(i.error,w),g._setPreviewError(s,t),n&&p(t,c))},100)},d=function(){setTimeout(function(){g.showPreview&&(a.removeAttr("disabled"),l.removeAttr("disabled"),s.removeClass("file-uploading"),g._setProgress(101,e("#"+_).find(".file-thumb-progress"))),n?r():(g.unlock(!1),g._clearFileInput()),g._initSuccessThumbs()},100)},f=function(o,r,a){var l=g._parseError(o,a,n?i[t].name:null);setTimeout(function(){n&&p(t,_),g.uploadStatus[_]=100,g._setPreviewError(s,t),e.extend(!0,w,g._getOutData(o)),g._showUploadError(l,w)},100)},b.append(g.uploadFileAttr,i[t],g.filenames[t]),b.append("file_id",t),g._ajaxSubmit(c,h,d,f,_,t))},_uploadBatch:function(){var t,i,n,o,s,r=this,a=r.filestack,l=a.length,c={},u=r.filestack.length>0||!e.isEmptyObject(r.uploadExtraData);r.formdata=new FormData,0!==l&&u&&!r._abort(c)&&(s=function(){e.each(a,function(e){r.updateStack(e,void 0)}),r._clearFileInput()},t=function(t){r.lock();var i=r._getOutData(t);r.showPreview&&r._getThumbs().each(function(){var t=e(this),i=t.find(".kv-file-upload"),n=t.find(".kv-file-remove");t.hasClass("file-preview-success")||(r._setThumbStatus(t,"Loading"),m(t,"file-uploading")),i.attr("disabled",!0),n.attr("disabled",!0)}),r._raise("filebatchpreupload",[i]),r._abort(i)&&(t.abort(),r._setProgressCancelled())},i=function(t,i,n){var o=r._getOutData(n,t),a=r._getThumbs(":not(.file-preview-error)"),l=0,c=nt(t)||nt(t.errorkeys)?[]:t.errorkeys;nt(t)||nt(t.error)?(r._raise("filebatchuploadsuccess",[o]),s(),r.showPreview?(a.each(function(){var t=e(this),i=t.find(".kv-file-upload");t.find(".kv-file-upload").hide(),r._setThumbStatus(t,"Success"),t.removeClass("file-uploading"),i.removeAttr("disabled")}),r._initUploadSuccess(t)):r.reset()):(r.showPreview&&(a.each(function(){var t=e(this),i=t.find(".kv-file-remove"),n=t.find(".kv-file-upload");return t.removeClass("file-uploading"),n.removeAttr("disabled"),i.removeAttr("disabled"),0===c.length?void r._setPreviewError(t):(-1!==e.inArray(l,c)?r._setPreviewError(t):(t.find(".kv-file-upload").hide(),r._setThumbStatus(t,"Success"),r.updateStack(l,void 0)),void l++)}),r._initUploadSuccess(t)),r._showUploadError(t.error,o,"filebatchuploaderror"))},o=function(){r._setProgress(101),r.unlock(),r._initSuccessThumbs(),r._clearFileInput(),r._raise("filebatchuploadcomplete",[r.filestack,r._getExtraData()])},n=function(t,i,n){var o=r._getOutData(t),s=r._parseError(t,n);r._showUploadError(s,o,"filebatchuploaderror"),r.uploadFileCount=l-1,r.showPreview&&(r._getThumbs().each(function(){var t=e(this),i=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==r.filestack[i]&&r._setPreviewError(t)}),r._getThumbs().removeClass("file-uploading"),r._getThumbs(" .kv-file-upload").removeAttr("disabled"),r._getThumbs(" .kv-file-delete").removeAttr("disabled"))},e.each(a,function(e,t){nt(a[e])||r.formdata.append(r.uploadFileAttr,t,r.filenames[e])}),r._ajaxSubmit(t,i,o,n))},_uploadExtraOnly:function(){var e,t,i,n,o=this,s={};o.formdata=new FormData,o._abort(s)||(e=function(e){o.lock();var t=o._getOutData(e);o._raise("filebatchpreupload",[t]),o._setProgress(50),s.data=t,s.xhr=e,o._abort(s)&&(e.abort(),o._setProgressCancelled())},t=function(e,t,i){var n=o._getOutData(i,e);nt(e)||nt(e.error)?(o._raise("filebatchuploadsuccess",[n]),o._clearFileInput(),o._initUploadSuccess(e)):o._showUploadError(e.error,n,"filebatchuploaderror")},i=function(){o._setProgress(101),o.unlock(),o._clearFileInput(),o._raise("filebatchuploadcomplete",[o.filestack,o._getExtraData()])},n=function(e,t,i){var n=o._getOutData(e),r=o._parseError(e,i);s.data=n,o._showUploadError(r,n,"filebatchuploaderror")},o._ajaxSubmit(e,t,i,n))},_initFileActions:function(){var t=this;t.showPreview&&(t._initZoomButton(),t.$preview.find(".kv-file-remove").each(function(){var i,n,o,s,r=e(this),a=r.closest(".file-preview-frame"),l=a.attr("id"),h=a.attr("data-fileindex");c(r,"click",function(){return s=t._raise("filepreremove",[l,h]),!(s===!1||!t._validateMinCount())&&(i=a.hasClass("file-preview-error"),ct(a),void a.fadeOut("slow",function(){t.updateStack(h,void 0),t._clearObjects(a),a.remove(),l&&i&&t.$errorContainer.find('li[data-file-id="'+l+'"]').fadeOut("fast",function(){e(this).remove(),t._errorsExist()||t._resetErrors()}),t._clearFileInput();var s=t.getFileStack(!0),r=u.count(t.id),c=s.length,d=t.showPreview&&t.$preview.find(".file-preview-frame").length;0!==c||0!==r||d?(n=r+c,o=n>1?t._getMsgSelected(n):s[0]?t._getFileNames()[0]:"",t._setCaption(o)):t.reset(),t._raise("fileremoved",[l,h])}))})}),t.$preview.find(".kv-file-upload").each(function(){var i=e(this);c(i,"click",function(){var e=i.closest(".file-preview-frame"),n=e.attr("data-fileindex");e.hasClass("file-preview-error")||t._uploadSingle(n,t.filestack,!1)})}))},_hideFileIcon:function(){this.overwriteInitial&&this.$captionContainer.find(".kv-caption-icon").hide()},_showFileIcon:function(){this.$captionContainer.find(".kv-caption-icon").show()},_getSize:function(e){var t=parseFloat(e);if(null===e||isNaN(t))return"";var i,n,o,s=this,r=s.fileSizeGetter;return"function"==typeof r?o=r(e):(i=Math.floor(Math.log(t)/Math.log(1024)),n=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],o=1*(t/Math.pow(1024,i)).toFixed(2)+" "+n[i]),s._getLayoutTemplate("size").replace("{sizeText}",o)},_generatePreviewTemplate:function(e,t,i,n,o,s,r,a,l,c){var u,h,d=this,f=d._getPreviewTemplate(e),p=a||"",m=st(e,d.previewSettings,tt[e]),g=d.slug(i),v=l||d._renderFileFooter(g,r,m.width,s);return c=c||o.slice(o.lastIndexOf("-")+1),f=d._parseFilePreviewIcon(f,i),"text"===e||"html"===e?(h="text"===e?at(t):t,u=f.replace(/\{previewId}/g,o).replace(/\{caption}/g,g).replace(/\{width}/g,m.width).replace(/\{height}/g,m.height).replace(/\{frameClass}/g,p).replace(/\{cat}/g,n).replace(/\{footer}/g,v).replace(/\{fileindex}/g,c).replace(/\{data}/g,h).replace(/\{template}/g,e)):u=f.replace(/\{previewId}/g,o).replace(/\{caption}/g,g).replace(/\{frameClass}/g,p).replace(/\{type}/g,n).replace(/\{fileindex}/g,c).replace(/\{width}/g,m.width).replace(/\{height}/g,m.height).replace(/\{footer}/g,v).replace(/\{data}/g,t).replace(/\{template}/g,e),u},_previewDefault:function(t,i,n){var o=this,s=o.$preview,a=s.find(".file-live-thumbs");if(o.showPreview){var l,c=t?t.name:"",u=t?t.type:"",h=n===!0&&!o.isUploadable,d=r.createObjectURL(t);o._clearDefaultPreview(),l=o._generatePreviewTemplate("other",d,c,u,i,h,t.size),a.length||(a=e(document.createElement("div")).addClass("file-live-thumbs").appendTo(s)),a.append("\n"+l),n===!0&&o.isUploadable&&o._setThumbStatus(e("#"+i),"Error")}},_previewFile:function(t,i,n,o,s){if(this.showPreview){var r,a=this,l=a._parseFileType(i),c=i?i.name:"",u=a.slug(c),h=a.allowedPreviewTypes,d=a.allowedPreviewMimeTypes,f=a.$preview,p=h&&h.indexOf(l)>=0,m=f.find(".file-live-thumbs"),g="text"===l||"html"===l||"image"===l?n.target.result:s,v=d&&-1!==d.indexOf(i.type);m.length||(m=e(document.createElement("div")).addClass("file-live-thumbs").appendTo(f)),"html"===l&&a.purifyHtml&&window.DOMPurify&&(g=window.DOMPurify.sanitize(g)),p||v?(r=a._generatePreviewTemplate(l,g,c,i.type,o,!1,i.size),a._clearDefaultPreview(),m.append("\n"+r),a._validateImage(t,o,u,i.type)):a._previewDefault(i,o),a._initSortable()}},_slugDefault:function(e){return nt(e)?"":String(e).replace(/[\-\[\]\/\{}:;#%=\(\)\*\+\?\\\^\$\|<>&"']/g,"_")},_readFiles:function(t){this.reader=new FileReader;var i,n=this,o=n.$element,s=n.$preview,l=n.reader,c=n.$previewContainer,u=n.$previewStatus,h=n.msgLoading,d=n.msgProgress,f=n.previewInitId,p=t.length,m=n.fileTypeSettings,g=n.filestack.length,v=n.maxFilePreviewSize&&parseFloat(n.maxFilePreviewSize),b=s.length&&(!v||isNaN(v)),_=function(o,s,r,a){var l=e.extend(!0,{},n._getOutData({},{},t),{id:r,index:a}),c={id:r,index:a,file:s,files:t};return n._previewDefault(s,r,!0),n.isUploadable&&n.addToStack(void 0),setTimeout(function(){i(a+1)},100),n._initFileActions(),n.removeFromPreviewOnError&&e("#"+r).remove(),n.isUploadable?n._showUploadError(o,l):n._showError(o,c)};n.loadedImages=[],n.totalImagesCount=0,e.each(t,function(e,t){var i=n.fileTypeSettings.image||it.image;i&&i(t.type)&&n.totalImagesCount++}),i=function(e){if(nt(o.attr("multiple"))&&(p=1),e>=p)return n.isUploadable&&n.filestack.length>0?n._raise("filebatchselected",[n.getFileStack()]):n._raise("filebatchselected",[t]),c.removeClass("file-thumb-loading"),void u.html("");var y,w,x,k,C,S,D,T=g+e,I=f+"-"+T,P=t[e],A=P.name?n.slug(P.name):"",M=(P.size||0)/1e3,E="",F=r.createObjectURL(P),R=0,O=n.allowedFileTypes,H=nt(O)?"":O.join(", "),L=n.allowedFileExtensions,z=nt(L)?"":L.join(", ");if(nt(L)||(E=new RegExp("\\.("+L.join("|")+")$","i")),M=M.toFixed(2),n.maxFileSize>0&&M>n.maxFileSize)return C=n.msgSizeTooLarge.replace("{name}",A).replace("{size}",M).replace("{maxSize}",n.maxFileSize),void(n.isError=_(C,P,I,e));if(!nt(O)&&ot(O)){for(k=0;k<O.length;k+=1)S=O[k],x=m[S],D=void 0!==x&&x(P.type,A),R+=nt(D)?0:D.length;if(0===R)return C=n.msgInvalidFileType.replace("{name}",A).replace("{types}",H),void(n.isError=_(C,P,I,e))}return 0!==R||nt(L)||!ot(L)||nt(E)||(D=a(A,E),R+=nt(D)?0:D.length,0!==R)?n.showPreview?!b&&M>v?(n.addToStack(P),c.addClass("file-thumb-loading"),n._previewDefault(P,I),n._initFileActions(),n._updateFileDetails(p),void i(e+1)):(s.length&&void 0!==FileReader?(u.html(h.replace("{index}",e+1).replace("{files}",p)),c.addClass("file-thumb-loading"),l.onerror=function(e){n._errorHandler(e,A)},l.onload=function(t){n._previewFile(e,P,t,I,F),n._initFileActions()},l.onloadend=function(){C=d.replace("{index}",e+1).replace("{files}",p).replace("{percent}",50).replace("{name}",A),setTimeout(function(){u.html(C),n._updateFileDetails(p),i(e+1)},100),n._raise("fileloaded",[P,I,e,l])},l.onprogress=function(t){if(t.lengthComputable){var i=t.loaded/t.total*100,n=Math.ceil(i);C=d.replace("{index}",e+1).replace("{files}",p).replace("{percent}",n).replace("{name}",A),setTimeout(function(){u.html(C)},100)}},y=st("text",m,it.text),w=st("image",m,it.image),y(P.type,A)?l.readAsText(P,n.textEncoding):w(P.type,A)?l.readAsDataURL(P):l.readAsArrayBuffer(P)):(n._previewDefault(P,I),setTimeout(function(){i(e+1),n._updateFileDetails(p)},100),n._raise("fileloaded",[P,I,e,l])),void n.addToStack(P)):(n.addToStack(P),setTimeout(function(){i(e+1)},100),void n._raise("fileloaded",[P,I,e,l])):(C=n.msgInvalidFileExtension.replace("{name}",A).replace("{extensions}",z),void(n.isError=_(C,P,I,e)))},i(0),n._updateFileDetails(p,!1)},_updateFileDetails:function(e){var t=this,i=t.$element,n=t.getFileStack(),o=l(9)&&ut(i.val())||i[0].files[0]&&i[0].files[0].name||n.length&&n[0].name||"",s=t.slug(o),r=t.isUploadable?n.length:e,a=u.count(t.id)+r,c=r>1?t._getMsgSelected(a):s;t.isError?(t.$previewContainer.removeClass("file-thumb-loading"),t.$previewStatus.html(""),t.$captionContainer.find(".kv-caption-icon").hide()):t._showFileIcon(),t._setCaption(c,t.isError),t.$container.removeClass("file-input-new file-input-ajax-new"),1===arguments.length&&t._raise("fileselect",[e,s]),u.count(t.id)&&t._initPreviewActions()},_setThumbStatus:function(e,t){var i=this;if(i.showPreview){var n="indicator"+t,o=n+"Title",s="file-preview-"+t.toLowerCase(),r=e.find(".file-upload-indicator"),a=i.fileActionSettings;e.removeClass("file-preview-success file-preview-error file-preview-loading"),"Error"===t&&e.find(".kv-file-upload").attr("disabled",!0),"Success"===t&&(e.find(".file-drag-handle").remove(),r.css("margin-left",0)),r.html(a[n]),r.attr("title",a[o]),e.addClass(s)}},_setProgressCancelled:function(){var e=this;e._setProgress(101,e.$progress,e.msgCancelled)},_setProgress:function(e,t,i){var n=this,o=Math.min(e,100),s=100>o?n.progressTemplate:i?n.progressErrorTemplate:100>=e?n.progressTemplate:n.progressCompleteTemplate,r=n.progressUploadThreshold;if(t=t||n.$progress,!nt(s)){if(r&&o>r&&100>=e){var a=s.replace("{percent}",r).replace("{percent}",r).replace("{percent}%",n.msgUploadThreshold);t.html(a)}else t.html(s.replace(/\{percent}/g,o));i&&t.find('[role="progressbar"]').html(i)}},_setFileDropZoneTitle:function(){var e,t=this,i=t.$container.find(".file-drop-zone"),n=t.dropZoneTitle;t.isClickable&&(e=nt(t.$element.attr("multiple"))?t.fileSingle:t.filePlural,n+=t.dropZoneClickTitle.replace("{files}",e)),i.find("."+t.dropZoneTitleClass).remove(),t.isUploadable&&t.showPreview&&0!==i.length&&!(t.getFileStack().length>0)&&t.dropZoneEnabled&&(0===i.find(".file-preview-frame").length&&nt(t.defaultPreviewContent)&&i.prepend('<div class="'+t.dropZoneTitleClass+'">'+n+"</div>"),t.$container.removeClass("file-input-new"),m(t.$container,"file-input-ajax-new"))},_setAsyncUploadStatus:function(t,i,n){var o=this,s=0;o._setProgress(i,e("#"+t).find(".file-thumb-progress")),o.uploadStatus[t]=i,e.each(o.uploadStatus,function(e,t){s+=t}),o._setProgress(Math.floor(s/n))},_validateMinCount:function(){var e=this,t=e.isUploadable?e.getFileStack().length:e.$element.get(0).files.length;return!(e.validateInitialCount&&e.minFileCount>0&&e._getFileCount(t-1)<e.minFileCount&&(e._noFilesError({}),1))},_getFileCount:function(e){var t=this,i=0;return t.validateInitialCount&&!t.overwriteInitial&&(i=u.count(t.id),e+=i),e},_getFileName:function(e){return e&&e.name?this.slug(e.name):void 0},_getFileNames:function(e){var t=this;return t.filenames.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},_setPreviewError:function(e,t,i){var n=this;void 0!==t&&n.updateStack(t,i),n.removeFromPreviewOnError?e.remove():n._setThumbStatus(e,"Error")},_checkDimensions:function(e,t,i,n,o,s,r){var a,l,c,u,h=this,d="Small"===t?"min":"max",f=h[d+"Image"+s];!nt(f)&&i.length&&(c=i[0],l="Width"===s?c.naturalWidth||c.width:c.naturalHeight||c.height,u="Small"===t?l>=f:f>=l,u||(a=h["msgImage"+s+t].replace("{name}",o).replace("{size}",f),h._showUploadError(a,r),h._setPreviewError(n,e,null)))},_validateImage:function(e,t,i,n){var o,s,a,l=this,u=l.$preview,h=u.find("#"+t),d=h.find("img");i=i||"Untitled",d.length&&c(d,"load",function(){s=h.width(),a=u.width(),s>a&&(d.css("width","100%"),h.css("width","97%")),o={ind:e,id:t},l._checkDimensions(e,"Small",d,h,i,"Width",o),l._checkDimensions(e,"Small",d,h,i,"Height",o),l.resizeImage||(l._checkDimensions(e,"Large",d,h,i,"Width",o),l._checkDimensions(e,"Large",d,h,i,"Height",o)),l._raise("fileimageloaded",[t]),l.loadedImages.push({ind:e,img:d,thumb:h,pid:t,typ:n}),l._validateAllImages(),r.revokeObjectURL(d.attr("src"))})},_validateAllImages:function(){var e,t,i,n,o,s,r,a=this,l={};if(a.loadedImages.length===a.totalImagesCount&&(a._raise("fileimagesloaded"),a.resizeImage)){for(r=a.isUploadable?a._showUploadError:a._showError,e=0;e<a.loadedImages.length;e++)t=a.loadedImages[e],i=t.img,n=t.thumb,o=t.pid,s=t.ind,l={id:o,index:s},a._getResizedImage(i[0],t.typ,o,s)||(r(a.msgImageResizeError,l,"fileimageresizeerror"),a._setPreviewError(n,s));a._raise("fileimagesresized")}},_getResizedImage:function(e,t,i,n){var o,s,r=this,a=e.naturalWidth,l=e.naturalHeight,c=1,u=r.maxImageWidth||a,h=r.maxImageHeight||l,d=a&&l,f=r.imageCanvas,p=r.imageCanvasContext;if(!d)return!1;if(a===u&&l===h)return!0;t=t||r.resizeDefaultImageType,o=a>u,s=l>h,c="width"===r.resizePreference?o?u/a:s?h/l:1:s?h/l:o?u/a:1,r._resetCanvas(),a*=c,l*=c,f.width=a,f.height=l;try{return p.drawImage(e,0,0,a,l),f.toBlob(function(e){r._raise("fileimageresized",[i,n]),r.filestack[n]=e},t,r.resizeQuality),!0}catch(e){return!1}},_initBrowse:function(e){var t=this;t.showBrowse?(t.$btnFile=e.find(".btn-file"),t.$btnFile.append(t.$element)):t.$element.hide()},_initCaption:function(){var e=this,t=e.initialCaption||"";return e.overwriteInitial||nt(t)?(e.$caption.html(""),!1):(e._setCaption(t),!0)},_setCaption:function(t,i){var n,o,s,r,a=this,l=a.getFileStack();if(a.$caption.length){if(i)n=e("<div>"+a.msgValidationError+"</div>").text(),s=l.length,r=s?1===s&&l[0]?a._getFileNames()[0]:a._getMsgSelected(s):a._getMsgSelected(a.msgNo),o='<span class="'+a.msgValidationErrorClass+'">'+a.msgValidationErrorIcon+(nt(t)?r:t)+"</span>";else{if(nt(t))return;n=e("<div>"+t+"</div>").text(),o=a._getLayoutTemplate("fileIcon")+n}a.$caption.html(o),a.$caption.attr("title",n),a.$captionContainer.find(".file-caption-ellipsis").attr("title",n)}},_createContainer:function(){var t=this,i=e(document.createElement("div")).attr({"class":"file-input file-input-new"}).html(t._renderMain());return t.$element.before(i),t._initBrowse(i),t.theme&&i.addClass("theme-"+t.theme),i},_refreshContainer:function(){var e=this,t=e.$container;t.before(e.$element),t.html(e._renderMain()),e._initBrowse(t)},_renderMain:function(){var e=this,t=e.isUploadable&&e.dropZoneEnabled?" file-drop-zone":"file-drop-disabled",i=e.showClose?e._getLayoutTemplate("close"):"",n=e.showPreview?e._getLayoutTemplate("preview").replace(/\{class}/g,e.previewClass).replace(/\{dropClass}/g,t):"",o=e.isDisabled?e.captionClass+" file-caption-disabled":e.captionClass,s=e.captionTemplate.replace(/\{class}/g,o+" kv-fileinput-caption");return e.mainTemplate.replace(/\{class}/g,e.mainClass+(!e.showBrowse&&e.showCaption?" no-browse":"")).replace(/\{preview}/g,n).replace(/\{close}/g,i).replace(/\{caption}/g,s).replace(/\{upload}/g,e._renderButton("upload")).replace(/\{remove}/g,e._renderButton("remove")).replace(/\{cancel}/g,e._renderButton("cancel")).replace(/\{browse}/g,e._renderButton("browse"))},_renderButton:function(e){var t=this,i=t._getLayoutTemplate("btnDefault"),n=t[e+"Class"],o=t[e+"Title"],s=t[e+"Icon"],r=t[e+"Label"],a=t.isDisabled?" disabled":"",l="button";switch(e){case"remove":if(!t.showRemove)return"";break;case"cancel":if(!t.showCancel)return"";n+=" hide";break;case"upload":if(!t.showUpload)return"";t.isUploadable&&!t.isDisabled?i=t._getLayoutTemplate("btnLink").replace("{href}",t.uploadUrl):l="submit";break;case"browse":if(!t.showBrowse)return"";i=t._getLayoutTemplate("btnBrowse");break;default:return""}return n+="browse"===e?" btn-file":" fileinput-"+e+" fileinput-"+e+"-button",nt(r)||(r=' <span class="'+t.buttonLabelClass+'">'+r+"</span>"),i.replace("{type}",l).replace("{css}",n).replace("{title}",o).replace("{status}",a).replace("{icon}",s).replace("{label}",r)},_renderThumbProgress:function(){return'<div class="file-thumb-progress hide">'+this.progressTemplate.replace(/\{percent}/g,"0")+"</div>"},_renderFileFooter:function(e,t,i,n){var o,s=this,r=s.fileActionSettings,a=r.showRemove,l=r.showDrag,c=r.showUpload,u=r.showZoom,h=s._getLayoutTemplate("footer"),d=n?r.indicatorError:r.indicatorNew,f=n?r.indicatorErrorTitle:r.indicatorNewTitle;return t=s._getSize(t),o=s.isUploadable?h.replace(/\{actions}/g,s._renderFileActions(c,a,u,l,!1,!1,!1)).replace(/\{caption}/g,e).replace(/\{size}/g,t).replace(/\{width}/g,i).replace(/\{progress}/g,s._renderThumbProgress()).replace(/\{indicator}/g,d).replace(/\{indicatorTitle}/g,f):h.replace(/\{actions}/g,s._renderFileActions(!1,!1,u,l,!1,!1,!1)).replace(/\{caption}/g,e).replace(/\{size}/g,t).replace(/\{width}/g,i).replace(/\{progress}/g,"").replace(/\{indicator}/g,d).replace(/\{indicatorTitle}/g,f),o=lt(o,s.previewThumbTags)},_renderFileActions:function(e,t,i,n,o,s,r,a){if(!(e||t||i||n))return"";var l,c=this,u=s===!1?"":' data-url="'+s+'"',h=r===!1?"":' data-key="'+r+'"',d="",f="",p="",m="",g=c._getLayoutTemplate("actions"),v=c.fileActionSettings,b=c.otherActionButtons.replace(/\{dataKey}/g,h),_=o?v.removeClass+" disabled":v.removeClass;return t&&(d=c._getLayoutTemplate("actionDelete").replace(/\{removeClass}/g,_).replace(/\{removeIcon}/g,v.removeIcon).replace(/\{removeTitle}/g,v.removeTitle).replace(/\{dataUrl}/g,u).replace(/\{dataKey}/g,h)),e&&(f=c._getLayoutTemplate("actionUpload").replace(/\{uploadClass}/g,v.uploadClass).replace(/\{uploadIcon}/g,v.uploadIcon).replace(/\{uploadTitle}/g,v.uploadTitle)),i&&(p=c._getLayoutTemplate("actionZoom").replace(/\{zoomClass}/g,v.zoomClass).replace(/\{zoomIcon}/g,v.zoomIcon).replace(/\{zoomTitle}/g,v.zoomTitle)),n&&a&&(l="drag-handle-init "+v.dragClass,m=c._getLayoutTemplate("actionDrag").replace(/\{dragClass}/g,l).replace(/\{dragTitle}/g,v.dragTitle).replace(/\{dragIcon}/g,v.dragIcon)),g.replace(/\{delete}/g,d).replace(/\{upload}/g,f).replace(/\{zoom}/g,p).replace(/\{drag}/g,m).replace(/\{other}/g,b)},_browse:function(e){var t=this;t._raise("filebrowse"),e&&e.isDefaultPrevented()||(t.isError&&!t.isUploadable&&t.clear(),t.$captionContainer.focus())},_change:function(t){var i=this,n=i.$element;if(!i.isUploadable&&nt(n.val())&&i.fileInputCleared)return void(i.fileInputCleared=!1);i.fileInputCleared=!1;var o,s,r,a,l,c,h=arguments.length>1,d=i.isUploadable,f=0,p=h?t.originalEvent.dataTransfer.files:n.get(0).files,m=i.filestack.length,g=nt(n.attr("multiple")),v=g&&m>0,b=0,_=function(t,n,o,s){var r=e.extend(!0,{},i._getOutData({},{},p),{id:o,index:s}),a={id:o,index:s,file:n,files:p};return i.isUploadable?i._showUploadError(t,r):i._showError(t,a)};if(i.reader=null,i._resetUpload(),i._hideFileIcon(),i.isUploadable&&i.$container.find(".file-drop-zone ."+i.dropZoneTitleClass).remove(),h)for(o=[];p[f];)a=p[f],a.type||a.size%4096!==0?o.push(a):b++,f++;else o=void 0===t.target.files?t.target&&t.target.value?[{name:t.target.value.replace(/^.+\\/,"")}]:[]:t.target.files;if(nt(o)||0===o.length)return d||i.clear(),i._showFolderError(b),void i._raise("fileselectnone");if(i._resetErrors(),c=o.length,r=i._getFileCount(i.isUploadable?i.getFileStack().length+c:c),i.maxFileCount>0&&r>i.maxFileCount){if(!i.autoReplace||c>i.maxFileCount)return l=i.autoReplace&&c>i.maxFileCount?c:r,s=i.msgFilesTooMany.replace("{m}",i.maxFileCount).replace("{n}",l),i.isError=_(s,null,null,null),i.$captionContainer.find(".kv-caption-icon").hide(),i._setCaption("",!0),void i.$container.removeClass("file-input-new file-input-ajax-new");r>i.maxFileCount&&i._resetPreviewThumbs(d)}else!d||v?(i._resetPreviewThumbs(!1),v&&i.clearStack()):!d||0!==m||u.count(i.id)&&!i.overwriteInitial||i._resetPreviewThumbs(!0);i.isPreviewable?i._readFiles(o):i._updateFileDetails(1),i._showFolderError(b)},_abort:function(t){var i,n=this;return!(!n.ajaxAborted||"object"!=typeof n.ajaxAborted||void 0===n.ajaxAborted.message||(i=e.extend(!0,{},n._getOutData(),t),i.abortData=n.ajaxAborted.data||{},i.abortMessage=n.ajaxAborted.message,n.cancel(),n._setProgress(101,n.$progress,n.msgCancelled),n._showUploadError(n.ajaxAborted.message,i,"filecustomerror"),0))},_resetFileStack:function(){var t=this,i=0,n=[],o=[];t._getThumbs().each(function(){var s=e(this),r=s.attr("data-fileindex"),a=t.filestack[r];-1!==r&&(void 0!==a?(n[i]=a,o[i]=t._getFileName(a),s.attr({id:t.previewInitId+"-"+i,"data-fileindex":i}),i++):s.attr({id:"uploaded-"+rt(),"data-fileindex":"-1"}))}),t.filestack=n,t.filenames=o},clearStack:function(){var e=this;return e.filestack=[],e.filenames=[],e.$element},updateStack:function(e,t){var i=this;return i.filestack[e]=t,i.filenames[e]=i._getFileName(t),i.$element},addToStack:function(e){var t=this;return t.filestack.push(e),t.filenames.push(t._getFileName(e)),t.$element},getFileStack:function(e){var t=this;return t.filestack.filter(function(t){return e?void 0!==t:void 0!==t&&null!==t})},getFilesCount:function(){var e=this,t=e.isUploadable?e.getFileStack().length:e.$element.get(0).files.length;return e._getFileCount(t)},lock:function(){var e=this;return e._resetErrors(),e.disable(),e.showRemove&&m(e.$container.find(".fileinput-remove"),"hide"),e.showCancel&&e.$container.find(".fileinput-cancel").removeClass("hide"),e._raise("filelock",[e.filestack,e._getExtraData()]),e.$element},unlock:function(e){var t=this;return void 0===e&&(e=!0),t.enable(),t.showCancel&&m(t.$container.find(".fileinput-cancel"),"hide"),t.showRemove&&t.$container.find(".fileinput-remove").removeClass("hide"),e&&t._resetFileStack(),t._raise("fileunlock",[t.filestack,t._getExtraData()]),t.$element},cancel:function(){var t,i=this,n=i.ajaxRequests,o=n.length;if(o>0)for(t=0;o>t;t+=1)i.cancelling=!0,n[t].abort();return i._setProgressCancelled(),i._getThumbs().each(function(){var t=e(this),n=t.attr("data-fileindex");t.removeClass("file-uploading"),void 0!==i.filestack[n]&&(t.find(".kv-file-upload").removeClass("disabled").removeAttr("disabled"),t.find(".kv-file-remove").removeClass("disabled").removeAttr("disabled")),i.unlock()}),i.$element},clear:function(){var t,i=this;return i.$btnUpload.removeAttr("disabled"),i._getThumbs().find("video,audio,img").each(function(){ct(e(this))}),i._resetUpload(),i.clearStack(),i._clearFileInput(),i._resetErrors(!0),i._raise("fileclear"),i._hasInitialPreview()?(i._showFileIcon(),i._resetPreview(),i._initPreviewActions(),i.$container.removeClass("file-input-new")):(i._getThumbs().each(function(){i._clearObjects(e(this))}),i.isUploadable&&(u.data[i.id]={}),i.$preview.html(""),t=!i.overwriteInitial&&i.initialCaption.length>0?i.initialCaption:"",i.$caption.html(t),i.$caption.attr("title",""),m(i.$container,"file-input-new"),i._validateDefaultPreview()),0===i.$container.find(".file-preview-frame").length&&(i._initCaption()||i.$captionContainer.find(".kv-caption-icon").hide()),i._hideFileIcon(),i._raise("filecleared"),i.$captionContainer.focus(),i._setFileDropZoneTitle(),i.$element},reset:function(){var e=this;return e._resetPreview(),e.$container.find(".fileinput-filename").text(""),e._raise("filereset"),m(e.$container,"file-input-new"),(e.$preview.find(".file-preview-frame").length||e.isUploadable&&e.dropZoneEnabled)&&e.$container.removeClass("file-input-new"),e._setFileDropZoneTitle(),e.clearStack(),e.formdata={},e.$element},disable:function(){var e=this;return e.isDisabled=!0,e._raise("filedisabled"),e.$element.attr("disabled","disabled"),e.$container.find(".kv-fileinput-caption").addClass("file-caption-disabled"),e.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").attr("disabled",!0),e._initDragDrop(),e.$element},enable:function(){var e=this;return e.isDisabled=!1,e._raise("fileenabled"),e.$element.removeAttr("disabled"),e.$container.find(".kv-fileinput-caption").removeClass("file-caption-disabled"),e.$container.find(".btn-file, .fileinput-remove, .fileinput-upload, .file-preview-frame button").removeAttr("disabled"),e._initDragDrop(),e.$element},upload:function(){var t,i,n,o=this,s=o.getFileStack().length,r={},a=!e.isEmptyObject(o._getExtraData());if(o.minFileCount>0&&o._getFileCount(s)<o.minFileCount)return void o._noFilesError(r);if(o.isUploadable&&!o.isDisabled&&(0!==s||a)){if(o._resetUpload(),o.$progress.removeClass("hide"),o.uploadCount=0,o.uploadStatus={},o.uploadLog=[],o.lock(),o._setProgress(2),0===s&&a)return void o._uploadExtraOnly();
if(n=o.filestack.length,o.hasInitData=!1,!o.uploadAsync)return o._uploadBatch(),o.$element;for(i=o._getOutData(),o._raise("filebatchpreupload",[i]),o.fileBatchCompleted=!1,o.uploadCache={content:[],config:[],tags:[],append:!0},o.uploadAsyncCount=o.getFileStack().length,t=0;n>t;t++)o.uploadCache.content[t]=null,o.uploadCache.config[t]=null,o.uploadCache.tags[t]=null;for(t=0;n>t;t++)void 0!==o.filestack[t]&&o._uploadSingle(t,o.filestack,!0)}},destroy:function(){var e=this,i=e.$container;return i.find(".file-drop-zone").off(),e.$element.insertBefore(i).off(t).removeData(),i.off().remove(),e.$element},refresh:function(t){var i=this,n=i.$element;return t=t?e.extend(!0,{},i.options,t):i.options,i.destroy(),n.fileinput(t),n.val()&&n.trigger("change.fileinput"),n}},e.fn.fileinput=function(t){if(d()||l(9)){var i=Array.apply(null,arguments),n=[];switch(i.shift(),this.each(function(){var o,s=e(this),r=s.data("fileinput"),a="object"==typeof t&&t,l=a.theme||s.data("theme"),c={},u={},h=a.language||s.data("language")||"en";r||(l&&(u=e.fn.fileinputThemes[l]||{}),"en"===h||nt(e.fn.fileinputLocales[h])||(c=e.fn.fileinputLocales[h]||{}),o=e.extend(!0,{},e.fn.fileinput.defaults,u,e.fn.fileinputLocales.en,c,a,s.data()),r=new pt(this,o),s.data("fileinput",r)),"string"==typeof t&&n.push(r[t].apply(r,i))}),n.length){case 0:return this;case 1:return n[0];default:return n}}},e.fn.fileinput.defaults={language:"en",showCaption:!0,showBrowse:!0,showPreview:!0,showRemove:!0,showUpload:!0,showCancel:!0,showClose:!0,showUploadedThumbs:!0,browseOnZoneClick:!1,autoReplace:!1,previewClass:"",captionClass:"",mainClass:"file-caption-main",mainTemplate:null,purifyHtml:!0,fileSizeGetter:null,initialCaption:"",initialPreview:[],initialPreviewDelimiter:"*$$*",initialPreviewAsData:!1,initialPreviewFileType:"image",initialPreviewConfig:[],initialPreviewThumbTags:[],previewThumbTags:{},initialPreviewShowDelete:!0,removeFromPreviewOnError:!1,deleteUrl:"",deleteExtraData:{},overwriteInitial:!0,layoutTemplates:Z,previewTemplates:X,previewZoomSettings:J,previewZoomButtonIcons:{prev:'<i class="glyphicon glyphicon-triangle-left"></i>',next:'<i class="glyphicon glyphicon-triangle-right"></i>',toggleheader:'<i class="glyphicon glyphicon-resize-vertical"></i>',fullscreen:'<i class="glyphicon glyphicon-fullscreen"></i>',borderless:'<i class="glyphicon glyphicon-resize-full"></i>',close:'<i class="glyphicon glyphicon-remove"></i>'},previewZoomButtonClasses:{prev:"btn btn-navigate",next:"btn btn-navigate",toggleheader:"btn btn-default btn-header-toggle",fullscreen:"btn btn-default",borderless:"btn btn-default",close:"btn btn-default"},allowedPreviewTypes:Q,allowedPreviewMimeTypes:null,allowedFileTypes:null,allowedFileExtensions:null,defaultPreviewContent:null,customLayoutTags:{},customPreviewTags:{},previewSettings:tt,fileTypeSettings:it,previewFileIcon:'<i class="glyphicon glyphicon-file"></i>',previewFileIconClass:"file-other-icon",previewFileIconSettings:{},previewFileExtSettings:{},buttonLabelClass:"hidden-xs",browseIcon:'<i class="glyphicon glyphicon-folder-open"></i>&nbsp;',browseClass:"btn btn-primary",removeIcon:'<i class="glyphicon glyphicon-trash"></i>',removeClass:"btn btn-default",cancelIcon:'<i class="glyphicon glyphicon-ban-circle"></i>',cancelClass:"btn btn-default",uploadIcon:'<i class="glyphicon glyphicon-upload"></i>',uploadClass:"btn btn-default",uploadUrl:null,uploadAsync:!0,uploadExtraData:{},zoomModalHeight:480,minImageWidth:null,minImageHeight:null,maxImageWidth:null,maxImageHeight:null,resizeImage:!1,resizePreference:"width",resizeQuality:.92,resizeDefaultImageType:"image/jpeg",maxFileSize:0,maxFilePreviewSize:25600,minFileCount:0,maxFileCount:0,validateInitialCount:!1,msgValidationErrorClass:"text-danger",msgValidationErrorIcon:'<i class="glyphicon glyphicon-exclamation-sign"></i> ',msgErrorClass:"file-error-message",progressThumbClass:"progress-bar progress-bar-success progress-bar-striped active",progressClass:"progress-bar progress-bar-success progress-bar-striped active",progressCompleteClass:"progress-bar progress-bar-success",progressErrorClass:"progress-bar progress-bar-danger",progressUploadThreshold:99,previewFileType:"image",elCaptionContainer:null,elCaptionText:null,elPreviewContainer:null,elPreviewImage:null,elPreviewStatus:null,elErrorContainer:null,errorCloseButton:'<span class="close kv-error-close">&times;</span>',slugCallback:null,dropZoneEnabled:!0,dropZoneTitleClass:"file-drop-zone-title",fileActionSettings:{},otherActionButtons:"",textEncoding:"UTF-8",ajaxSettings:{},ajaxDeleteSettings:{},showAjaxErrorDetails:!0},e.fn.fileinputLocales.en={fileSingle:"file",filePlural:"files",browseLabel:"Browse &hellip;",removeLabel:"Remove",removeTitle:"Clear selected files",cancelLabel:"Cancel",cancelTitle:"Abort ongoing upload",uploadLabel:"Upload",uploadTitle:"Upload selected files",msgNo:"No",msgNoFilesSelected:"No files selected",msgCancelled:"Cancelled",msgZoomModalHeading:"Detailed Preview",msgSizeTooLarge:'File "{name}" (<b>{size} KB</b>) exceeds maximum allowed upload size of <b>{maxSize} KB</b>.',msgFilesTooLess:"You must select at least <b>{n}</b> {files} to upload.",msgFilesTooMany:"Number of files selected for upload <b>({n})</b> exceeds maximum allowed limit of <b>{m}</b>.",msgFileNotFound:'File "{name}" not found!',msgFileSecured:'Security restrictions prevent reading the file "{name}".',msgFileNotReadable:'File "{name}" is not readable.',msgFilePreviewAborted:'File preview aborted for "{name}".',msgFilePreviewError:'An error occurred while reading the file "{name}".',msgInvalidFileType:'Invalid type for file "{name}". Only "{types}" files are supported.',msgInvalidFileExtension:'Invalid extension for file "{name}". Only "{extensions}" files are supported.',msgUploadAborted:"The file upload was aborted",msgUploadThreshold:"Processing...",msgValidationError:"Validation Error",msgLoading:"Loading file {index} of {files} &hellip;",msgProgress:"Loading file {index} of {files} - {name} - {percent}% completed.",msgSelected:"{n} {files} selected",msgFoldersNotAllowed:"Drag & drop files only! {n} folder(s) dropped were skipped.",msgImageWidthSmall:'Width of image file "{name}" must be at least {size} px.',msgImageHeightSmall:'Height of image file "{name}" must be at least {size} px.',msgImageWidthLarge:'Width of image file "{name}" cannot exceed {size} px.',msgImageHeightLarge:'Height of image file "{name}" cannot exceed {size} px.',msgImageResizeError:"Could not get the image dimensions to resize.",msgImageResizeException:"Error while resizing the image.<pre>{errors}</pre>",dropZoneTitle:"Drag & drop files here &hellip;",dropZoneClickTitle:"<br>(or click to select {files})",previewZoomButtonTitles:{prev:"View previous file",next:"View next file",toggleheader:"Toggle header",fullscreen:"Toggle full screen",borderless:"Toggle borderless mode",close:"Close detailed preview"}},e.fn.fileinput.Constructor=pt,e(document).ready(function(){var t=e("input.file[type=file]");t.length&&t.fileinput()})}),function(e){"use strict";e.fn.fileinputLocales["pt-BR"]={fileSingle:"arquivo",filePlural:"arquivos",browseLabel:"Procurar&hellip;",removeLabel:"Remover",removeTitle:"Remover arquivos selecionados",cancelLabel:"Cancelar",cancelTitle:"Interromper envio em andamento",uploadLabel:"Enviar",uploadTitle:"Enviar arquivos selecionados",msgNo:"Não",msgNoFilesSelected:"",msgCancelled:"Cancelado",msgZoomModalHeading:"Pré-visualização detalhada",msgSizeTooLarge:'O arquivo "{name}" (<b>{size} KB</b>) excede o tamanho máximo permitido de <b>{maxSize} KB</b>.',msgFilesTooLess:"Você deve selecionar pelo menos <b>{n}</b> {files} para enviar.",msgFilesTooMany:"O número de arquivos selecionados para o envio <b>({n})</b> excede o limite máximo permitido de <b>{m}</b>.",msgFileNotFound:'O arquivo "{name}" não foi encontrado!',msgFileSecured:'Restrições de segurança impedem a leitura do arquivo "{name}".',msgFileNotReadable:'O arquivo "{name}" não pode ser lido.',msgFilePreviewAborted:'A pré-visualização do arquivo "{name}" foi interrompida.',msgFilePreviewError:'Ocorreu um erro ao ler o arquivo "{name}".',msgInvalidFileType:'Tipo inválido para o arquivo "{name}". Apenas arquivos "{types}" são permitidos.',msgInvalidFileExtension:'Extensão inválida para o arquivo "{name}". Apenas arquivos "{extensions}" são permitidos.',msgUploadAborted:"O envio do arquivo foi abortado",msgUploadThreshold:"Processando...",msgValidationError:"Erro de validação",msgLoading:"Enviando arquivo {index} de {files}&hellip;",msgProgress:"Enviando arquivo {index} de {files} - {name} - {percent}% completo.",msgSelected:"{n} {files} selecionado(s)",msgFoldersNotAllowed:"Arraste e solte apenas arquivos! {n} pasta(s) ignoradas.",msgImageWidthSmall:'Largura do arquivo de imagem "{name}" deve ser pelo menos {size} px.',msgImageHeightSmall:'Altura do arquivo de imagem "{name}" deve ser pelo menos {size} px.',msgImageWidthLarge:'Largura do arquivo de imagem "{name}" não pode exceder {size} px.',msgImageHeightLarge:'Altura do arquivo de imagem "{name}" não pode exceder {size} px.',msgImageResizeError:"Não foi possível obter as dimensões da imagem para redimensionar.",msgImageResizeException:"Erro ao redimensionar a imagem.<pre>{errors}</pre>",dropZoneTitle:"Arraste e solte os arquivos aqui&hellip;",dropZoneClickTitle:"<br>(ou clique para selecionar o(s) arquivo(s))",fileActionSettings:{removeTitle:"Remover arquivo",uploadTitle:"Enviar arquivo",zoomTitle:"Ver detalhes",dragTitle:"Mover / Reordenar",indicatorNewTitle:"Ainda não enviado",indicatorSuccessTitle:"Enviado",indicatorErrorTitle:"Erro",indicatorLoadingTitle:"A enviar ..."},previewZoomButtonTitles:{prev:"Visualizar arquivo anterior",next:"Visualizar próximo arquivo",toggleheader:"Mostrar cabeçalho",fullscreen:"Ativar tela cheia",borderless:"Ativar modo sem borda",close:"Fechar pré-visualização detalhada"}}}(window.jQuery),function(e){"use strict";e.fn.fileinputThemes.fa={fileActionSettings:{removeIcon:'<i class="fa fa-trash text-danger"></i>',uploadIcon:'<i class="fa fa-upload text-info"></i>',zoomIcon:'<i class="fa fa-search-plus"></i>',dragIcon:'<i class="fa fa-bars"></i>',indicatorNew:'<i class="fa fa-hand-o-down text-warning"></i>',indicatorSuccess:'<i class="fa fa-check-circle text-success"></i>',indicatorError:'<i class="fa fa-exclamation-circle text-danger"></i>',indicatorLoading:'<i class="fa fa-hand-o-up text-muted"></i>'},layoutTemplates:{fileIcon:'<i class="fa fa-file kv-caption-icon"></i> '},previewZoomButtonIcons:{prev:'<i class="fa fa-caret-left fa-lg"></i>',next:'<i class="fa fa-caret-right fa-lg"></i>',toggleheader:'<i class="fa fa-arrows-v"></i>',fullscreen:'<i class="fa fa-arrows-alt"></i>',borderless:'<i class="fa fa-external-link"></i>',close:'<i class="fa fa-remove"></i>'},previewFileIcon:'<i class="fa fa-file"></i>',browseIcon:'<i class="fa fa-folder-open"></i>',removeIcon:'<i class="fa fa-trash"></i>',cancelIcon:'<i class="fa fa-ban"></i>',uploadIcon:'<i class="fa fa-upload"></i>',msgValidationErrorIcon:'<i class="fa fa-exclamation-circle"></i> '}}(window.jQuery),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(t,n,o){var n={content:{message:"object"==typeof n?n.message:n,title:n.title?n.title:"",icon:n.icon?n.icon:"",url:n.url?n.url:"#",target:n.target?n.target:"-"}};o=e.extend(!0,{},n,o),this.settings=e.extend(!0,{},i,o),this._defaults=i,"-"==this.settings.content.target&&(this.settings.content.target=this.settings.url_target),this.animations={start:"webkitAnimationStart oanimationstart MSAnimationStart animationstart",end:"webkitAnimationEnd oanimationend MSAnimationEnd animationend"},"number"==typeof this.settings.offset&&(this.settings.offset={x:this.settings.offset,y:this.settings.offset}),this.init()}var i={element:"body",position:null,type:"info",allow_dismiss:!0,newest_on_top:!1,showProgressbar:!1,placement:{from:"top",align:"right"},offset:20,spacing:10,z_index:1031,delay:5e3,timer:1e3,url_target:"_blank",mouse_over:null,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"},onShow:null,onShown:null,onClose:null,onClosed:null,icon_type:"class",template:'<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'};String.format=function(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace(RegExp("\\{"+(t-1)+"\\}","gm"),arguments[t]);return e},e.extend(t.prototype,{init:function(){var e=this;this.buildNotify(),this.settings.content.icon&&this.setIcon(),"#"!=this.settings.content.url&&this.styleURL(),this.placement(),this.bind(),this.notify={$ele:this.$ele,update:function(t,i){var n={};"string"==typeof t?n[t]=i:n=t;for(var t in n)switch(t){case"type":this.$ele.removeClass("alert-"+e.settings.type),this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-"+e.settings.type),e.settings.type=n[t],this.$ele.addClass("alert-"+n[t]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-"+n[t]);break;case"icon":var o=this.$ele.find('[data-notify="icon"]');"class"==e.settings.icon_type.toLowerCase()?o.removeClass(e.settings.content.icon).addClass(n[t]):(o.is("img")||o.find("img"),o.attr("src",n[t]));break;case"progress":var s=e.settings.delay-e.settings.delay*(n[t]/100);this.$ele.data("notify-delay",s),this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n[t]).css("width",n[t]+"%");break;case"url":this.$ele.find('[data-notify="url"]').attr("href",n[t]);break;case"target":this.$ele.find('[data-notify="url"]').attr("target",n[t]);break;default:this.$ele.find('[data-notify="'+t+'"]').html(n[t])}var r=this.$ele.outerHeight()+parseInt(e.settings.spacing)+parseInt(e.settings.offset.y);e.reposition(r)},close:function(){e.close()}}},buildNotify:function(){var t=this.settings.content;this.$ele=e(String.format(this.settings.template,this.settings.type,t.title,t.message,t.url,t.target)),this.$ele.attr("data-notify-position",this.settings.placement.from+"-"+this.settings.placement.align),this.settings.allow_dismiss||this.$ele.find('[data-notify="dismiss"]').css("display","none"),(this.settings.delay<=0&&!this.settings.showProgressbar||!this.settings.showProgressbar)&&this.$ele.find('[data-notify="progressbar"]').remove()},setIcon:function(){"class"==this.settings.icon_type.toLowerCase()?this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon):this.$ele.find('[data-notify="icon"]').is("img")?this.$ele.find('[data-notify="icon"]').attr("src",this.settings.content.icon):this.$ele.find('[data-notify="icon"]').append('<img src="'+this.settings.content.icon+'" alt="Notify Icon" />')},styleURL:function(){this.$ele.find('[data-notify="url"]').css({backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)",height:"100%",left:"0px",position:"absolute",top:"0px",width:"100%",zIndex:this.settings.z_index+1}),this.$ele.find('[data-notify="dismiss"]').css({position:"absolute",right:"10px",top:"5px",zIndex:this.settings.z_index+2})},placement:function(){var t=this,i=this.settings.offset.y,n={display:"inline-block",margin:"0px auto",position:this.settings.position?this.settings.position:"body"===this.settings.element?"fixed":"absolute",transition:"all .5s ease-in-out",zIndex:this.settings.z_index},o=!1,s=this.settings;switch(e('[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])').each(function(){return i=Math.max(i,parseInt(e(this).css(s.placement.from))+parseInt(e(this).outerHeight())+parseInt(s.spacing))}),1==this.settings.newest_on_top&&(i=this.settings.offset.y),n[this.settings.placement.from]=i+"px",this.settings.placement.align){case"left":case"right":n[this.settings.placement.align]=this.settings.offset.x+"px";break;case"center":n.left=0,n.right=0}this.$ele.css(n).addClass(this.settings.animate.enter),e.each(Array("webkit","moz","o","ms",""),function(e,i){t.$ele[0].style[i+"AnimationIterationCount"]=1}),e(this.settings.element).append(this.$ele),1==this.settings.newest_on_top&&(i=parseInt(i)+parseInt(this.settings.spacing)+this.$ele.outerHeight(),this.reposition(i)),e.isFunction(t.settings.onShow)&&t.settings.onShow.call(this.$ele),this.$ele.one(this.animations.start,function(){o=!0}).one(this.animations.end,function(){e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)}),setTimeout(function(){o||e.isFunction(t.settings.onShown)&&t.settings.onShown.call(this)},600)},bind:function(){var t=this;if(this.$ele.find('[data-notify="dismiss"]').on("click",function(){t.close()}),this.$ele.mouseover(function(){e(this).data("data-hover","true")}).mouseout(function(){e(this).data("data-hover","false")}),this.$ele.data("data-hover","false"),this.settings.delay>0){t.$ele.data("notify-delay",t.settings.delay);var i=setInterval(function(){var e=parseInt(t.$ele.data("notify-delay"))-t.settings.timer;if("false"===t.$ele.data("data-hover")&&"pause"==t.settings.mouse_over||"pause"!=t.settings.mouse_over){var n=(t.settings.delay-e)/t.settings.delay*100;t.$ele.data("notify-delay",e),t.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow",n).css("width",n+"%")}e<=-t.settings.timer&&(clearInterval(i),t.close())},t.settings.timer)}},close:function(){var t=this,i=parseInt(this.$ele.css(this.settings.placement.from)),n=!1;this.$ele.data("closing","true").addClass(this.settings.animate.exit),t.reposition(i),e.isFunction(t.settings.onClose)&&t.settings.onClose.call(this.$ele),this.$ele.one(this.animations.start,function(){n=!0}).one(this.animations.end,function(){e(this).remove(),e.isFunction(t.settings.onClosed)&&t.settings.onClosed.call(this)}),setTimeout(function(){n||(t.$ele.remove(),t.settings.onClosed&&t.settings.onClosed(t.$ele))},600)},reposition:function(t){var i=this,n='[data-notify-position="'+this.settings.placement.from+"-"+this.settings.placement.align+'"]:not([data-closing="true"])',o=this.$ele.nextAll(n);1==this.settings.newest_on_top&&(o=this.$ele.prevAll(n)),o.each(function(){e(this).css(i.settings.placement.from,t),t=parseInt(t)+parseInt(i.settings.spacing)+e(this).outerHeight()})}}),e.notify=function(e,i){var n=new t(this,e,i);return n.notify},e.notifyDefaults=function(t){return i=e.extend(!0,{},i,t)},e.notifyClose=function(t){"undefined"==typeof t||"all"==t?e("[data-notify]").find('[data-notify="dismiss"]').trigger("click"):e('[data-notify-position="'+t+'"]').find('[data-notify="dismiss"]').trigger("click")}}),!function(e){"object"==typeof exports&&exports&&"object"==typeof module&&module&&module.exports===exports?e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){var t=e[0];return t.offsetWidth>0&&t.offsetHeight>0}function i(t){if(t.minTime&&(t.minTime=_(t.minTime)),t.maxTime&&(t.maxTime=_(t.maxTime)),t.durationTime&&"function"!=typeof t.durationTime&&(t.durationTime=_(t.durationTime)),"now"==t.scrollDefault)t.scrollDefault=function(){return t.roundingFunction(_(new Date),t)};else if(t.scrollDefault&&"function"!=typeof t.scrollDefault){var i=t.scrollDefault;t.scrollDefault=function(){return t.roundingFunction(_(i),t)}}else t.minTime&&(t.scrollDefault=function(){return t.roundingFunction(t.minTime,t)});if("string"===e.type(t.timeFormat)&&t.timeFormat.match(/[gh]/)&&(t._twelveHourTime=!0),t.showOnFocus===!1&&-1!=t.showOn.indexOf("focus")&&t.showOn.splice(t.showOn.indexOf("focus"),1),t.disableTimeRanges.length>0){for(var n in t.disableTimeRanges)t.disableTimeRanges[n]=[_(t.disableTimeRanges[n][0]),_(t.disableTimeRanges[n][1])];t.disableTimeRanges=t.disableTimeRanges.sort(function(e,t){return e[0]-t[0]});for(var n=t.disableTimeRanges.length-1;n>0;n--)t.disableTimeRanges[n][0]<=t.disableTimeRanges[n-1][1]&&(t.disableTimeRanges[n-1]=[Math.min(t.disableTimeRanges[n][0],t.disableTimeRanges[n-1][0]),Math.max(t.disableTimeRanges[n][1],t.disableTimeRanges[n-1][1])],t.disableTimeRanges.splice(n,1))}return t}function n(t){var i=t.data("timepicker-settings"),n=t.data("timepicker-list");if(n&&n.length&&(n.remove(),t.data("timepicker-list",!1)),i.useSelect){n=e("<select />",{"class":"ui-timepicker-select"});var r=n}else{n=e("<ul />",{"class":"ui-timepicker-list"});var r=e("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});r.css({display:"none",position:"absolute"}).append(n)}if(i.noneOption)if(i.noneOption===!0&&(i.noneOption=i.useSelect?"Time...":"None"),e.isArray(i.noneOption)){for(var l in i.noneOption)if(parseInt(l,10)==l){var u=o(i.noneOption[l],i.useSelect);n.append(u)}}else{var u=o(i.noneOption,i.useSelect);n.append(u)}i.className&&r.addClass(i.className),null===i.minTime&&null===i.durationTime||!i.showDuration||("function"==typeof i.step?"function":i.step,r.addClass("ui-timepicker-with-duration"),r.addClass("ui-timepicker-step-"+i.step));var h=i.minTime;"function"==typeof i.durationTime?h=_(i.durationTime()):null!==i.durationTime&&(h=i.durationTime);var f=null!==i.minTime?i.minTime:0,p=null!==i.maxTime?i.maxTime:f+w-1;f>p&&(p+=w),p===w-1&&"string"===e.type(i.timeFormat)&&i.show2400&&(p=w);var m=i.disableTimeRanges,x=0,k=m.length,S=i.step;"function"!=typeof S&&(S=function(){return i.step});for(var l=f,D=0;p>=l;D++,l+=60*S(D)){var T=l,I=b(T,i);if(i.useSelect){var P=e("<option />",{value:I});P.text(I)}else{var P=e("<li />");P.addClass(w/2>T%w?"ui-timepicker-am":"ui-timepicker-pm"),P.data("time",y(T,i)),P.text(I)}if((null!==i.minTime||null!==i.durationTime)&&i.showDuration){var A=v(l-h,i.step);if(i.useSelect)P.text(P.text()+" ("+A+")");else{var M=e("<span />",{"class":"ui-timepicker-duration"});M.text(" ("+A+")"),P.append(M)}}k>x&&(T>=m[x][1]&&(x+=1),m[x]&&T>=m[x][0]&&T<m[x][1]&&(i.useSelect?P.prop("disabled",!0):P.addClass("ui-timepicker-disabled"))),n.append(P)}if(r.data("timepicker-input",t),t.data("timepicker-list",r),i.useSelect)t.val()&&n.val(s(_(t.val()),i)),n.on("focus",function(){e(this).data("timepicker-input").trigger("showTimepicker")}),n.on("blur",function(){e(this).data("timepicker-input").trigger("hideTimepicker")}),n.on("change",function(){d(t,e(this).val(),"select")}),d(t,n.val(),"initial"),t.hide().after(n);else{var E=i.appendTo;"string"==typeof E?E=e(E):"function"==typeof E&&(E=E(t)),E.append(r),c(t,n),n.on("mousedown click","li",function(){t.off("focus.timepicker"),t.on("focus.timepicker-ie-hack",function(){t.off("focus.timepicker-ie-hack"),t.on("focus.timepicker",C.show)}),a(t)||t[0].focus(),n.find("li").removeClass("ui-timepicker-selected"),e(this).addClass("ui-timepicker-selected"),g(t)&&(t.trigger("hideTimepicker"),n.on("mouseup.timepicker click.timepicker","li",function(){n.off("mouseup.timepicker click.timepicker"),r.hide()}))})}}function o(t,i){var n,o,s;return"object"==typeof t?(n=t.label,o=t.className,s=t.value):"string"==typeof t?n=t:e.error("Invalid noneOption value"),i?e("<option />",{value:s,"class":o,text:n}):e("<li />",{"class":o,text:n}).data("time",String(s))}function s(e,t){return e=t.roundingFunction(e,t),null!==e?b(e,t):void 0}function r(t){if(t.target!=window){var i=e(t.target);i.closest(".ui-timepicker-input").length||i.closest(".ui-timepicker-wrapper").length||(C.hide(),e(document).unbind(".ui-timepicker"),e(window).unbind(".ui-timepicker"))}}function a(e){var t=e.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&t.disableTouchKeyboard}function l(t,i,n){if(!n&&0!==n)return!1;var o=t.data("timepicker-settings"),s=!1,n=o.roundingFunction(n,o);return i.find("li").each(function(t,i){var o=e(i);return"number"==typeof o.data("time")&&o.data("time")==n?(s=o,!1):void 0}),s}function c(e,t){t.find("li").removeClass("ui-timepicker-selected");var i=_(h(e),e.data("timepicker-settings"));if(null!==i){var n=l(e,t,i);if(n){var o=n.offset().top-t.offset().top;(o+n.outerHeight()>t.outerHeight()||0>o)&&t.scrollTop(t.scrollTop()+n.position().top-n.outerHeight()),n.addClass("ui-timepicker-selected")}}}function u(t,i){if(""!==this.value&&"timepicker"!=i){var n=e(this);if(!n.is(":focus")||t&&"change"==t.type){var o=n.data("timepicker-settings"),s=_(this.value,o);if(null===s)return void n.trigger("timeFormatError");var r=!1;if(null!==o.minTime&&null!==o.maxTime&&(s<o.minTime||s>o.maxTime)&&(r=!0),e.each(o.disableTimeRanges,function(){return s>=this[0]&&s<this[1]?(r=!0,!1):void 0}),o.forceRoundTime){var a=o.roundingFunction(s,o);a!=s&&(s=a,i=null)}var l=b(s,o);r?(d(n,l,"error")||t&&"change"==t.type)&&n.trigger("timeRangeError"):d(n,l,i)}}}function h(e){return e.is("input")?e.val():e.data("ui-timepicker-value")}function d(e,t,i){if(e.is("input")){e.val(t);var n=e.data("timepicker-settings");n.useSelect&&"select"!=i&&"initial"!=i&&e.data("timepicker-list").val(s(_(t),n))}return e.data("ui-timepicker-value")!=t?(e.data("ui-timepicker-value",t),"select"==i?e.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):-1==["error","initial"].indexOf(i)&&e.trigger("changeTime"),!0):(e.trigger("selectTime"),!1)}function f(e){switch(e.keyCode){case 13:case 9:return;default:e.preventDefault()}}function p(i){var n=e(this),o=n.data("timepicker-list");if(!o||!t(o)){if(40!=i.keyCode)return!0;C.show.call(n.get(0)),o=n.data("timepicker-list"),a(n)||n.focus()}switch(i.keyCode){case 13:return g(n)&&(u.call(n.get(0),{type:"change"}),C.hide.apply(this)),i.preventDefault(),!1;case 38:var s=o.find(".ui-timepicker-selected");return s.length?s.is(":first-child")||(s.removeClass("ui-timepicker-selected"),s.prev().addClass("ui-timepicker-selected"),s.prev().position().top<s.outerHeight()&&o.scrollTop(o.scrollTop()-s.outerHeight())):(o.find("li").each(function(t,i){return e(i).position().top>0?(s=e(i),!1):void 0}),s.addClass("ui-timepicker-selected")),!1;case 40:return s=o.find(".ui-timepicker-selected"),0===s.length?(o.find("li").each(function(t,i){return e(i).position().top>0?(s=e(i),!1):void 0}),s.addClass("ui-timepicker-selected")):s.is(":last-child")||(s.removeClass("ui-timepicker-selected"),s.next().addClass("ui-timepicker-selected"),s.next().position().top+2*s.outerHeight()>o.outerHeight()&&o.scrollTop(o.scrollTop()+s.outerHeight())),!1;case 27:o.find("li").removeClass("ui-timepicker-selected"),C.hide();break;case 9:C.hide();break;default:return!0}}function m(i){var n=e(this),o=n.data("timepicker-list"),s=n.data("timepicker-settings");if(!o||!t(o)||s.disableTextInput)return!0;switch(i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:s.typeaheadHighlight?c(n,o):o.hide()}}function g(e){var t=e.data("timepicker-settings"),i=e.data("timepicker-list"),n=null,o=i.find(".ui-timepicker-selected");return o.hasClass("ui-timepicker-disabled")?!1:(o.length&&(n=o.data("time")),null!==n&&("string"!=typeof n&&(n=b(n,t)),d(e,n,"select")),!0)}function v(e,t){e=Math.abs(e);var i,n,o=Math.round(e/60),s=[];return 60>o?s=[o,x.mins]:(i=Math.floor(o/60),n=o%60,30==t&&30==n&&(i+=x.decimal+5),s.push(i),s.push(1==i?x.hr:x.hrs),30!=t&&n&&(s.push(n),s.push(x.mins))),s.join(" ")}function b(t,i){if("number"!=typeof t)return null;var n=parseInt(t%60),o=parseInt(t/60%60),s=parseInt(t/3600%24),r=new Date(1970,0,2,s,o,n,0);if(isNaN(r.getTime()))return null;if("function"===e.type(i.timeFormat))return i.timeFormat(r);for(var a,l,c="",u=0;u<i.timeFormat.length;u++)switch(l=i.timeFormat.charAt(u)){case"a":c+=r.getHours()>11?x.pm:x.am;break;case"A":c+=r.getHours()>11?x.PM:x.AM;break;case"g":a=r.getHours()%12,c+=0===a?"12":a;break;case"G":a=r.getHours(),t===w&&(a=i.show2400?24:0),c+=a;break;case"h":a=r.getHours()%12,0!==a&&10>a&&(a="0"+a),c+=0===a?"12":a;break;case"H":a=r.getHours(),t===w&&(a=i.show2400?24:0),c+=a>9?a:"0"+a;break;case"i":var o=r.getMinutes();c+=o>9?o:"0"+o;break;case"s":n=r.getSeconds(),c+=n>9?n:"0"+n;break;case"\\":u++,c+=i.timeFormat.charAt(u);break;default:c+=l}return c}function _(e,t){if(""===e||null===e)return null;if("object"==typeof e)return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds();if("string"!=typeof e)return e;e=e.toLowerCase().replace(/[\s\.]/g,""),("a"==e.slice(-1)||"p"==e.slice(-1))&&(e+="m");var i="("+x.am.replace(".","")+"|"+x.pm.replace(".","")+"|"+x.AM.replace(".","")+"|"+x.PM.replace(".","")+")?",n=new RegExp("^"+i+"([0-9]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?"+i+"$"),o=e.match(n);if(!o)return null;var s=parseInt(1*o[2],10);if(s>24){if(t&&t.wrapHours===!1)return null;s%=24}var r=o[1]||o[5],a=s;if(12>=s&&r){var l=r==x.pm||r==x.PM;a=12==s?l?12:0:s+(l?12:0)}var c=1*o[3]||0,u=1*o[4]||0,h=3600*a+60*c+u;if(12>s&&!r&&t&&t._twelveHourTime&&t.scrollDefault){var d=h-t.scrollDefault();0>d&&d>=w/-2&&(h=(h+w/2)%w)}return h}function y(e,t){return e==w&&t.show2400?e:e%w}var w=86400,x={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},k={appendTo:"body",className:null,closeOnWindowScroll:!1,disableTextInput:!1,disableTimeRanges:[],disableTouchKeyboard:!1,durationTime:null,forceRoundTime:!1,maxTime:null,minTime:null,noneOption:!1,orientation:"l",roundingFunction:function(e,t){if(null===e)return null;if("number"!=typeof t.step)return e;var i=e%(60*t.step),n=t.minTime||0;return i-=n%(60*t.step),i>=30*t.step?e+=60*t.step-i:e-=i,y(e,t)},scrollDefault:null,selectOnBlur:!1,show2400:!1,showDuration:!1,showOn:["click","focus"],showOnFocus:!0,step:30,stopScrollPropagation:!1,timeFormat:"g:ia",typeaheadHighlight:!0,useSelect:!1,wrapHours:!0},C={init:function(t){return this.each(function(){var o=e(this),s=[];for(var r in k)o.data(r)&&(s[r]=o.data(r));var a=e.extend({},k,t,s);if(a.lang&&(x=e.extend(x,a.lang)),a=i(a),o.data("timepicker-settings",a),o.addClass("ui-timepicker-input"),a.useSelect)n(o);else{if(o.prop("autocomplete","off"),a.showOn)for(var l in a.showOn)o.on(a.showOn[l]+".timepicker",C.show);o.on("change.timepicker",u),o.on("keydown.timepicker",p),o.on("keyup.timepicker",m),a.disableTextInput&&o.on("keydown.timepicker",f),u.call(o.get(0),null,"initial")}})},show:function(i){var o=e(this),s=o.data("timepicker-settings");if(i&&i.preventDefault(),s.useSelect)return void o.data("timepicker-list").focus();a(o)&&o.blur();var u=o.data("timepicker-list");if(!o.prop("readonly")&&(u&&0!==u.length&&"function"!=typeof s.durationTime||(n(o),u=o.data("timepicker-list")),!t(u))){o.data("ui-timepicker-value",o.val()),c(o,u),C.hide(),u.show();var d={};d.left=s.orientation.match(/r/)?o.offset().left+o.outerWidth()-u.outerWidth()+parseInt(u.css("marginLeft").replace("px",""),10):o.offset().left+parseInt(u.css("marginLeft").replace("px",""),10);var f;f=s.orientation.match(/t/)?"t":s.orientation.match(/b/)?"b":o.offset().top+o.outerHeight(!0)+u.outerHeight()>e(window).height()+e(window).scrollTop()?"t":"b","t"==f?(u.addClass("ui-timepicker-positioned-top"),d.top=o.offset().top-u.outerHeight()+parseInt(u.css("marginTop").replace("px",""),10)):(u.removeClass("ui-timepicker-positioned-top"),d.top=o.offset().top+o.outerHeight()+parseInt(u.css("marginTop").replace("px",""),10)),u.offset(d);var p=u.find(".ui-timepicker-selected");if(!p.length){var m=_(h(o));null!==m?p=l(o,u,m):s.scrollDefault&&(p=l(o,u,s.scrollDefault()))}if(p&&p.length){var g=u.scrollTop()+p.position().top-p.outerHeight();u.scrollTop(g)}else u.scrollTop(0);return s.stopScrollPropagation&&e(document).on("wheel.ui-timepicker",".ui-timepicker-wrapper",function(t){t.preventDefault();var i=e(this).scrollTop();e(this).scrollTop(i+t.originalEvent.deltaY)}),e(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",r),e(window).on("resize.ui-timepicker",r),s.closeOnWindowScroll&&e(document).on("scroll.ui-timepicker",r),o.trigger("showTimepicker"),this
}},hide:function(){var i=e(this),n=i.data("timepicker-settings");return n&&n.useSelect&&i.blur(),e(".ui-timepicker-wrapper").each(function(){var i=e(this);if(t(i)){var n=i.data("timepicker-input"),o=n.data("timepicker-settings");o&&o.selectOnBlur&&g(n),i.hide(),n.trigger("hideTimepicker")}}),this},option:function(t,o){return"string"==typeof t&&"undefined"==typeof o?e(this).data("timepicker-settings")[t]:this.each(function(){var s=e(this),r=s.data("timepicker-settings"),a=s.data("timepicker-list");"object"==typeof t?r=e.extend(r,t):"string"==typeof t&&(r[t]=o),r=i(r),s.data("timepicker-settings",r),u.call(s.get(0),{type:"change"},"initial"),a&&(a.remove(),s.data("timepicker-list",!1)),r.useSelect&&n(s)})},getSecondsFromMidnight:function(){return _(h(this))},getTime:function(e){var t=this,i=h(t);if(!i)return null;var n=_(i);if(null===n)return null;e||(e=new Date);var o=new Date(e);return o.setHours(n/3600),o.setMinutes(n%3600/60),o.setSeconds(n%60),o.setMilliseconds(0),o},isVisible:function(){var e=this,i=e.data("timepicker-list");return!(!i||!t(i))},setTime:function(e){var t=this,i=t.data("timepicker-settings");if(i.forceRoundTime)var n=s(_(e),i);else var n=b(_(e),i);return e&&null===n&&i.noneOption&&(n=e),d(t,n),t.data("timepicker-list")&&c(t,t.data("timepicker-list")),this},remove:function(){var e=this;if(e.hasClass("ui-timepicker-input")){var t=e.data("timepicker-settings");return e.removeAttr("autocomplete","off"),e.removeClass("ui-timepicker-input"),e.removeData("timepicker-settings"),e.off(".timepicker"),e.data("timepicker-list")&&e.data("timepicker-list").remove(),t.useSelect&&e.show(),e.removeData("timepicker-list"),this}}};e.fn.timepicker=function(t){return this.length?C[t]?this.hasClass("ui-timepicker-input")?C[t].apply(this,Array.prototype.slice.call(arguments,1)):this:"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.timepicker"):C.init.apply(this,arguments):this}});