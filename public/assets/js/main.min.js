$(document).ready(function(){$(".datepicker").inputmask("d/m/y",{placeholder:"dd/mm/aaaa"}),$(".monthPicker").inputmask("m/y",{placeholder:"mm/aaaa"}),$(".cpfMask").inputmask({mask:"999.999.999-99",placeholder:" "}),$(".cnpjMask").inputmask({mask:"99.999.999/9999-99",placeholder:" "}),$(".cepMask").inputmask({mask:"99999-999",placeholder:" "}),$(".naturezaMask").inputmask({mask:"999-9",placeholder:" "}),$(".cnaeMask").inputmask({mask:"9999-9/99",placeholder:" "}),$(".telefone").inputmask({mask:"(##) ####[#]-####",placeholder:" "}).focusout(function(e){var t,a,o;t=e.currentTarget?e.currentTarget:e.srcElement,a=t.value.replace(/\D/g,""),o=$(t),o.inputmask("remove"),o.inputmask(a.length>10?{mask:"(##) ####[#]-####",placeholder:" "}:{mask:"(##) ####-[#]####",placeholder:" "})}),$(".emailMask").inputmask({mask:"*{1,20}[.*{1,20}][.*{1,20}][.*{1,20}]@*{1,20}[.*{2,6}][.*{1,2}]",greedy:!1,placeholder:" ",onBeforePaste:function(e){return e=e.toLowerCase(),e.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}}})}),$(document).ready(function(){$(".chosen").data({placeholder:"",autocomplete:"on"}).chosen({disable_search_threshold:10}),$(".textareaEdit").summernote({lang:"pt-BR",height:150,codemirror:{theme:"monokai"},toolbar:[["style",["bold","italic","underline","clear"]],["font",["strikethrough","superscript","subscript"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]]]}),$(".datepicker").datepicker({dateFormat:"dd/mm/yy",changeMonth:!0,changeYear:!0,yearRange:"c-40:c+10",showOtherMonths:!0,selectOtherMonths:!0,showButtonPanel:!0,closeText:"OK",currentText:"Hoje",dayNames:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado","Domingo"],dayNamesMin:["D","S","T","Q","Q","S","S","D"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}),$(".monthPicker").MonthPicker({ShowIcon:!1,option:"Animation",i18n:{year:"Ano",prevYear:"Ano Anterior",nextYear:"Próximo Ano",next12Years:"Pular 12 Anos Acima",prev12Years:"Pular 12 Anos Atrás",nextLabel:"Próximo",prevLabel:"Anterior",buttonText:"Escolha o mês",jumpYears:"Pular Anos",backTo:"Voltar para",months:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"]}}),$(".formatMoney").priceFormat({prefix:"R$ ",centsSeparator:",",thousandsSeparator:"."}),$(".onlyFloat").priceFormat({prefix:"",centsSeparator:",",thousandsSeparator:""}),$(".onlyFloatWithDot").priceFormat({prefix:"",centsSeparator:",",thousandsSeparator:"."}),$(".onlyNumber").bind("keypress",function(){var t=window.event?event.keyCode:e.which;return t>47&&58>t?!0:8==t||0==t?!0:!1}),$(".timePicker").timepicker({timeFormat:"H:i"})}),$(document).ready(function(){$(".tooltips").tooltip(),$(".grid-isotope").isotope({itemSelector:".grid-item",masonry:{columnWidth:".grid-item"}}),$(".datatable").bootgrid({caseSensitive:!1,searchSettings:{delay:100},rowCount:[10,25,50,100,500,-1],multiSort:!0,labels:{all:"Todos",infos:"Exibindo {{ctx.start}} até {{ctx.end}} de {{ctx.total}} registros",loading:"Carregando...",noResults:"Nenhum resultado encontrado!",refresh:"Recarregar",search:"Busca"},formatters:{commands:function(e,t){return'<button type="button" class="btn waves-effect bgm-amber tooltips" onclick="editItem(\''+t.commands+"/edit/', "+t.id+')" title="Editar" data-row-id='+t.id+'"><span class="zmdi zmdi-edit"></span></button> <button type="button" class="btn waves-effect bgm-red tooltips" onclick="deleteItem(\''+t.commands+"/delete/', "+t.id+')" title="Deletar" data-row-id="'+t.id+'"><span class="zmdi zmdi-delete"></span></button>'},commands2:function(e,t){var a='<button type="button" class="btn waves-effect bgm-amber tooltips" onclick="editItem(\''+t.commands+"/edit/', "+t.sequence+')" title="Editar" data-row-id='+t.sequence+'"><span class="zmdi zmdi-edit"></span></button> ',o='<a href="/downloads/coleta_rescisao/'+t.sequence+"/"+t.sequence+'.pdf" class="btn waves-effect bgm-cyan tooltips" title="Visualizar" target="_new"><span class="glyphicon glyphicon-eye-open"></span></a> ',n='<button type="button" class="btn waves-effect bgm-green tooltips" onclick="enviarRequisicao(\''+t.sequence+'\')" title="Enviar"><span class="glyphicon glyphicon-send"></span></button>';return"Aberto"==t.status.trim()?a+n:o},commands3:function(e,t){var a='<button type="button" class="btn waves-effect bgm-green tooltips" onclick="editItem(\''+t.commands+"/close/', "+t.id+')" title="Encerrar"><span class="zmdi zmdi-close"></span></button>',o='<button type="button" class="btn waves-effect bgm-red tooltips" onclick="deleteItem(\''+t.commands+"/delete/', "+t.id+')" title="Deletar" data-row-id="'+t.id+'"><span class="zmdi zmdi-delete"></span></button>';return"Aberto"==t.status.trim()?a+o:o},icon:function(e,t){return'<span class="f-20"><i class="'+t.icon+'"></i></span>'},linkOtrs:function(e,t){var a=t.Chamado.split("|");return'<a href="http://otrs.grupompe.com.br/otrs/index.pl?Action=AgentTicketZoom;TicketID='+a[0]+'" target="_new">'+a[1]+"</a>"},link:function(e,t){var a=t.link.split("|");return'<a href="'+a[0]+'" target="_new">'+a[1]+"</a>"}}}),$(".datatable2").dataTable({aLengthMenu:[[10,25,50,75,100,-1],[10,25,50,75,100,"All"]],iDisplayLength:100}),$(".datatable2").tablecloth({theme:"stats",bordered:!0,condensed:!0,striped:!0,sortable:!0,clean:!0,cleanElements:"th td",customClass:"table table-hover"}),$(".lc-block.valid-block li[data-block]").bind("click",function(){var e=$(this).parents(".lc-block").find("input:not(input[type=hidden])").val();return""!=e?($(this).parents(".lc-block").find("button[type=submit]").addClass("pulse"),setTimeout(function(){$(".pulse").removeClass("pulse")},9999),!1):void 0}),$(".fileUpload").fileinput({language:"pt-BR",previewFileType:"any",allowedFileTypes:["jpg","jpeg","png","gif","pdf","doc","docx","txt","zip","rar","gz","tgz"],previewClass:"bg-default",showUpload:!1,maxFileSize:15360,maxFilePreviewSize:15360,overwriteInitial:!1}),overlay(!1)});var overlay=function(e){e?$("#overlay").fadeIn("slow"):$("#overlay").fadeOut("slow")},deleteItem=function(e,t){swal({title:"Você está certo disso?",text:"Realmente deseja deletar este registro?",type:"warning",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Sim, tenho certeza!",cancelButtonText:"Não delete isso",closeOnConfirm:!1,closeOnCancel:!1},function(a){if(a){var o=$.ajax({method:"POST",url:e,data:{id:t}});o.success(function(e){"ok"==e?swal({title:"Deletado!",text:"O registro foi deletado com sucesso!!!",type:"success"},function(t){t?(overlay(!0),location.reload()):swal("Errors",e,"error")}):$("#errors").html(e)}),o.fail(function(e){$("#errors").html(e)})}else swal("Cancelado","Registro a salvo :-)","error")})},editItem=function(e,t){overlay(!0),window.location.href=e+t};